export default {
  "node_modules/@btc-vision/as-bignum/assembly/fixed/fp128.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gJy4uL2ludGVnZXIvaTEyOCc7DQppbXBvcnQgeyB1MTI4IH0gZnJvbSAnLi4vaW50ZWdlci91MTI4JzsNCg0KLy8gU3VwcG9ydCBvbmx5IHRoaXMgZnJhY3Rpb25zOg0KLy8gZnAxMjg8dTg+ICAgPT4gICA4IGJpdHMgKH4gMiAgZGVjaW1hbCBkaWdpdHMpDQovLyBmcDEyODx1MTY+ICA9PiAgMTYgYml0cyAofiA0ICBkZWNpbWFsIGRpZ2l0cykNCi8vIGZwMTI4PHUyND4gID0+ICAyNCBiaXRzICh+IDcgIGRlY2ltYWwgZGlnaXRzKQ0KLy8gZnAxMjg8dTMyPiAgPT4gIDMyIGJpdHMgKH4gOSAgZGVjaW1hbCBkaWdpdHMpDQovLyBmcDEyODx1NDA+ICA9PiAgNDAgYml0cyAofiAxMiBkZWNpbWFsIGRpZ2l0cykNCi8vIGZwMTI4PHU0OD4gID0+ICA0OCBiaXRzICh+IDE0IGRlY2ltYWwgZGlnaXRzKQ0KLy8gZnAxMjg8dTU2PiAgPT4gIDU2IGJpdHMgKH4gMTYgZGVjaW1hbCBkaWdpdHMpDQovLyBmcDEyODx1NjQ+ICA9PiAgNjQgYml0cyAofiAxOSBkZWNpbWFsIGRpZ2l0cykNCi8vIGZwMTI4PHU3Mj4gID0+ICA3MiBiaXRzICh+IDIxIGRlY2ltYWwgZGlnaXRzKQ0KLy8gZnAxMjg8dTgwPiAgPT4gIDgwIGJpdHMgKH4gMjQgZGVjaW1hbCBkaWdpdHMpDQovLyBmcDEyODx1ODg+ICA9PiAgODggYml0cyAofiAyNiBkZWNpbWFsIGRpZ2l0cykNCi8vIGZwMTI4PHU5Nj4gID0+ICA5NiBiaXRzICh+IDI4IGRlY2ltYWwgZGlnaXRzKQ0KLy8gZnAxMjg8dTEwND4gPT4gMTA0IGJpdHMgKH4gMzEgZGVjaW1hbCBkaWdpdHMpDQovLyBmcDEyODx1MTEyPiA9PiAxMTIgYml0cyAofiAzMyBkZWNpbWFsIGRpZ2l0cykNCi8vIGZwMTI4PHUxMjA+ID0+IDEyMCBiaXRzICh+IDM2IGRlY2ltYWwgZGlnaXRzKQ0KDQpleHBvcnQgY2xhc3MgZnAxMjg8UT4gew0KDQogIHN0YXRpYyByZWFkb25seSBaZXJvOiBmcDEyODxRPiA9IG5ldyBmcDEyODxRPigwKTsNCiAgc3RhdGljIHJlYWRvbmx5IE9uZTogZnAxMjg8UT4gPSBuZXcgZnAxMjg8UT4oMSk7DQoNCiAgcHJvdGVjdGVkIHZhbHVlOiBpMTI4ID0gaTEyOC5aZXJvOw0KDQogIGNvbnN0cnVjdG9yKGxvOiB1NjQgPSAwLCBoaTogaTY0ID0gMCkgew0KICAgIHRoaXMudmFsdWUubG8gPSBsbzsNCiAgICB0aGlzLnZhbHVlLmhpID0gaGk7DQogIH0NCg0KICBAaW5saW5lDQogIGdldCBpbnRCaXRzKCk6IGkzMiB7DQogICAgcmV0dXJuIDEyOCAtIHRoaXMuZnJhY3RCaXRzOw0KICB9DQoNCiAgQGlubGluZQ0KICBnZXQgZnJhY3RCaXRzKCk6IGkzMiB7DQogICAgaWYgKGlzUmVmZXJlbmNlPFE+KCkpIHsNCiAgICAgIHJldHVybiA4ICogb2Zmc2V0b2Y8UT4oKTsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIDggKiBzaXplb2Y8UT4oKTsNCiAgICB9DQogIH0NCg0KICBAaW5saW5lDQogIGdldCBpbnQoKTogaTEyOCB7DQogICAgcmV0dXJuIHRoaXMudmFsdWUgPj4+IHRoaXMuZnJhY3RCaXRzOw0KICB9DQoNCiAgQGlubGluZQ0KICBnZXQgZnJhY3QoKTogdTEyOCB7DQogICAgcmV0dXJuIChjaGFnZXR5cGU8dTEyOD4odGhpcy52YWx1ZSkpIDw8IHRoaXMuaW50Qml0czsNCiAgfQ0KDQogIC8vIFRPRE8NCn0NCg==",
  "node_modules/@btc-vision/as-bignum/assembly/fixed/fp256.ts": "aW1wb3J0IHsgaTI1NiB9IGZyb20gJy4uL2ludGVnZXIvaTI1Nic7DQoNCmV4cG9ydCBjbGFzcyBmcDI1NjxRPiB7DQoNCiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBpMjU2ID0gaTI1Ni5aZXJvKSB7DQogIH0NCg0KICAvLyBUT0RPDQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/fixed/index.ts": "aW1wb3J0IHsgdTEyOCB9IGZyb20gIi4uL2ludGVnZXIvdTEyOCI7DQppbXBvcnQgeyBmcDEyOCB9IGZyb20gIi4vZnAxMjgiOw0KaW1wb3J0IHsgZnAyNTYgfSBmcm9tICIuL2ZwMjU2IjsNCmltcG9ydCB7IHUxMDQsIHUxMTIsIHUxMjAsIHUxMzYsIHUxNDQsIHUxNTIsIHUxNjAsIHUyNCwgdTQwLCB1NDgsIHU1NiwgdTcyLCB1ODAsIHU4OCwgdTk2LCB9IGZyb20gJy4vdHlwZXMnOw0KDQpleHBvcnQgdHlwZSBmcDEyOHg4ID0gZnAxMjg8dTg+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4MTYgPSBmcDEyODx1MTY+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4MjQgPSBmcDEyODx1MjQ+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4MzIgPSBmcDEyODx1MzI+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4NDAgPSBmcDEyODx1NDA+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4NDggPSBmcDEyODx1NDg+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4NTYgPSBmcDEyODx1NTY+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4NjQgPSBmcDEyODx1NjQ+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4NzIgPSBmcDEyODx1NzI+Ow0KZXhwb3J0IHR5cGUgZnAxMjh4ODAgPSBmcDEyODx1ODA+Ow0KDQpleHBvcnQgdHlwZSBmcDI1Nng4ID0gZnAyNTY8dTg+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MTYgPSBmcDI1Njx1MTY+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MjQgPSBmcDI1Njx1MjQ+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MzIgPSBmcDI1Njx1MzI+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4NDAgPSBmcDI1Njx1NDA+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4NDggPSBmcDI1Njx1NDg+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4NTYgPSBmcDI1Njx1NTY+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4NjQgPSBmcDI1Njx1NjQ+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4NzIgPSBmcDI1Njx1NzI+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4ODAgPSBmcDI1Njx1ODA+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4ODggPSBmcDI1Njx1ODg+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4OTYgPSBmcDI1Njx1OTY+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MTA0ID0gZnAyNTY8dTEwND47DQpleHBvcnQgdHlwZSBmcDI1NngxMTIgPSBmcDI1Njx1MTEyPjsNCmV4cG9ydCB0eXBlIGZwMjU2eDEyMCA9IGZwMjU2PHUxMjA+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MTI4ID0gZnAyNTY8dTEyOD47DQpleHBvcnQgdHlwZSBmcDI1NngxMzYgPSBmcDI1Njx1MTM2PjsNCmV4cG9ydCB0eXBlIGZwMjU2eDE0NCA9IGZwMjU2PHUxNDQ+Ow0KZXhwb3J0IHR5cGUgZnAyNTZ4MTUyID0gZnAyNTY8dTE1Mj47DQpleHBvcnQgdHlwZSBmcDI1NngxNjAgPSBmcDI1Njx1MTYwPjsNCg0KZXhwb3J0IHsgZnAxMjgsIGZwMjU2IH07DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/fixed/safe/fp128.ts": "ZXhwb3J0IG5hbWVzcGFjZSBzYWZlIHsNCiAgLy8gVE9ETw0KfQ0K",
  "node_modules/@btc-vision/as-bignum/assembly/fixed/safe/fp256.ts": "ZXhwb3J0IG5hbWVzcGFjZSBzYWZlIHsNCiAgLy8gVE9ETw0KfQ0K",
  "node_modules/@btc-vision/as-bignum/assembly/fixed/types.ts": "Ly8gdTgNCi8vIHUxNg0KDQpleHBvcnQgY2xhc3MgdTI0IHsNCiAgcHJpdmF0ZSBfMDogdTE2DQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCi8vIHUzMg0KDQpleHBvcnQgY2xhc3MgdTQwIHsNCiAgcHJpdmF0ZSBfMDogdTMyDQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCmV4cG9ydCBjbGFzcyB1NDggew0KICBwcml2YXRlIF8wOiB1MzINCiAgcHJpdmF0ZSBfMTogdTE2DQp9DQoNCmV4cG9ydCBjbGFzcyB1NTYgew0KICBwcml2YXRlIF8wOiB1MzINCiAgcHJpdmF0ZSBfMTogdTI0DQp9DQoNCi8vIHU2NA0KDQpleHBvcnQgY2xhc3MgdTcyIHsNCiAgcHJpdmF0ZSBfMDogdTY0DQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCmV4cG9ydCBjbGFzcyB1ODAgew0KICBwcml2YXRlIF8wOiB1NjQNCiAgcHJpdmF0ZSBfMTogdTE2DQp9DQoNCmV4cG9ydCBjbGFzcyB1ODggew0KICBwcml2YXRlIF8wOiB1NjQNCiAgcHJpdmF0ZSBfMTogdTI0DQp9DQoNCmV4cG9ydCBjbGFzcyB1OTYgew0KICBwcml2YXRlIF8wOiB1NjQNCiAgcHJpdmF0ZSBfMTogdTMyDQp9DQoNCmV4cG9ydCBjbGFzcyB1MTA0IHsNCiAgcHJpdmF0ZSBfMDogdTY0DQogIHByaXZhdGUgXzE6IHU0MA0KfQ0KDQpleHBvcnQgY2xhc3MgdTExMiB7DQogIHByaXZhdGUgXzA6IHU2NA0KICBwcml2YXRlIF8xOiB1NDgNCn0NCg0KZXhwb3J0IGNsYXNzIHUxMjAgew0KICBwcml2YXRlIF8wOiB1MTEyDQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCi8vIHUxMjgNCg0KZXhwb3J0IGNsYXNzIHUxMzYgew0KICBwcml2YXRlIF8wOiB1MTIwDQogIHByaXZhdGUgXzE6IHUxNg0KfQ0KDQpleHBvcnQgY2xhc3MgdTE0NCB7DQogIHByaXZhdGUgXzA6IHUxMzYNCiAgcHJpdmF0ZSBfMTogdTgNCn0NCg0KZXhwb3J0IGNsYXNzIHUxNTIgew0KICBwcml2YXRlIF8wOiB1MTQ0DQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCmV4cG9ydCBjbGFzcyB1MTYwIHsNCiAgcHJpdmF0ZSBfMDogdTE1Mg0KICBwcml2YXRlIF8xOiB1OA0KfQ0KDQpleHBvcnQgY2xhc3MgdTE2OCB7DQogIHByaXZhdGUgXzA6IHUxNjANCiAgcHJpdmF0ZSBfMTogdTgNCn0NCg0KZXhwb3J0IGNsYXNzIHUxNzYgew0KICBwcml2YXRlIF8wOiB1MTY4DQogIHByaXZhdGUgXzE6IHU4DQp9DQoNCmV4cG9ydCBjbGFzcyB1MTg0IHsNCiAgcHJpdmF0ZSBfMDogdTE3Ng0KICBwcml2YXRlIF8xOiB1OA0KfQ0KDQpleHBvcnQgY2xhc3MgdTE5MiB7DQogIHByaXZhdGUgXzA6IHUxODQNCiAgcHJpdmF0ZSBfMTogdTgNCn0NCg==",
  "node_modules/@btc-vision/as-bignum/assembly/globals.ts": "aW1wb3J0IHsgdTEyOCwgdTI1NiB9IGZyb20gJy4vaW50ZWdlcic7DQoNCi8vIHVzZWQgZm9yIHJldHVybmluZyBxdW90aWVudCBhbmQgcmVtaW5kZXIgZnJvbSBfX2Rpdm1vZDEyOA0KQGxhenkgZXhwb3J0IHZhciBfX2Rpdm1vZF9xdW90X2hpOiB1NjQgPSAwOw0KQGxhenkgZXhwb3J0IHZhciBfX2Rpdm1vZF9yZW1fbG86IHU2NCA9IDA7DQpAbGF6eSBleHBvcnQgdmFyIF9fZGl2bW9kX3JlbV9oaTogdTY0ID0gMDsNCg0KLy8gdXNlZCBmb3IgcmV0dXJuaW5nIGxvdyBhbmQgaGlnaCBwYXJ0IG9mIF9fbXVscTY0LCBfX211bHRpMyBldGMNCkBsYXp5IGV4cG9ydCB2YXIgX19yZXMxMjhfaGk6IHU2NCA9IDA7DQoNCi8vIHVzZWQgZm9yIHJldHVybmluZyAwIG9yIDENCkBsYXp5IGV4cG9ydCB2YXIgX19jYXJyeTogdTY0ID0gMDsNCkBsYXp5IGV4cG9ydCB2YXIgX191MjU2Y2Fycnk6IHU2NCA9IDA7DQpAbGF6eSBleHBvcnQgdmFyIF9fdTI1NmNhcnJ5U3ViOiB1NjQgPSAwOw0KDQovKioNCiAqIENvbnZlcnQgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIHRvIDY0LWJpdCBmbG9hdA0KICogQHBhcmFtICBsbyBsb3dlciAgNjQtYml0IHBhcnQgb2YgdW5zaWduZWQgMTI4LWJpdCBpbnRlZ2VyDQogKiBAcGFyYW0gIGhpIGhpZ2hlciA2NC1iaXQgcGFydCBvZiB1bnNpZ25lZCAxMjgtYml0IGludGVnZXINCiAqIEByZXR1cm4gICAgNjQtYml0IGZsb2F0IHJlc3VsdA0KICovDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBnbG9iYWwNCmV4cG9ydCBmdW5jdGlvbiBfX2Zsb2F0dW50aWRmKGxvOiB1NjQsIGhpOiB1NjQpOiBmNjQgew0KICAvLyBfX2Zsb2F0dW50aWRmIHBvcnRlZCBmcm9tIExMVk0gc291cmNlcw0KICBpZiAoIShsbyB8IGhpKSkgcmV0dXJuIDAuMDsNCg0KICB2YXIgdiA9IG5ldyB1MTI4KGxvLCBoaSk7DQogIHZhciBzZCA9IDEyOCAtIF9fY2x6MTI4KGxvLCBoaSk7DQogIHZhciBlID0gc2QgLSAxOw0KDQogIGlmIChzZCA+IDUzKSB7DQogICAgaWYgKHNkICE9IDU1KSB7DQogICAgICBpZiAoc2QgPT0gNTQpIHsNCiAgICAgICAgdiA9IHUxMjguc2hsKHYsIDEpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdiA9IHUxMjgub3IoDQogICAgICAgICAgdTEyOC5zaHIodiwgc2QgLSA1NSksDQogICAgICAgICAgdTEyOC5mcm9tQm9vbCh1MTI4LmFuZCh2LCB1MTI4LnNocih1MTI4Lk1heCwgMTI4ICsgNTUgLSBzZCkpLnRvQm9vbCgpKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIHYubG8gfD0gKHYubG8gJiA0KSA+PiAyOw0KICAgIHYucHJlSW5jKCk7DQoNCiAgICB2ID0gdTEyOC5zaHIodiwgMik7DQoNCiAgICBpZiAodi5sbyAmICgxIDw8IDUzKSkgew0KICAgICAgdiA9IHUxMjguc2hyKHYsIDEpOw0KICAgICAgKytlOw0KICAgIH0NCg0KICB9IGVsc2Ugew0KICAgIHYgPSB1MTI4LnNobCh2LCA1MyAtIHNkKTsNCiAgfQ0KDQogIHZhciB3OiB1NjQgPSB1MTI4LnNocih2LCAzMikubG8gJiAweDAwMEZGRkZGOw0KICB2YXIgdTogdTY0ID0gPHU2ND4oKChlICsgMTAyMykgPDwgMjApIHwgdykgPDwgMzI7DQogIHJldHVybiByZWludGVycHJldDxmNjQ+KHUgfCAodi5sbyAmIDB4RkZGRkZGRkYpKTsNCn0NCg0KDQovKioNCiAqIEFkZHMgdHdvIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VycyBgYWAgYW5kIGBiYCBhbG9uZyB3aXRoIGEgY2FycnktaW4gdmFsdWUuDQogKiBTZXRzIHRoZSBnbG9iYWwgYF9fY2FycnkyYCB2YXJpYWJsZSB0byBpbmRpY2F0ZSB3aGV0aGVyIGFuIG92ZXJmbG93IG9jY3VycmVkLg0KICogQHBhcmFtIHt1NjR9IGEgLSBUaGUgZmlyc3QgNjQtYml0IHVuc2lnbmVkIGludGVnZXIuDQogKiBAcGFyYW0ge3U2NH0gYiAtIFRoZSBzZWNvbmQgNjQtYml0IHVuc2lnbmVkIGludGVnZXIuDQogKiBAcGFyYW0ge3U2NH0gY2FycnlJbiAtIENhcnJ5LWluIHZhbHVlICgwIG9yIDEpLg0KICogQHJldHVybnMge3U2NH0gLSBUaGUgNjQtYml0IHJlc3VsdCBvZiB0aGUgYWRkaXRpb24uDQogKi8NCkBpbmxpbmUNCmV4cG9ydCBmdW5jdGlvbiBhZGQ2NExvY2FsKGE6IHU2NCwgYjogdTY0LCBjYXJyeUluOiB1NjQpOiB1NjQgew0KICBsZXQgdG1wID0gYSArIGNhcnJ5SW47DQogIGxldCBjYXJyeSA9IHRtcCA8IGEgPyAxIDogMDsNCiAgbGV0IHN1bSA9IHRtcCArIGI7DQogIGNhcnJ5ICs9IHN1bSA8IHRtcCA/IDEgOiAwOw0KICBfX3UyNTZjYXJyeSA9IGNhcnJ5Ow0KICByZXR1cm4gc3VtOw0KfQ0KDQovKioNCiAqIFN1YnRyYWN0cyB0aGUgNjQtYml0IHVuc2lnbmVkIGludGVnZXIgYGJgIGZyb20gYGFgIGFsb25nIHdpdGggYSBib3Jyb3ctaW4gdmFsdWUuDQogKiBTZXRzIHRoZSBnbG9iYWwgYF9fY2FycnkyYCB2YXJpYWJsZSB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgYm9ycm93IG9jY3VycmVkLg0KICogQHBhcmFtIHt1NjR9IGEgLSBUaGUgbWludWVuZCAoNjQtYml0IHVuc2lnbmVkIGludGVnZXIpLg0KICogQHBhcmFtIHt1NjR9IGIgLSBUaGUgc3VidHJhaGVuZCAoNjQtYml0IHVuc2lnbmVkIGludGVnZXIpLg0KICogQHBhcmFtIHt1NjR9IGJvcnJvd0luIC0gQm9ycm93LWluIHZhbHVlICgwIG9yIDEpLg0KICogQHJldHVybnMge3U2NH0gLSBUaGUgNjQtYml0IHJlc3VsdCBvZiB0aGUgc3VidHJhY3Rpb24uDQogKi8NCkBpbmxpbmUNCmV4cG9ydCBmdW5jdGlvbiBzdWI2NChhOiB1NjQsIGI6IHU2NCwgYm9ycm93SW46IHU2NCk6IHU2NCB7DQogIGxldCB0bXAgPSBhIC0gYjsNCiAgbGV0IGJvcnJvdyA9IHRtcCA+IGEgPyAxIDogMDsNCiAgbGV0IGRpZmYgPSB0bXAgLSBib3Jyb3dJbjsNCiAgYm9ycm93ICs9IGRpZmYgPiB0bXAgPyAxIDogMDsNCiAgX191MjU2Y2FycnlTdWIgPSBib3Jyb3c7DQogIHJldHVybiBkaWZmOw0KfQ0KDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBnbG9iYWwNCmV4cG9ydCBmdW5jdGlvbiBfX3VtdWxoNjQoYTogdTY0LCBiOiB1NjQpOiB1NjQgew0KICB2YXIgdSA9IGEgJiAweEZGRkZGRkZGOw0KICBhID4+PSAzMjsNCiAgdmFyIHYgPSBiICYgMHhGRkZGRkZGRjsNCiAgYiA+Pj0gMzI7DQoNCiAgdmFyIHV2ID0gdSAqIHY7DQogIHV2ID0gYSAqIHYgKyAodXYgPj4gMzIpOw0KICB2YXIgdzAgPSAodSAqIGIpICsgKHV2ICYgMHhGRkZGRkZGRik7DQogIHJldHVybiBhICogYiArICh1diA+PiAzMikgKyAodzAgPj4gMzIpOw0KfQ0KDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBnbG9iYWwNCmV4cG9ydCBmdW5jdGlvbiBfX3VtdWxxNjQoYTogdTY0LCBiOiB1NjQpOiB1NjQgew0KICB2YXIgdSA9IGEgJiAweEZGRkZGRkZGOw0KICBhID4+PSAzMjsNCiAgdmFyIHYgPSBiICYgMHhGRkZGRkZGRjsNCiAgYiA+Pj0gMzI7DQoNCiAgdmFyIHV2ID0gdSAqIHY7DQogIHZhciB3MCA9IHV2ICYgMHhGRkZGRkZGRjsNCiAgdXYgPSBhICogdiArICh1diA+Pj4gMzIpOw0KICB2YXIgdzEgPSB1diA+Pj4gMzI7DQogIHV2ID0gdSAqIGIgKyAodXYgJiAweEZGRkZGRkZGKTsNCg0KICBfX3JlczEyOF9oaSA9IGEgKiBiICsgdzEgKyAodXYgPj4+IDMyKTsNCiAgcmV0dXJuICh1diA8PCAzMikgfCB3MDsNCn0NCg0KLy8gX191bXVsNjRIb3AgY29tcHV0ZXMgKGhpICogMl42NCArIGxvKSA9IHogKyAoeCAqIHkpDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBpbmxpbmUNCmV4cG9ydCBmdW5jdGlvbiBfX3VtdWw2NEhvcCh6OiB1NjQsIHg6IHU2NCwgeTogdTY0KTogdTY0IHsNCiAgdmFyIGxvID0gX191bXVscTY0KHgsIHkpOw0KICBsbyA9IF9fdWFkZDY0KGxvLCB6KTsNCiAgdmFyIGhpID0gX19yZXMxMjhfaGkgKyBfX2NhcnJ5Ow0KICBfX3JlczEyOF9oaSA9IGhpOw0KICByZXR1cm4gbG8NCn0NCg0KLy8gX191bXVsNjRTdGVwIGNvbXB1dGVzIChoaSAqIDJeNjQgKyBsbykgPSB6ICsgKHggKiB5KSArIGNhcnJ5Lg0KLy8gQHRzLWlnbm9yZTogZGVjb3JhdG9yDQpAaW5saW5lDQpleHBvcnQgZnVuY3Rpb24gX191bXVsNjRTdGVwKHo6IHU2NCwgeDogdTY0LCB5OiB1NjQsIGNhcnJ5OiB1NjQpOiB1NjQgew0KICB2YXIgbG8gPSBfX3VtdWxxNjQoeCwgeSkNCiAgbG8gPSBfX3VhZGQ2NChsbywgY2FycnkpOw0KICB2YXIgaGkgPSBfX3VhZGQ2NChfX3JlczEyOF9oaSwgMCwgX19jYXJyeSk7DQogIGxvID0gX191YWRkNjQobG8sIHopOw0KICBoaSArPSBfX2NhcnJ5Ow0KICBfX3JlczEyOF9oaSA9IGhpOw0KICByZXR1cm4gbG8NCn0NCg0KLy8gX191YWRkNjQgcmV0dXJucyB0aGUgc3VtIHdpdGggY2Fycnkgb2YgeCwgeSBhbmQgY2Fycnk6IHN1bSA9IHggKyB5ICsgY2FycnkuDQovLyBUaGUgY2FycnkgaW5wdXQgbXVzdCBiZSAwIG9yIDE7IG90aGVyd2lzZSB0aGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkLg0KLy8gVGhlIGNhcnJ5T3V0IG91dHB1dCBpcyBndWFyYW50ZWVkIHRvIGJlIDAgb3IgMS4NCi8vIEB0cy1pZ25vcmU6IGRlY29yYXRvcg0KQGlubGluZQ0KZXhwb3J0IGZ1bmN0aW9uIF9fdWFkZDY0KHg6IHU2NCwgeTogdTY0LCBjYXJyeTogdTY0ID0gMCk6IHU2NCB7DQogIHZhciBzdW0gPSB4ICsgeSArIGNhcnJ5DQogIC8vIC8vIFRoZSBzdW0gd2lsbCBvdmVyZmxvdyBpZiBib3RoIHRvcCBiaXRzIGFyZSBzZXQgKHggJiB5KSBvciBpZiBvbmUgb2YgdGhlbQ0KICAvLyAvLyBpcyAoeCB8IHkpLCBhbmQgYSBjYXJyeSBmcm9tIHRoZSBsb3dlciBwbGFjZSBoYXBwZW5lZC4gSWYgc3VjaCBhIGNhcnJ5DQogIC8vIC8vIGhhcHBlbnMsIHRoZSB0b3AgYml0IHdpbGwgYmUgMSArIDAgKyAxID0gMCAoJiB+c3VtKS4NCiAgX19jYXJyeSA9ICgoeCAmIHkpIHwgKCh4IHwgeSkgJiB+c3VtKSkgPj4+IDYzDQogIHJldHVybiBzdW07DQp9DQoNCi8vIDY0eDY0ID0+IDEyOCBiaXRzDQpAaW5saW5lDQpmdW5jdGlvbiBtdWw2NFRvMTI4KHg6IHU2NCwgeTogdTY0KTogdTEyOCB7DQogIGxldCBsbyA9IF9fdW11bHE2NCh4LCB5KTsgIC8vIHNldHMgX19yZXMxMjhfaGkNCiAgbGV0IGhpID0gX19yZXMxMjhfaGk7DQogIHJldHVybiBuZXcgdTEyOChsbywgaGkpOw0KfQ0KDQovKioNCiAqIEEgY29ycmVjdCAyNTbDlzI1NiAtPiAyNTYgbXVsdGlwbHkgKG1vZCAyXjI1NikuDQogKiBXZSBkbyBzdGFuZGFyZCAic2Nob29sYm9vayIgbXVsdGlwbGljYXRpb24gZm9yIGVhY2ggNjQtYml0IGxpbWIsDQogKiBza2lwcGluZyBwcm9kdWN0cyB0aGF0IHNoaWZ0IGFib3ZlIDI1NSBiaXRzICh0aGV5IHZhbmlzaCBtb2QgMl4yNTYpLg0KICovDQpAZ2xvYmFsDQpleHBvcnQgZnVuY3Rpb24gX19tdWwyNTYoDQogIGF4MDogdTY0LCBheDE6IHU2NCwgYXgyOiB1NjQsIGF4MzogdTY0LA0KICBieDA6IHU2NCwgYngxOiB1NjQsIGJ4MjogdTY0LCBieDM6IHU2NA0KKTogdTI1NiB7DQogIGxldCByZXN1bHQgPSBuZXcgdTI1NigpOw0KICBsZXQgYSA9IFtheDAsIGF4MSwgYXgyLCBheDNdOw0KICBsZXQgYiA9IFtieDAsIGJ4MSwgYngyLCBieDNdOw0KDQogIC8vIEZvciBlYWNoIChpLGopLCBwYXJ0aWFsID0gYVtpXSpiW2pdLCBzaGlmdCA9IDY0KihpK2opLg0KICAvLyBJZiBzaGlmdCA+PSAyNTYsIHRoYXQgcGFydGlhbCBpcyAwIG1vZCAyXjI1Ni4NCiAgLy8gT3RoZXJ3aXNlIHNoaWZ0IHBhcnRpYWwsIGFkZCB0byByZXN1bHQuDQogIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7DQogICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHsNCiAgICAgIGxldCBzaGlmdCA9IChpICsgaikgPDwgNjsgLy8gNjQqKGkraikNCiAgICAgIGlmIChzaGlmdCA+PSAyNTYpIGNvbnRpbnVlOw0KICAgICAgbGV0IHAxMjggPSBtdWw2NFRvMTI4KGFbaV0sIGJbal0pOyAvLyAxMjgtYml0IHBhcnRpYWwgcHJvZHVjdA0KICAgICAgLy8gY29udmVydCB0byB1MjU2DQogICAgICBsZXQgcGFydCA9IG5ldyB1MjU2KHAxMjgubG8sIHAxMjguaGksIDAsIDApOw0KICAgICAgLy8gc2hpZnQgbGVmdCBieSAnc2hpZnQnIGJpdHMNCiAgICAgIGlmIChzaGlmdCAhPSAwKSB7DQogICAgICAgIHBhcnQgPSB1MjU2LnNobChwYXJ0LCBzaGlmdCk7DQogICAgICB9DQogICAgICAvLyBhZGQgdG8gYWNjdW11bGF0b3INCiAgICAgIHJlc3VsdCA9IHJlc3VsdCArIHBhcnQ7DQogICAgfQ0KICB9DQoNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KLy8gQHRzLWlnbm9yZTogZGVjb3JhdG9yDQpAZ2xvYmFsDQpleHBvcnQgZnVuY3Rpb24gX19tdWx0aTMoYWw6IHU2NCwgYWg6IHU2NCwgYmw6IHU2NCwgYmg6IHU2NCk6IHU2NCB7DQogIHZhciB1ID0gYWwsIHYgPSBibDsNCiAgdmFyIHc6IHU2NCwgazogdTY0Ow0KDQogIHZhciB1MSA9IHUgJiAweEZGRkZGRkZGOw0KICB1ID4+PSAzMjsNCiAgdmFyIHYxID0gdiAmIDB4RkZGRkZGRkY7DQogIHYgPj49IDMyOw0KICB2YXIgdCA9IHUxICogdjE7DQogIHZhciB3MSA9IHQgJiAweEZGRkZGRkZGOw0KDQogIHQgPSB1ICogdjEgKyAodCA+PiAzMik7DQogIGsgPSB0ICYgMHhGRkZGRkZGRjsNCiAgdyA9IHQgPj4gMzI7DQogIHQgPSB1MSAqIHYgKyBrOw0KDQogIHZhciBsbyA9ICh0IDw8IDMyKSB8IHcxOw0KICB2YXIgaGkgPSB1ICogdiArIHc7DQogIGhpICs9IGFoICogYmw7DQogIGhpICs9IGFsICogYmg7DQogIGhpICs9IHQgPj4gMzI7DQoNCiAgX19yZXMxMjhfaGkgPSBoaTsNCiAgcmV0dXJuIGxvOw0KfQ0KDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBnbG9iYWwNCmV4cG9ydCBmdW5jdGlvbiBfX2Zsb2F0dW50ZmRpKHZhbHVlOiBmNjQpOiB1NjQgew0KICB2YXIgdSA9IHJlaW50ZXJwcmV0PHU2ND4odmFsdWUpOw0KDQogIC8vIGlmICh2YWx1ZSA8IC0xLjcwMTQxMTgzNDYwNDZlMzgpIHsgLy8gLSgyXjEyNy0xKQ0KICBpZiAodmFsdWUgPCByZWludGVycHJldDxmNjQ+KDB4QzdGMDAwMDAwMDAwMDAwMCkpIHsgLy8gLSgyXjEyOC0xKQ0KICAgIC8vIF9fZmxvYXRfdTEyOF9oaSA9IDx1NjQ+LTE7IC8vIGZvciBpMTI4DQogICAgX19yZXMxMjhfaGkgPSAwOw0KICAgIC8vIG92ZXJmbG93IG5lZ2F0aXZlDQogICAgcmV0dXJuIDA7DQogICAgLy8gfSBlbHNlIGlmICh2YWx1ZSA8IC05LjIyMzM3MjAzNjg1NDdlMTgpIHsgLy8gLTJeNjMtMSAvLyBmb3IgaTEyOA0KICB9IGVsc2UgaWYgKHZhbHVlIDwgcmVpbnRlcnByZXQ8ZjY0PigweEMzRjAwMDAwMDAwMDAwMDApKSB7IC8vIC8vIC0oMl42NC0xKQ0KICAgIGxldCBsbzogdTY0LCBoaTogdTY0LCBtOiB1NjQ7DQoNCiAgICBtID0gKHUgJiAweDAwMEZGRkZGRkZGRkZGRkYpIHwgKDEgPDwgNTIpOw0KICAgIHUgPSAodSAmIDB4N0ZGRkZGRkZGRkZGRkZGRikgPj4gNTI7DQoNCiAgICB1IC09IDEwNzU7DQogICAgaWYgKHUgPiA2NCkgew0KICAgICAgbG8gPSAwOw0KICAgICAgaGkgPSBtIDw8ICh1IC0gNjQpOw0KICAgIH0gZWxzZSB7DQogICAgICBsbyA9IG0gPDwgdTsNCiAgICAgIGhpID0gbSA+PiAoNjQgLSB1KTsNCiAgICB9DQogICAgX19yZXMxMjhfaGkgPSB+aGk7DQogICAgcmV0dXJuIH5sbzsNCiAgICAvLyB9IGVsc2UgaWYgKHZhbHVlIDwgOS4yMjMzNzIwMzY4NTQ3ZTE4KSB7IC8vIDJeNjMtMSAvLyBmb3IgaTEyOA0KICB9IGVsc2UgaWYgKHZhbHVlIDwgcmVpbnRlcnByZXQ8ZjY0PigweDQzRjAwMDAwMDAwMDAwMDApKSB7IC8vIDJeNjQtMQ0KICAgIC8vIF9fZmxvYXRfdTEyOF9oaSA9ICh2YWx1ZSA8IDApID8gLTEgOiAwOyAvLyBmb3IgaW50DQogICAgX19yZXMxMjhfaGkgPSAwOw0KICAgIC8vIGZpdCBpbiBhIHU2NA0KICAgIHJldHVybiA8dTY0PnZhbHVlOw0KICAgIC8vIH0gZWxzZSBpZiAodmFsdWUgPCAxLjcwMTQxMTgzNDYwNDZlMzgpIHsNCiAgfSBlbHNlIGlmICh2YWx1ZSA8IHJlaW50ZXJwcmV0PGY2ND4oMHg0N0YwMDAwMDAwMDAwMDAwKSkgeyAvLyAyXjEyOC0xDQogICAgbGV0IGxvOiB1NjQsIGhpOiB1NjQsIG06IHU2NDsNCg0KICAgIG0gPSAodSAmIDB4MDAwRkZGRkZGRkZGRkZGRikgfCAoMSA8PCA1Mik7DQogICAgdSA9ICh1ICYgMHg3RkZGRkZGRkZGRkZGRkZGKSA+PiA1MjsNCiAgICB1IC09IDEwNzU7DQogICAgaWYgKHUgPiA2NCkgew0KICAgICAgbG8gPSAwOw0KICAgICAgaGkgPSBtIDw8ICh1IC0gNjQpOw0KICAgIH0gZWxzZSB7DQogICAgICBsbyA9IG0gPDwgdTsNCiAgICAgIGhpID0gbSA+PiAoNjQgLSB1KTsNCiAgICB9DQogICAgX19yZXMxMjhfaGkgPSBoaTsNCiAgICByZXR1cm4gbG87DQogIH0gZWxzZSB7DQogICAgLy8gb3ZlcmZsb3cgcG9zaXRpdmUNCiAgICBfX3JlczEyOF9oaSA9IDx1NjQ+LTE7IC8vIDB4N0ZGRkZGRkZGRkZGRkZGRiBmb3IgaTEyOA0KICAgIHJldHVybiA8dTY0Pi0xOw0KICB9DQp9DQoNCi8qKg0KICogQ291bnQgbGVhZGluZyB6ZXJvcyBpbiBhIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIGB4YCwgcmV0dXJuaW5nIGkzMiBpbiBbMC4uNjRdLg0KICogSWYgeCA9PSAwLCByZXR1cm5zIDY0Lg0KICovDQpmdW5jdGlvbiBjbHo2NCh4OiB1NjQpOiBpMzIgew0KICBpZiAoeCA9PSAwKSByZXR1cm4gNjQ7DQoNCiAgbGV0IG46IGkzMiA9IDA7DQogIC8vIENoZWNrIGhpZ2ggaGFsZiBbIGJpdHMgNjMuLjMyIF0NCiAgaWYgKCh4ICYgMHhGRkZGRkZGRjAwMDAwMDAwKSA9PSAwKSB7DQogICAgbiArPSAzMjsNCiAgICB4IDw8PSAzMjsgLy8gc2hpZnQgbGVmdCBzbyBuZXh0IGNoZWNrcyBhcmUgZm9yIHRoZSB1cHBlciBiaXRzDQogIH0NCiAgLy8gQ2hlY2sgYml0cyBbNjMuLjQ4XQ0KICBpZiAoKHggJiAweEZGRkYwMDAwMDAwMDAwMDApID09IDApIHsNCiAgICBuICs9IDE2Ow0KICAgIHggPDw9IDE2Ow0KICB9DQogIC8vIENoZWNrIGJpdHMgWzYzLi41Nl0NCiAgaWYgKCh4ICYgMHhGRjAwMDAwMDAwMDAwMDAwKSA9PSAwKSB7DQogICAgbiArPSA4Ow0KICAgIHggPDw9IDg7DQogIH0NCiAgLy8gQ2hlY2sgYml0cyBbNjMuLjYwXQ0KICBpZiAoKHggJiAweEYwMDAwMDAwMDAwMDAwMDApID09IDApIHsNCiAgICBuICs9IDQ7DQogICAgeCA8PD0gNDsNCiAgfQ0KICAvLyBDaGVjayBiaXRzIFs2My4uNjJdDQogIGlmICgoeCAmIDB4QzAwMDAwMDAwMDAwMDAwMCkgPT0gMCkgew0KICAgIG4gKz0gMjsNCiAgICB4IDw8PSAyOw0KICB9DQogIC8vIENoZWNrIGJpdCBbNjNdDQogIGlmICgoeCAmIDB4ODAwMDAwMDAwMDAwMDAwMCkgPT0gMCkgew0KICAgIG4gKz0gMTsNCiAgfQ0KICByZXR1cm4gbjsNCn0NCg0KLyoqDQogKiBDb3VudCB0cmFpbGluZyB6ZXJvcyBpbiBhIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIGB4YCwgcmV0dXJuaW5nIGkzMiBpbiBbMC4uNjRdLg0KICogSWYgeCA9PSAwLCByZXR1cm5zIDY0Lg0KICovDQpmdW5jdGlvbiBjdHo2NCh4OiB1NjQpOiBpMzIgew0KICBpZiAoeCA9PSAwKSByZXR1cm4gNjQ7DQoNCiAgbGV0IG46IGkzMiA9IDA7DQogIC8vIENoZWNrIGxvdyBoYWxmIFtiaXRzIDMxLi4wXQ0KICBpZiAoKHggJiAweEZGRkZGRkZGKSA9PSAwKSB7DQogICAgbiArPSAzMjsNCiAgICB4ID4+PSAzMjsNCiAgfQ0KICAvLyBDaGVjayBiaXRzIFsxNS4uMF0NCiAgaWYgKCh4ICYgMHhGRkZGKSA9PSAwKSB7DQogICAgbiArPSAxNjsNCiAgICB4ID4+PSAxNjsNCiAgfQ0KICAvLyBDaGVjayBiaXRzIFs3Li4wXQ0KICBpZiAoKHggJiAweEZGKSA9PSAwKSB7DQogICAgbiArPSA4Ow0KICAgIHggPj49IDg7DQogIH0NCiAgLy8gQ2hlY2sgYml0cyBbMy4uMF0NCiAgaWYgKCh4ICYgMHhGKSA9PSAwKSB7DQogICAgbiArPSA0Ow0KICAgIHggPj49IDQ7DQogIH0NCiAgLy8gQ2hlY2sgYml0cyBbMS4uMF0NCiAgaWYgKCh4ICYgMHgzKSA9PSAwKSB7DQogICAgbiArPSAyOw0KICAgIHggPj49IDI7DQogIH0NCiAgLy8gQ2hlY2sgYml0IFswXQ0KICBpZiAoKHggJiAweDEpID09IDApIHsNCiAgICBuICs9IDE7DQogIH0NCiAgcmV0dXJuIG47DQp9DQoNCi8qKg0KICogQ291bnQgbGVhZGluZyB6ZXJvcyBpbiBhIDEyOC1iaXQgaW50ZWdlciBbaGk6bG9dLCByZXR1cm5pbmcgaTMyIGluIFswLi4xMjhdLg0KICogSWYgYm90aCBoaSBhbmQgbG8gYXJlIDAsIHJldHVybnMgMTI4Lg0KICoNCiAqICAgaGkgaXMgc2lnbmVkIGluIGkxMjgsIGJ1dCB3ZSBpbnRlcnByZXQgaXQgYXMgdW5zaWduZWQgaGVyZS4NCiAqLw0KLy8gQHRzLWlnbm9yZTogZGVjb3JhdG9yDQpAZ2xvYmFsIEBpbmxpbmUNCmV4cG9ydCBmdW5jdGlvbiBfX2NsejEyOChsbzogdTY0LCBoaTogaTY0KTogaTMyIHsNCiAgbGV0IGg6IHU2NCA9IDx1NjQ+aGk7ICAvLyByZWludGVycHJldCBoaSBhcyB1bnNpZ25lZA0KICBpZiAoaCA9PSAwKSB7DQogICAgLy8gSWYgaGkgaXMgMCwgdGhlIGxlYWRpbmcgemVyb3MgYXJlICI2NCBwbHVzIGhvd2V2ZXIgbWFueSBhcmUgaW4gbG8iDQogICAgcmV0dXJuIDY0ICsgPGkzMj5pNjQuY2x6KGxvKTsNCiAgfSBlbHNlIHsNCiAgICAvLyBUaGUgdG9wIDY0IGJpdHMgYXJlIHNldCA9PiBqdXN0IG1lYXN1cmUgdGhlaXIgbGVhZGluZyB6ZXJvcw0KICAgIHJldHVybiA8aTMyPmk2NC5jbHooaCk7DQogIH0NCn0NCg0KLyoqDQogKiBDb3VudCB0cmFpbGluZyB6ZXJvcyBpbiBhIDEyOC1iaXQgaW50ZWdlciBbaGk6bG9dLCByZXR1cm5pbmcgaTMyIGluIFswLi4xMjhdLg0KICogSWYgYm90aCBoaSBhbmQgbG8gYXJlIDAsIHJldHVybnMgMTI4Lg0KICoNCiAqICAgRm9yIGkxMjggd2UgdHlwaWNhbGx5IHRyZWF0IGhpIGFzIHNpZ25lZCwgYnV0IGN0eiBpcyBwdXJlbHkgYml0d2lzZSwgc28gd2UNCiAqICAgY2FuIHBhc3MgaXQgYXMgdTY0IGFzIHdlbGwuDQogKi8NCi8vIEB0cy1pZ25vcmU6IGRlY29yYXRvcg0KQGdsb2JhbCBAaW5saW5lDQpleHBvcnQgZnVuY3Rpb24gX19jdHoxMjgobG86IHU2NCwgaGk6IHU2NCk6IGkzMiB7DQogIGlmIChsbyA9PSAwKSB7DQogICAgLy8gT3RoZXJ3aXNlLCBjdHogaXMgNjQgcGx1cyBjdHooaGkpDQogICAgcmV0dXJuIDY0ICsgPGkzMj5pNjQuY3R6KGhpKTsNCiAgfSBlbHNlIHsNCiAgICAvLyBJZiB0aGUgbG93ZXIgNjQgYml0cyBhcmUgbm9uLXplcm8sIG1lYXN1cmUgY3R6KGxvKQ0KICAgIHJldHVybiA8aTMyPmk2NC5jdHoobG8pOw0KICB9DQp9DQoNCi8vIEB0cy1pZ25vcmU6IGRlY29yYXRvcg0KQGdsb2JhbA0KZXhwb3J0IGZ1bmN0aW9uIF9fdWRpdm1vZDEyOChhbG86IHU2NCwgYWhpOiB1NjQsIGJsbzogdTY0LCBiaGk6IHU2NCk6IHU2NCB7DQogIHZhciBiem4gPSBfX2NsejEyOChibG8sIGJoaSk7IC8vIE4NCg0KICAvLyBiID09IDANCiAgaWYgKGJ6biA9PSAxMjgpIHsNCiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGl2aXNpb24gYnkgemVybyIpOyAvLyBkaXZpc2lvbiBieSB6ZXJvDQogIH0NCg0KICAvLyB2YXIgYXpuID0gX19jbHoxMjgoYWxvLCBhaGkpOyAvLyBNDQogIHZhciBidHogPSBfX2N0ejEyOChibG8sIGJoaSk7IC8vIE4NCg0KICAvLyBhID09IDANCiAgaWYgKCEoYWxvIHwgYWhpKSkgew0KICAgIF9fZGl2bW9kX3F1b3RfaGkgPSAwOw0KICAgIF9fZGl2bW9kX3JlbV9sbyA9IDA7DQogICAgX19kaXZtb2RfcmVtX2hpID0gMDsNCiAgICByZXR1cm4gMDsNCiAgfQ0KDQogIC8vIGEgLyAxDQogIGlmIChiem4gPT0gMTI3KSB7DQogICAgX19kaXZtb2RfcXVvdF9oaSA9IGFoaTsNCiAgICBfX2Rpdm1vZF9yZW1fbG8gPSAwOw0KICAgIF9fZGl2bW9kX3JlbV9oaSA9IDA7DQogICAgcmV0dXJuIGFsbzsNCiAgfQ0KDQogIC8vIGEgPT0gYg0KICBpZiAoYWxvID09IGJsbyAmJiBhaGkgPT0gYmhpKSB7DQogICAgX19kaXZtb2RfcXVvdF9oaSA9IDA7DQogICAgX19kaXZtb2RfcmVtX2xvID0gMDsNCiAgICBfX2Rpdm1vZF9yZW1faGkgPSAwOw0KICAgIHJldHVybiAxOw0KICB9DQoNCiAgLy8gaWYgKGJ0eiArIGJ6biA9PSAxMjcpIHsNCiAgLy8gICAvLyBUT0RPDQogIC8vICAgLy8gX19kaXZtb2RfcXVvdCA9IGEgPj4gYnR6DQogIC8vICAgLy8gYisrDQogIC8vICAgLy8gX19kaXZtb2RfcmVtID0gYSAmIGINCiAgLy8gICByZXR1cm47DQogIC8vIH0NCg0KICBpZiAoIShhaGkgfCBiaGkpKSB7DQogICAgX19kaXZtb2RfcXVvdF9oaSA9IDA7DQogICAgX19kaXZtb2RfcmVtX2hpID0gMDsNCiAgICAvLyBpZiBgYi5sb2AgaXMgcG93ZXIgb2YgdHdvDQogICAgaWYgKCEoYmxvICYgKGJsbyAtIDEpKSkgew0KICAgICAgX19kaXZtb2RfcmVtX2xvID0gYWxvICYgKGJsbyAtIDEpOw0KICAgICAgcmV0dXJuIGFsbyA+PiBidHo7DQogICAgfSBlbHNlIHsNCiAgICAgIGxldCBkbG8gPSBhbG8gLyBibG87DQogICAgICBfX2Rpdm1vZF9yZW1fbG8gPSBhbG8gLSBkbG8gKiBibG87DQogICAgICByZXR1cm4gZGxvOw0KICAgIH0NCiAgfQ0KDQogIC8vIGlmIGIubG8gPT0gMCBhbmQgYGIuaGlgIGlzIHBvd2VyIG9mIHR3bw0KICAvLyBpZiAoIWJsbyAmJiAhKGJoaSAmIChiaGkgLSAxKSkpIHsNCiAgLy8gICBfX2Rpdm1vZF9yZW0gPSAwOw0KDQogIC8vICAgLy8gVE9ETw0KDQogIC8vICAgcmV0dXJuIDA7DQogIC8vIH0NCg0KICAvLyB2YXIgZGlmZjogaTY0ID0gYWhpIC0gYmhpOw0KICAvLyB2YXIgY21wID0gPGkzMj4oZGlmZiAhPSAwID8gZGlmZiA6IGFsbyAtIGJsbyk7IC8vIFRPRE8gb3B0aW1pemUgdGhpcw0KDQogIC8vIGlmIChjbXAgPD0gMCkgew0KICAvLyAgIF9fZGl2bW9kX3F1b3RfaGkgPSAwOw0KICAvLyAgIF9fZGl2bW9kX3JlbSAgICAgPSAwOw0KICAvLyAgIHJldHVybiB1NjQoY21wID09IDApOw0KICAvLyB9DQoNCiAgLy8gaWYgKGJ6biAtIGF6biA8PSA1KSB7DQogIC8vICAgLy8gVE9ETw0KICAvLyAgIC8vIGZhc3QgcGF0aA0KICAvLyAgIHJldHVybiBfX3VkaXZtb2QxMjhjb3JlKGFsbywgYWhpLCBibG8sIGJoaSk7DQogIC8vIH0NCiAgcmV0dXJuIF9fdWRpdm1vZDEyOGNvcmUoYWxvLCBhaGksIGJsbywgYmhpKTsNCn0NCg0KZnVuY3Rpb24gX191ZGl2bW9kMTI4Y29yZShhbG86IHU2NCwgYWhpOiB1NjQsIGJsbzogdTY0LCBiaGk6IHU2NCk6IHU2NCB7DQogIHZhciBhID0gbmV3IHUxMjgoYWxvLCBhaGkpOw0KICB2YXIgYiA9IG5ldyB1MTI4KGJsbywgYmhpKTsNCiAgLy8gZ2V0IGxlYWRpbmcgemVyb3MgZm9yIGxlZnQgYWxpZ25tZW50DQogIHZhciBhbHogPSBfX2NsejEyOChhbG8sIGFoaSk7DQogIHZhciBibHogPSBfX2NsejEyOChibG8sIGJoaSk7DQogIHZhciBvZmYgPSBibHogLSBhbHo7DQogIHZhciBuYiA9IGIgPDwgb2ZmOw0KICB2YXIgcSA9IHUxMjguWmVybzsNCiAgdmFyIG4gPSBhLmNsb25lKCk7DQoNCiAgLy8gY3JlYXRlIGEgbWFzayB3aXRoIHRoZSBsZW5ndGggb2YgYg0KICB2YXIgbWFzayA9IHUxMjguT25lOw0KICBtYXNrIDw8PSAxMjggLSBibHo7DQogIC0tbWFzazsNCiAgbWFzayA8PD0gb2ZmOw0KDQogIHZhciBpID0gMDsNCiAgd2hpbGUgKG4gPj0gYikgew0KICAgICsraTsNCiAgICBxIDw8PSAxOw0KICAgIGlmICgobiAmIG1hc2spID49IG5iKSB7DQogICAgICArK3E7DQogICAgICBuIC09IG5iOw0KICAgIH0NCg0KICAgIG1hc2sgfD0gbWFzayA+PiAxOw0KICAgIG5iID4+PSAxOw0KICB9DQogIHEgPDw9IChibHogLSBhbHogLSBpICsgMSk7DQoNCiAgX19kaXZtb2RfcXVvdF9oaSA9IHEuaGk7DQogIF9fZGl2bW9kX3JlbV9sbyA9IG4ubG87DQogIF9fZGl2bW9kX3JlbV9oaSA9IG4uaGk7DQogIHJldHVybiBxLmxvOw0KfQ0KDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBnbG9iYWwNCmV4cG9ydCBmdW5jdGlvbiBfX3VkaXZtb2QxMjhfMTAobG86IHU2NCwgaGk6IHU2NCk6IHU2NCB7DQogIC8vIFNob3J0Y3V0IGZvciBzbWFsbCBoaSA9PSAwDQogIGlmICghaGkpIHsNCiAgICBfX2Rpdm1vZF9xdW90X2hpID0gMDsNCiAgICAvLyBGb3IgdmFsdWVzIDwgMTAsIHJlbWFpbmRlciBpcyB0aGUgdmFsdWUgaXRzZWxmLCBxdW90aWVudCBpcyAwDQogICAgaWYgKGxvIDwgMTApIHsNCiAgICAgIF9fZGl2bW9kX3JlbV9sbyA9IGxvOyAgICAvLyA8LS0tIGZpeDogc3RvcmUgdGhlIGFjdHVhbCByZW1haW5kZXINCiAgICAgIF9fZGl2bW9kX3JlbV9oaSA9IDA7DQogICAgICByZXR1cm4gMDsgICAgICAgICAgICAgICAvLyBxdW90aWVudCBpcyAwDQogICAgfSBlbHNlIHsNCiAgICAgIC8vIEZvciBsYXJnZXIgbG8sIGRvIGEgbm9ybWFsIDY0LWJpdCAvIDEwDQogICAgICBsZXQgcWxvID0gbG8gLyAxMDsNCiAgICAgIF9fZGl2bW9kX3JlbV9sbyA9IGxvIC0gcWxvICogMTA7ICAvLyByZW1haW5kZXIgPSBsbyAlIDEwDQogICAgICBfX2Rpdm1vZF9yZW1faGkgPSAwOw0KICAgICAgcmV0dXJuIHFsbzsgICAgICAgICAgICAgICAgICAgICAgLy8gcXVvdGllbnQNCiAgICB9DQogIH0NCg0KICAvLyBGb3IgaGkgIT0gMCwgd2UgZG8gYW4gYXBwcm94aW1hdGUgYXBwcm9hY2g6DQogIHZhciBxOiB1MTI4LCByOiB1MTI4Ow0KICB2YXIgbiA9IG5ldyB1MTI4KGxvLCBoaSk7DQoNCiAgLy8gYXBwcm94aW1hdGUgcXVvdGllbnQgJ3EnIHZpYSBzaGlmdGluZw0KICBxID0gbiA+PiAxOw0KICBxICs9IG4gPj4gMjsNCiAgcSArPSBxID4+IDQ7DQogIHEgKz0gcSA+PiA4Ow0KICBxICs9IHEgPj4gMTY7DQogIHEgKz0gcSA+PiAzMjsNCiAgLy8gZXh0cmEgc2hpZnQgZnJvbSBxLmhpDQogIHEgKz0gdTEyOC5mcm9tVTY0KHEuaGkpOw0KICBxID4+PSAzOw0KDQogIC8vIHJlbWFpbmRlciByID0gbiAtIChxICogMTApDQogIC8vIFdlIGRvOiAocSA8PCAyKSArIHEgPT0gcSAqIDUgPT4gdGhlbiA8PCAxID0+IHEgKiAxMA0KICByID0gbiAtICgoKHEgPDwgMikgKyBxKSA8PCAxKTsNCg0KICAvLyBJZiByZW1haW5kZXIgPj0gMTAsIHdlIG11c3QgaW5jcmVtZW50IHF1b3RpZW50IGFuZCBzdWJ0cmFjdCAxMCBmcm9tIHJlbWFpbmRlci4NCiAgaWYgKHIubG8gPiA5IHx8IHIuaGkgIT0gMCkgew0KICAgIHEgPSBxICsgdTEyOC5PbmU7ICAgLy8gcSsrDQogICAgLy8gc3VidHJhY3QgMTAgZnJvbSByZW1haW5kZXINCiAgICBsZXQgb2xkTG8gPSByLmxvOw0KICAgIHIubG8gLT0gMTA7DQogICAgLy8gSWYgdW5kZXJmbG93IG9jY3VycyAoci5sbyA+IG9sZExvKSB3ZeKAmWQgYm9ycm93IGZyb20gci5oaQ0KICAgIGxldCBib3Jyb3cgPSAoci5sbyA+IG9sZExvKSA/IDEgOiAwOw0KICAgIHIuaGkgLT0gYm9ycm93Ow0KICB9DQoNCiAgX19kaXZtb2RfcXVvdF9oaSA9IHEuaGk7DQogIF9fZGl2bW9kX3JlbV9sbyA9IHIubG87DQogIF9fZGl2bW9kX3JlbV9oaSA9IHIuaGk7DQogIHJldHVybiBxLmxvOw0KfQ0K",
  "node_modules/@btc-vision/as-bignum/assembly/index.ts": "ZXhwb3J0ICogZnJvbSAiLi9pbnRlZ2VyIjsNCg==",
  "node_modules/@btc-vision/as-bignum/assembly/integer/i128.ts": "aW1wb3J0IHsgdTEyOCB9IGZyb20gJy4vdTEyOCc7DQppbXBvcnQgeyBpMjU2IH0gZnJvbSAnLi9pMjU2JzsNCmltcG9ydCB7IHUyNTYgfSBmcm9tICcuL3UyNTYnOw0KDQppbXBvcnQgeyBfX2NsejEyOCwgX19jdHoxMjgsIH0gZnJvbSAnLi4vZ2xvYmFscyc7DQoNCmltcG9ydCB7IGF0b3UxMjggfSBmcm9tICcuLi91dGlscyc7DQoNCi8qKg0KICogMTI4LWJpdCBzaWduZWQgaW50ZWdlciBpbiB0d28ncyBjb21wbGVtZW50IHJlcHJlc2VudGF0aW9uLg0KICogVGhlIGBoaWAgZmllbGQgaXMgc2lnbmVkLCBzdG9yaW5nIHNpZ24gYml0cyBmb3IgbmVnYXRpdmUgdmFsdWVzLg0KICovDQpleHBvcnQgY2xhc3MgaTEyOCB7DQoNCiAgY29uc3RydWN0b3IocHVibGljIGxvOiB1NjQgPSAwLCBwdWJsaWMgaGk6IGk2NCA9IDApIHsNCiAgfQ0KDQogIEBpbmxpbmUgc3RhdGljIGdldCBaZXJvKCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCgpOw0KICB9DQoNCiAgQGlubGluZSBzdGF0aWMgZ2V0IE9uZSgpOiBpMTI4IHsNCiAgICByZXR1cm4gbmV3IGkxMjgoMSwgMCk7DQogIH0NCg0KICBAaW5saW5lIHN0YXRpYyBnZXQgTWluKCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCgwLCAweDgwMDAwMDAwMDAwMDAwMDApOw0KICB9DQoNCiAgQGlubGluZSBzdGF0aWMgZ2V0IE1heCgpOiBpMTI4IHsNCiAgICByZXR1cm4gbmV3IGkxMjgodTY0Lk1BWF9WQUxVRSwgMHg3RkZGRkZGRkZGRkZGRkZGKTsNCiAgfQ0KDQogIC8vIENvbnN0cnVjdCBmcm9tIGRlY2ltYWwgb3IgaGV4IHN0cmluZw0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tU3RyaW5nKHZhbHVlOiBzdHJpbmcsIHJhZGl4OiBpMzIgPSAxMCk6IGkxMjggew0KICAgIC8vIElmIHRoZSBzdHJpbmcgaXMgcHJlZml4ZWQgd2l0aCAiLSIgd2UgcmVseSBvbiBhdG91MTI4ICsgdHdv4oCZcyBjb21wbGVtZW50IHdyYXANCiAgICAvLyBpbiB0aGUgZmluYWwgcmVpbnRlcnByZXQuDQogICAgcmV0dXJuIGNoYW5nZXR5cGU8aTEyOD4oYXRvdTEyOCh2YWx1ZSwgcmFkaXgpKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21JMjU2KHZhbHVlOiBpMjU2KTogaTEyOCB7DQogICAgLy8gVHJ1bmNhdGVzIHRvcCBiaXRzICh2YWx1ZS5oaTEsIHZhbHVlLmhpMikNCiAgICByZXR1cm4gbmV3IGkxMjgodmFsdWUubG8xLCB2YWx1ZS5sbzIpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUyNTYodmFsdWU6IHUyNTYpOiBpMTI4IHsNCiAgICAvLyBBbHNvIHRydW5jYXRpb24NCiAgICByZXR1cm4gbmV3IGkxMjgodmFsdWUubG8xLCA8aTY0PnZhbHVlLmxvMik7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tSTEyOCh2YWx1ZTogaTEyOCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCh2YWx1ZS5sbywgdmFsdWUuaGkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUxMjgodmFsdWU6IHUxMjgpOiBpMTI4IHsNCiAgICByZXR1cm4gbmV3IGkxMjgodmFsdWUubG8sIDxpNjQ+dmFsdWUuaGkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUk2NCh2YWx1ZTogaTY0KTogaTEyOCB7DQogICAgcmV0dXJuIG5ldyBpMTI4KDx1NjQ+dmFsdWUsIHZhbHVlID4+IDYzKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VNjQodmFsdWU6IHU2NCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCh2YWx1ZSwgMCk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tRjY0KHZhbHVlOiBmNjQpOiBpMTI4IHsNCiAgICBsZXQgaSA9IDxpNjQ+dmFsdWU7ICAgICAgICAgLy8gY29udmVydCBmNjQgLT4gaTY0IChyb3VuZC90cnVuY2F0ZSkNCiAgICByZXR1cm4gbmV3IGkxMjgoPHU2ND5pLCBpID4+IDYzKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21GMzIodmFsdWU6IGYzMik6IGkxMjggew0KICAgIGxldCBpID0gPGk2ND52YWx1ZTsgIC8vIG9yIDxpMzI+IHRoZW4gc2lnbi1leHRlbmQNCiAgICByZXR1cm4gbmV3IGkxMjgoPHU2ND5pLCBpID4+IDYzKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21JMzIodmFsdWU6IGkzMik6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCg8dTY0PnZhbHVlLCA8aTY0Pih2YWx1ZSA+PiAzMSkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUzMih2YWx1ZTogdTMyKTogaTEyOCB7DQogICAgcmV0dXJuIG5ldyBpMTI4KDx1NjQ+dmFsdWUsIDApOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUJpdHMobG8xOiBpMzIsIGxvMjogaTMyLCBoaTE6IGkzMiwgaGkyOiBpMzIpOiBpMTI4IHsNCiAgICBsZXQgbG8gPSAoKDx1NjQ+bG8yKSA8PCAzMikgfCAoPHU2ND4obG8xKSAmIDB4ZmZmZmZmZmYpOw0KICAgIGxldCBoaSA9ICgoPGk2ND5oaTIpIDw8IDMyKSB8ICg8aTY0PihoaTEpICYgMHhmZmZmZmZmZik7DQogICAgcmV0dXJuIG5ldyBpMTI4KGxvLCBoaSk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tQnl0ZXM8VD4oYXJyYXk6IFQsIGJpZ0VuZGlhbjogYm9vbCA9IGZhbHNlKTogaTEyOCB7DQogICAgaWYgKGFycmF5IGluc3RhbmNlb2YgdThbXSkgew0KICAgICAgcmV0dXJuIGJpZ0VuZGlhbg0KICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgID8gaTEyOC5mcm9tQnl0ZXNCRSg8dThbXT5hcnJheSkNCiAgICAgICAgOiBpMTI4LmZyb21CeXRlc0xFKDx1OFtdPmFycmF5KTsNCiAgICB9IGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkgew0KICAgICAgcmV0dXJuIGJpZ0VuZGlhbg0KICAgICAgICA/IGkxMjguZnJvbVVpbnQ4QXJyYXlCRSg8VWludDhBcnJheT5hcnJheSkNCiAgICAgICAgOiBpMTI4LmZyb21VaW50OEFycmF5TEUoPFVpbnQ4QXJyYXk+YXJyYXkpOw0KICAgIH0gZWxzZSB7DQogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbnN1cHBvcnRlZCBnZW5lcmljIHR5cGUiKTsNCiAgICB9DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tQnl0ZXNMRShhcnJheTogdThbXSk6IGkxMjggew0KICAgIHJldHVybiBpMTI4LmZyb21VaW50OEFycmF5TEUoY2hhbmdldHlwZTxVaW50OEFycmF5PihhcnJheSkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUJ5dGVzQkUoYXJyYXk6IHU4W10pOiBpMTI4IHsNCiAgICByZXR1cm4gaTEyOC5mcm9tVWludDhBcnJheUJFKGNoYW5nZXR5cGU8VWludDhBcnJheT4oYXJyYXkpKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VaW50OEFycmF5TEUoYXJyYXk6IFVpbnQ4QXJyYXkpOiBpMTI4IHsNCiAgICBhc3NlcnQoYXJyYXkubGVuZ3RoICYmIChhcnJheS5sZW5ndGggJiAxNSkgPT0gMCk7DQogICAgbGV0IGJ1ZmZlciA9IGFycmF5LmRhdGFTdGFydDsNCiAgICByZXR1cm4gbmV3IGkxMjgoDQogICAgICBsb2FkPHU2ND4oYnVmZmVyLCAwICogc2l6ZW9mPHU2ND4oKSksDQogICAgICBsb2FkPHU2ND4oYnVmZmVyLCAxICogc2l6ZW9mPHU2ND4oKSkNCiAgICApOw0KICB9DQoNCiAgc3RhdGljIGZyb21VaW50OEFycmF5QkUoYXJyYXk6IFVpbnQ4QXJyYXkpOiBpMTI4IHsNCiAgICBhc3NlcnQoYXJyYXkubGVuZ3RoICYmIChhcnJheS5sZW5ndGggJiAxNSkgPT0gMCk7DQogICAgbGV0IGJ1ZmZlciA9IGFycmF5LmRhdGFTdGFydDsNCiAgICByZXR1cm4gbmV3IGkxMjgoDQogICAgICBic3dhcDx1NjQ+KGxvYWQ8dTY0PihidWZmZXIsIDEgKiBzaXplb2Y8dTY0PigpKSksDQogICAgICBic3dhcDx1NjQ+KGxvYWQ8dTY0PihidWZmZXIsIDAgKiBzaXplb2Y8dTY0PigpKSkNCiAgICApOw0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZSAxMjgtYml0IHNpZ25lZCBpbnRlZ2VyIGZyb20gYSBnZW5lcmljIHR5cGUgVA0KICAgKiBAcGFyYW0gIHZhbHVlDQogICAqIEByZXR1cm4gMTI4LWJpdCBzaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbTxUPih2YWx1ZTogVCk6IGkxMjggew0KICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGJvb2wpIHJldHVybiBpMTI4LmZyb21VNjQoPHU2ND52YWx1ZSk7DQogICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBpOCkgcmV0dXJuIGkxMjguZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHU4KSByZXR1cm4gaTEyOC5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTE2KSByZXR1cm4gaTEyOC5mcm9tSTY0KDxpNjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTE2KSByZXR1cm4gaTEyOC5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTMyKSByZXR1cm4gaTEyOC5mcm9tSTY0KDxpNjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTMyKSByZXR1cm4gaTEyOC5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTY0KSByZXR1cm4gaTEyOC5mcm9tSTY0KDxpNjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTY0KSByZXR1cm4gaTEyOC5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgZjMyKSByZXR1cm4gaTEyOC5mcm9tRjY0KDxmNjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgZjY0KSByZXR1cm4gaTEyOC5mcm9tRjY0KDxmNjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTEyOCkgcmV0dXJuIGkxMjguZnJvbUkxMjgoPGkxMjg+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTEyOCkgcmV0dXJuIGkxMjguZnJvbVUxMjgoPHUxMjg+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTI1NikgcmV0dXJuIGkxMjguZnJvbUkyNTYoPGkyNTY+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTI1NikgcmV0dXJuIGkxMjguZnJvbVUyNTYoPHUyNTY+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdThbXSkgcmV0dXJuIGkxMjguZnJvbUJ5dGVzKDx1OFtdPnZhbHVlKTsNCiAgICBlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlVuc3VwcG9ydGVkIGdlbmVyaWMgdHlwZSIpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCchJykNCiAgc3RhdGljIGlzRW1wdHkodmFsdWU6IGkxMjgpOiBib29sIHsNCiAgICByZXR1cm4gdmFsdWUuaXNaZXJvKCk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignfCcpDQogIHN0YXRpYyBvcihhOiBpMTI4LCBiOiBpMTI4KTogaTEyOCB7DQogICAgcmV0dXJuIG5ldyBpMTI4KGEubG8gfCBiLmxvLCBhLmhpIHwgYi5oaSk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignXicpDQogIHN0YXRpYyB4b3IoYTogaTEyOCwgYjogaTEyOCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOChhLmxvIF4gYi5sbywgYS5oaSBeIGIuaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJyYnKQ0KICBzdGF0aWMgYW5kKGE6IGkxMjgsIGI6IGkxMjgpOiBpMTI4IHsNCiAgICByZXR1cm4gbmV3IGkxMjgoYS5sbyAmIGIubG8sIGEuaGkgJiBiLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc8PCcpDQogIHN0YXRpYyBzaGwodmFsdWU6IGkxMjgsIHNoaWZ0OiBpMzIpOiBpMTI4IHsNCiAgICBzaGlmdCAmPSAxMjc7DQogICAgMHhGRkZGRkZGRkZGRkZGRkZGDQogICAgaWYgKCFzaGlmdCkgcmV0dXJuIHZhbHVlOw0KDQogICAgbGV0IGxvID0gdmFsdWUubG87DQogICAgbGV0IGhpID0gdmFsdWUuaGk7DQogICAgaWYgKHNoaWZ0IDwgNjQpIHsNCiAgICAgIGxldCBuZXdMbyA9IGxvIDw8IHNoaWZ0Ow0KICAgICAgbGV0IG5ld0hpID0gKGhpIDw8IHNoaWZ0KSB8IGk2NChsbyA+Pj4gKDY0IC0gc2hpZnQpKTsNCiAgICAgIHJldHVybiBuZXcgaTEyOChuZXdMbywgbmV3SGkpOw0KICAgIH0gZWxzZSB7DQogICAgICAvLyBzaGlmdCA+PSA2NA0KICAgICAgbGV0IHMgPSBzaGlmdCAtIDY0Ow0KICAgICAgaWYgKHMgPT0gMCkgew0KICAgICAgICAvLyBleGFjdGx5IDY0DQogICAgICAgIHJldHVybiBuZXcgaTEyOCgwLCBsbyBhcyBpNjQpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8gMS4uNjMNCiAgICAgICAgcmV0dXJuIG5ldyBpMTI4KDAsIChsbyA8PCBzKSBhcyBpNjQpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+Pj4nKQ0KICBzdGF0aWMgc2hyX3UodmFsdWU6IGkxMjgsIHNoaWZ0OiBpMzIpOiBpMTI4IHsNCiAgICAvLyBhbiB1bnNpZ25lZCByaWdodCBzaGlmdCBvZiBhICpzaWduZWQqIDEyOA0KICAgIHNoaWZ0ICY9IDEyNzsNCiAgICBpZiAoIXNoaWZ0KSByZXR1cm4gdmFsdWU7DQoNCiAgICBsZXQgbG8gPSB2YWx1ZS5sbzsNCiAgICBsZXQgaGkgPSB1NjQodmFsdWUuaGkpOyAvLyByZWludGVycHJldCBzaWduIGFzIGhpZ2ggYml0cw0KDQogICAgaWYgKHNoaWZ0IDwgNjQpIHsNCiAgICAgIGxldCBuZXdMbyA9IChsbyA+Pj4gc2hpZnQpIHwgKGhpIDw8ICg2NCAtIHNoaWZ0KSk7DQogICAgICBsZXQgbmV3SGkgPSBoaSA+Pj4gc2hpZnQ7DQogICAgICByZXR1cm4gbmV3IGkxMjgobmV3TG8sIG5ld0hpIGFzIGk2NCk7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vIHNoaWZ0ID49IDY0DQogICAgICBsZXQgcyA9IHNoaWZ0IC0gNjQ7DQogICAgICBpZiAocyA9PSAwKSB7DQogICAgICAgIHJldHVybiBuZXcgaTEyOChoaSwgMCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyAxLi42Mw0KICAgICAgICByZXR1cm4gbmV3IGkxMjgoaGkgPj4+IHMsIDApOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCcrJykNCiAgc3RhdGljIGFkZChhOiBpMTI4LCBiOiBpMTI4KTogaTEyOCB7DQogICAgbGV0IGxvID0gYS5sbyArIGIubG87DQogICAgbGV0IGNhcnJ5ID0gKGxvIDwgYS5sbykgPyAxIDogMDsNCiAgICBsZXQgaGkgPSBhLmhpICsgYi5oaSArIChjYXJyeSBhcyBpNjQpOw0KICAgIHJldHVybiBuZXcgaTEyOChsbywgaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJy0nKQ0KICBzdGF0aWMgc3ViKGE6IGkxMjgsIGI6IGkxMjgpOiBpMTI4IHsNCiAgICBsZXQgbG8gPSBhLmxvIC0gYi5sbzsNCiAgICBsZXQgYm9ycm93ID0gKGxvID4gYS5sbykgPyAxIDogMDsNCiAgICBsZXQgaGkgPSBhLmhpIC0gYi5oaSAtIChib3Jyb3cgYXMgaTY0KTsNCiAgICByZXR1cm4gbmV3IGkxMjgobG8sIGhpKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc9PScpDQogIHN0YXRpYyBlcShhOiBpMTI4LCBiOiBpMTI4KTogYm9vbCB7DQogICAgcmV0dXJuIGEuaGkgPT0gYi5oaSAmJiBhLmxvID09IGIubG87DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignIT0nKQ0KICBzdGF0aWMgbmUoYTogaTEyOCwgYjogaTEyOCk6IGJvb2wgew0KICAgIHJldHVybiAhaTEyOC5lcShhLCBiKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc8JykNCiAgc3RhdGljIGx0KGE6IGkxMjgsIGI6IGkxMjgpOiBib29sIHsNCiAgICBsZXQgYWggPSBhLmhpLCBiaCA9IGIuaGk7DQogICAgLy8gSWYgaGkgcGFydHMgZGlmZmVyLCB0aGF0IGRlY2lkZXMgdGhlIHNpZ24uIE90aGVyd2lzZSBjb21wYXJlIGxvLg0KICAgIHJldHVybiBhaCA9PSBiaCA/IGEubG8gPCBiLmxvIDogYWggPCBiaDsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+JykNCiAgc3RhdGljIGd0KGE6IGkxMjgsIGI6IGkxMjgpOiBib29sIHsNCiAgICByZXR1cm4gYiA8IGE7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignPD0nKQ0KICBzdGF0aWMgbGUoYTogaTEyOCwgYjogaTEyOCk6IGJvb2wgew0KICAgIHJldHVybiAhaTEyOC5ndChhLCBiKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+PScpDQogIHN0YXRpYyBnZShhOiBpMTI4LCBiOiBpMTI4KTogYm9vbCB7DQogICAgcmV0dXJuICFpMTI4Lmx0KGEsIGIpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgb3JkKGE6IGkxMjgsIGI6IGkxMjgpOiBpMzIgew0KICAgIC8vIFJldHVybiAtMSwgMCwgMQ0KICAgIGlmIChhID09IGIpIHJldHVybiAwOw0KICAgIHJldHVybiBpMTI4Lmx0KGEsIGIpID8gLTEgOiAxOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgcG9wY250KHZhbHVlOiBpMTI4KTogaTMyIHsNCiAgICByZXR1cm4gPGkzMj4ocG9wY250KHZhbHVlLmxvKSArIHBvcGNudCh2YWx1ZS5oaSkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgY2x6KHZhbHVlOiBpMTI4KTogaTMyIHsNCiAgICByZXR1cm4gX19jbHoxMjgodmFsdWUubG8sIHZhbHVlLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGN0eih2YWx1ZTogaTEyOCk6IGkzMiB7DQogICAgcmV0dXJuIF9fY3R6MTI4KHZhbHVlLmxvLCB2YWx1ZS5oaSk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBhYnModmFsdWU6IGkxMjgpOiBpMTI4IHsNCiAgICAvLyBpZiBuZWdhdGl2ZSwgcmV0dXJuIC12YWx1ZQ0KICAgIHJldHVybiB2YWx1ZS5pc05lZygpID8gdmFsdWUubmVnKCkgOiB2YWx1ZTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgaXNQb3MoKTogYm9vbCB7DQogICAgcmV0dXJuIHRoaXMuaGkgPj0gMDsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgaXNOZWcoKTogYm9vbCB7DQogICAgcmV0dXJuIHRoaXMuaGkgPCAwOw0KICB9DQoNCiAgQGlubGluZQ0KICBpc1plcm8oKTogYm9vbCB7DQogICAgcmV0dXJuICEodGhpcy5sbyB8IHRoaXMuaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCd+JykNCiAgbm90KCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCh+dGhpcy5sbywgfnRoaXMuaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCcrJykNCiAgcG9zKCk6IGkxMjggew0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCctJykNCiAgbmVnKCk6IGkxMjggew0KICAgIC8vIHR3bydzIGNvbXBsZW1lbnQ6IH54ICsgMQ0KICAgIGxldCBubG8gPSB+dGhpcy5sbzsNCiAgICBsZXQgbmhpID0gfnRoaXMuaGk7DQoNCiAgICBsZXQgc3VtID0gbmxvICsgMTsNCiAgICBsZXQgY2FycnkgPSAoc3VtIDwgbmxvKSA/IDEgOiAwOw0KICAgIGxldCBoaTIgPSBuaGkgKyAoY2FycnkgYXMgaTY0KTsNCg0KICAgIHJldHVybiBuZXcgaTEyOChzdW0sIGhpMik7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydCB0byBhIG5vcm1hbCBhcnJheSBvZiBieXRlcyAoMTYgYnl0ZXMgZm9yIDEyOCBiaXRzKS4NCiAgICogQHBhcmFtIGJpZ0VuZGlhbiBJZiB0cnVlLCB0aGUgaGlnaGVzdCBieXRlcyBjb21lIGZpcnN0Lg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0J5dGVzKGJpZ0VuZGlhbjogYm9vbCA9IGZhbHNlKTogdThbXSB7DQogICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheTx1OD4oMTYpOw0KICAgIHRoaXMudG9BcnJheUJ1ZmZlcihyZXN1bHQuZGF0YVN0YXJ0LCBiaWdFbmRpYW4pOw0KICAgIHJldHVybiByZXN1bHQ7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydCB0byBhIFN0YXRpY0FycmF5PHU4PiBvZiBsZW5ndGggMTYuDQogICAqIEBwYXJhbSBiaWdFbmRpYW4gSWYgdHJ1ZSwgdGhlIGhpZ2hlc3QgYnl0ZXMgY29tZSBmaXJzdC4NCiAgICogQHJldHVybnMgU3RhdGljQXJyYXk8dTg+DQogICAqLw0KICBAaW5saW5lDQogIHRvU3RhdGljQnl0ZXMoYmlnRW5kaWFuOiBib29sID0gZmFsc2UpOiBTdGF0aWNBcnJheTx1OD4gew0KICAgIGxldCByZXN1bHQgPSBuZXcgU3RhdGljQXJyYXk8dTg+KDE2KTsNCiAgICB0aGlzLnRvQXJyYXlCdWZmZXIoY2hhbmdldHlwZTx1c2l6ZT4ocmVzdWx0KSwgYmlnRW5kaWFuKTsNCiAgICByZXR1cm4gcmVzdWx0Ow0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnQgdG8gVWludDhBcnJheQ0KICAgKiBAcGFyYW0gYmlnRW5kaWFuIExpdHRsZSBvciBCaWcgRW5kaWFuPyBEZWZhdWx0OiBmYWxzZQ0KICAgKiBAcmV0dXJucyAgVWludDhBcnJheQ0KICAgKi8NCiAgQGlubGluZQ0KICB0b1VpbnQ4QXJyYXkoYmlnRW5kaWFuOiBib29sID0gZmFsc2UpOiBVaW50OEFycmF5IHsNCiAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOw0KICAgIHRoaXMudG9BcnJheUJ1ZmZlcihyZXN1bHQuZGF0YVN0YXJ0LCBiaWdFbmRpYW4pOw0KICAgIHJldHVybiByZXN1bHQ7DQogIH0NCg0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlckxFKGJ1ZmZlcjogdXNpemUpOiB2b2lkIHsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5sbywgMCAqIHNpemVvZjx1NjQ+KCkpOw0KICAgIHN0b3JlPHU2ND4oYnVmZmVyLCB0aGlzLmhpLCAxICogc2l6ZW9mPHU2ND4oKSk7DQogIH0NCg0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlckJFKGJ1ZmZlcjogdXNpemUpOiB2b2lkIHsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgYnN3YXA8dTY0Pih0aGlzLmhpKSwgMCAqIHNpemVvZjx1NjQ+KCkpOw0KICAgIHN0b3JlPHU2ND4oYnVmZmVyLCBic3dhcDx1NjQ+KHRoaXMubG8pLCAxICogc2l6ZW9mPHU2ND4oKSk7DQogIH0NCg0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlcihidWZmZXI6IHVzaXplLCBiaWdFbmRpYW46IGJvb2wgPSBmYWxzZSk6IHZvaWQgew0KICAgIGlmIChiaWdFbmRpYW4pIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckJFKGJ1ZmZlcik7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckxFKGJ1ZmZlcik7DQogICAgfQ0KICB9DQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/integer/i256.ts": "ZXhwb3J0IGNsYXNzIGkyNTYgew0KDQogIGNvbnN0cnVjdG9yKA0KICAgIHB1YmxpYyBsbzE6IGk2NCA9IDAsDQogICAgcHVibGljIGxvMjogaTY0ID0gMCwNCiAgICBwdWJsaWMgaGkxOiBpNjQgPSAwLA0KICAgIHB1YmxpYyBoaTI6IGk2NCA9IDAsDQogICkgew0KICB9DQoNCiAgQGlubGluZSBzdGF0aWMgZ2V0IFplcm8oKTogaTI1NiB7DQogICAgcmV0dXJuIG5ldyBpMjU2KCk7DQogIH0NCg0KICBAaW5saW5lIHN0YXRpYyBnZXQgT25lKCk6IGkyNTYgew0KICAgIHJldHVybiBuZXcgaTI1NigxKTsNCiAgfQ0KDQogIEBpbmxpbmUgc3RhdGljIGdldCBNaW4oKTogaTI1NiB7DQogICAgcmV0dXJuIG5ldyBpMjU2KDAsIDAsIDAsIDB4ODAwMDAwMDAwMDAwMDAwMCk7DQogIH0NCg0KICBAaW5saW5lIHN0YXRpYyBnZXQgTWF4KCk6IGkyNTYgew0KICAgIHJldHVybiBuZXcgaTI1Nih1NjQuTUFYX1ZBTFVFLCB1NjQuTUFYX1ZBTFVFLCB1NjQuTUFYX1ZBTFVFLCAweDdGRkZGRkZGRkZGRkZGRkYpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCchJykNCiAgc3RhdGljIGlzRW1wdHkodmFsdWU6IGkyNTYpOiBib29sIHsNCiAgICByZXR1cm4gIXZhbHVlLmlzWmVybygpOw0KICB9DQoNCiAgQGlubGluZQ0KICBpc05lZygpOiBib29sIHsNCiAgICByZXR1cm4gPGJvb2w+KHRoaXMuaGkyID4+PiA2Myk7DQogIH0NCg0KICBAaW5saW5lDQogIGlzWmVybygpOiBib29sIHsNCiAgICByZXR1cm4gISh0aGlzLmxvMSB8IHRoaXMubG8yIHwgdGhpcy5oaTEgfCB0aGlzLmhpMik7DQogIH0NCg0KICAvKg0KICBAaW5saW5lDQogIHN0YXRpYyBhYnModmFsdWU6IGkxMjgpOiBpMTI4IHsNCiAgICByZXR1cm4gdmFsdWUgPCAwID8gdmFsdWUubmVnKCkgOiB2YWx1ZTsNCiAgfQ0KICAqLw0KDQogIC8vIFRPRE8NCn0NCg==",
  "node_modules/@btc-vision/as-bignum/assembly/integer/index.ts": "ZXhwb3J0ICogZnJvbSAiLi9pMTI4IjsNCmV4cG9ydCAqIGZyb20gIi4vdTEyOCI7DQpleHBvcnQgKiBmcm9tICIuL3UyNTYiOw0K",
  "node_modules/@btc-vision/as-bignum/assembly/integer/u128.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gJy4vaTEyOCc7DQppbXBvcnQgeyBpMjU2IH0gZnJvbSAnLi9pMjU2JzsNCmltcG9ydCB7IHUyNTYgfSBmcm9tICcuL3UyNTYnOw0KDQovLyBUT0RPIGltcG9ydCB0aGlzIG9uIHRvcCBsZXZlbCAnaW5kZXgudHMnDQppbXBvcnQgew0KICBfX2NsejEyOCwNCiAgX19jdHoxMjgsDQogIF9fZGl2bW9kX3F1b3RfaGksDQogIF9fZGl2bW9kX3JlbV9oaSwNCiAgX19kaXZtb2RfcmVtX2xvLA0KICBfX2Zsb2F0dW50aWRmLA0KICBfX211bHRpMywNCiAgX19yZXMxMjhfaGksDQogIF9fdWRpdm1vZDEyOCwNCiAgX191ZGl2bW9kMTI4XzEwLA0KfSBmcm9tICcuLi9nbG9iYWxzJzsNCg0KaW1wb3J0IHsgYXRvdTEyOCwgdTEyOHRvRGVjaW1hbFN0cmluZyB9IGZyb20gJy4uL3V0aWxzJzsNCg0KQGxhenkgY29uc3QgSEVYX0NIQVJTID0gJzAxMjM0NTY3ODlhYmNkZWYnOw0KDQpleHBvcnQgY2xhc3MgdTEyOCB7DQoNCiAgLyoqDQogICAqIENyZWF0ZSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXIgZnJvbSA2NC1iaXQgcGFydHMNCiAgICogQHBhcmFtIGxvIGxvdyAgNjQtYml0IHBhcnQgb2YgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqIEBwYXJhbSBoaSBoaWdoIDY0LWJpdCBwYXJ0IG9mIDEyOC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgY29uc3RydWN0b3IoDQogICAgcHVibGljIGxvOiB1NjQgPSAwLA0KICAgIHB1YmxpYyBoaTogdTY0ID0gMCwNCiAgKSB7DQogIH0NCg0KICBAaW5saW5lIHN0YXRpYyBnZXQgWmVybygpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoKTsNCiAgfQ0KDQogIEBpbmxpbmUgc3RhdGljIGdldCBPbmUoKTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KDEpOw0KICB9DQoNCiAgQGlubGluZSBzdGF0aWMgZ2V0IE1pbigpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoKTsNCiAgfQ0KDQogIEBpbmxpbmUgc3RhdGljIGdldCBNYXgoKTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KC0xLCAtMSk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tU3RyaW5nKHZhbHVlOiBzdHJpbmcsIHJhZGl4OiBpMzIgPSAxMCk6IHUxMjggew0KICAgIHJldHVybiBhdG91MTI4KHZhbHVlLCByYWRpeCk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tSTI1Nih2YWx1ZTogaTI1Nik6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCh2YWx1ZS5sbzEsIHZhbHVlLmxvMik7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tVTI1Nih2YWx1ZTogdTI1Nik6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCh2YWx1ZS5sbzEsIHZhbHVlLmxvMik7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tSTEyOCh2YWx1ZTogaTEyOCk6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCh2YWx1ZS5sbywgdmFsdWUuaGkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUxMjgodmFsdWU6IHUxMjgpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgodmFsdWUubG8sIHZhbHVlLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21JNjQodmFsdWU6IGk2NCk6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCh2YWx1ZSwgdmFsdWUgPj4gNjMpOw0KICB9DQoNCiAgLy8gVE9ETyBuZWVkIGltcHJvdmVtZW50DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVU2NCh2YWx1ZTogdTY0KTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KHZhbHVlKTsNCiAgfQ0KDQogIC8vIFRPRE8gbmVlZCBpbXByb3ZlbWVudA0KDQogIC8vIG1heCBzYWZlIHVpbnQgZm9yIGY2NCBhY3R1YWxseSA1My1iaXRzDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21GNjQodmFsdWU6IGY2NCk6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCg8dTY0PnZhbHVlLCByZWludGVycHJldDxpNjQ+KHZhbHVlKSA+PiA2Myk7DQogIH0NCg0KICAvLyBtYXggc2FmZSBpbnQgZm9yIGYzMiBhY3R1YWxseSAyMy1iaXRzDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21GMzIodmFsdWU6IGYzMik6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCg8dTY0PnZhbHVlLCA8dTY0PihyZWludGVycHJldDxpMzI+KHZhbHVlKSA+PiAzMSkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUkzMih2YWx1ZTogaTMyKTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KHZhbHVlLCB2YWx1ZSA+PiAzMSk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tVTMyKHZhbHVlOiB1MzIpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgodmFsdWUpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUJvb2wodmFsdWU6IGJvb2wpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoPHU2ND52YWx1ZSk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tQml0cyhsbzE6IHUzMiwgbG8yOiB1MzIsIGhpMTogdTMyLCBoaTI6IHUzMik6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCgNCiAgICAgIDx1NjQ+bG8xIHwgKCg8dTY0PmxvMikgPDwgMzIpLA0KICAgICAgPHU2ND5oaTEgfCAoKDx1NjQ+aGkyKSA8PCAzMiksDQogICAgKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21CeXRlczxUPihhcnJheTogVCwgYmlnRW5kaWFuOiBib29sID0gZmFsc2UpOiB1MTI4IHsNCiAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiB1OFtdKSB7DQogICAgICByZXR1cm4gYmlnRW5kaWFuDQogICAgICAgID8gdTEyOC5mcm9tQnl0ZXNCRSg8dThbXT5hcnJheSkNCiAgICAgICAgOiB1MTI4LmZyb21CeXRlc0xFKDx1OFtdPmFycmF5KTsNCiAgICB9IGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkgew0KICAgICAgcmV0dXJuIGJpZ0VuZGlhbg0KICAgICAgICA/IHUxMjguZnJvbVVpbnQ4QXJyYXlCRSg8VWludDhBcnJheT5hcnJheSkNCiAgICAgICAgOiB1MTI4LmZyb21VaW50OEFycmF5TEUoPFVpbnQ4QXJyYXk+YXJyYXkpOw0KICAgIH0gZWxzZSB7DQogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbnN1cHBvcnRlZCBnZW5lcmljIHR5cGUiKTsNCiAgICB9DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tQnl0ZXNMRShhcnJheTogdThbXSk6IHUxMjggew0KICAgIHJldHVybiB1MTI4LmZyb21VaW50OEFycmF5TEUoY2hhbmdldHlwZTxVaW50OEFycmF5PihhcnJheSkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUJ5dGVzQkUoYXJyYXk6IHU4W10pOiB1MTI4IHsNCiAgICByZXR1cm4gdTEyOC5mcm9tVWludDhBcnJheUJFKGNoYW5nZXR5cGU8VWludDhBcnJheT4oYXJyYXkpKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VaW50OEFycmF5TEUoYXJyYXk6IFVpbnQ4QXJyYXkpOiB1MTI4IHsNCiAgICBhc3NlcnQoYXJyYXkubGVuZ3RoICYmIChhcnJheS5sZW5ndGggJiAxNSkgPT0gMCk7DQogICAgLy8gQHRzLWlnbm9yZQ0KICAgIHZhciBidWZmZXIgPSBhcnJheS5kYXRhU3RhcnQ7DQogICAgcmV0dXJuIG5ldyB1MTI4KA0KICAgICAgbG9hZDx1NjQ+KGJ1ZmZlciwgMCAqIHNpemVvZjx1NjQ+KCkpLA0KICAgICAgbG9hZDx1NjQ+KGJ1ZmZlciwgMSAqIHNpemVvZjx1NjQ+KCkpDQogICAgKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VaW50OEFycmF5QkUoYXJyYXk6IFVpbnQ4QXJyYXkpOiB1MTI4IHsNCiAgICBhc3NlcnQoYXJyYXkubGVuZ3RoICYmIChhcnJheS5sZW5ndGggJiAxNSkgPT0gMCk7DQogICAgLy8gQHRzLWlnbm9yZQ0KICAgIHZhciBidWZmZXIgPSBhcnJheS5kYXRhU3RhcnQ7DQogICAgcmV0dXJuIG5ldyB1MTI4KA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAxICogc2l6ZW9mPHU2ND4oKSkpLA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAwICogc2l6ZW9mPHU2ND4oKSkpDQogICAgKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDcmVhdGUgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIGZyb20gZ2VuZXJpYyB0eXBlIFQNCiAgICogQHBhcmFtICB2YWx1ZQ0KICAgKiBAcmV0dXJucyAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb208VD4odmFsdWU6IFQpOiB1MTI4IHsNCiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBib29sKSByZXR1cm4gdTEyOC5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTgpIHJldHVybiB1MTI4LmZyb21JNjQoPGk2ND52YWx1ZSk7DQogICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiB1OCkgcmV0dXJuIHUxMjguZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkxNikgcmV0dXJuIHUxMjguZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUxNikgcmV0dXJuIHUxMjguZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkzMikgcmV0dXJuIHUxMjguZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUzMikgcmV0dXJuIHUxMjguZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGk2NCkgcmV0dXJuIHUxMjguZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHU2NCkgcmV0dXJuIHUxMjguZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGYzMikgcmV0dXJuIHUxMjguZnJvbUY2NCg8ZjY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGY2NCkgcmV0dXJuIHUxMjguZnJvbUY2NCg8ZjY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkxMjgpIHJldHVybiB1MTI4LmZyb21JMTI4KDxpMTI4PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUxMjgpIHJldHVybiB1MTI4LmZyb21VMTI4KDx1MTI4PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkyNTYpIHJldHVybiB1MTI4LmZyb21JMjU2KDxpMjU2PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUyNTYpIHJldHVybiB1MTI4LmZyb21VMjU2KDx1MjU2PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHU4W10pIHJldHVybiB1MTI4LmZyb21CeXRlcyg8dThbXT52YWx1ZSk7DQogICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSByZXR1cm4gdTEyOC5mcm9tQnl0ZXMoPFVpbnQ4QXJyYXk+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nKSByZXR1cm4gdTEyOC5mcm9tU3RyaW5nKDxzdHJpbmc+dmFsdWUpOw0KICAgIGVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5zdXBwb3J0ZWQgZ2VuZXJpYyB0eXBlIik7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvci5wcmVmaXgoJyEnKQ0KICBzdGF0aWMgaXNFbXB0eSh2YWx1ZTogdTEyOCk6IGJvb2wgew0KICAgIHJldHVybiAhKHZhbHVlLmxvIHwgdmFsdWUuaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJ3wnKQ0KICBzdGF0aWMgb3IoYTogdTEyOCwgYjogdTEyOCk6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOChhLmxvIHwgYi5sbywgYS5oaSB8IGIuaGkpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJ14nKQ0KICBzdGF0aWMgeG9yKGE6IHUxMjgsIGI6IHUxMjgpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoYS5sbyBeIGIubG8sIGEuaGkgXiBiLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCcmJykNCiAgc3RhdGljIGFuZChhOiB1MTI4LCBiOiB1MTI4KTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KGEubG8gJiBiLmxvLCBhLmhpICYgYi5oaSk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignPDwnKQ0KICBzdGF0aWMgc2hsKHZhbHVlOiB1MTI4LCBzaGlmdDogaTMyKTogdTEyOCB7DQogICAgaWYgKHNoaWZ0IDw9IDApIHsNCiAgICAgIHJldHVybiBzaGlmdCA9PSAwID8gdmFsdWUuY2xvbmUoKSA6IG5ldyB1MTI4KCk7DQogICAgfQ0KDQogICAgaWYgKHNoaWZ0ID49IDEyOCkgew0KICAgICAgcmV0dXJuIG5ldyB1MTI4KCk7DQogICAgfQ0KDQogICAgaWYgKHNoaWZ0IDwgNjQpIHsNCiAgICAgIGNvbnN0IGxvID0gdmFsdWUubG8gPDwgc2hpZnQ7DQogICAgICBjb25zdCBoaSA9ICh2YWx1ZS5oaSA8PCBzaGlmdCkgfCAodmFsdWUubG8gPj4+ICg2NCAtIHNoaWZ0KSk7DQogICAgICByZXR1cm4gbmV3IHUxMjgobG8sIGhpKTsNCiAgICB9IGVsc2Ugew0KICAgICAgLy8gcyBpbiBbNjQuLjEyN10NCiAgICAgIHJldHVybiBuZXcgdTEyOCgwLCB2YWx1ZS5sbyA8PCAoc2hpZnQgLSA2NCkpOw0KICAgIH0NCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+PicpDQogIHN0YXRpYyBzaHIodmFsdWU6IHUxMjgsIHNoaWZ0OiBpMzIpOiB1MTI4IHsNCiAgICBzaGlmdCAmPSAxMjc7DQogICAgaWYgKHNoaWZ0ID09IDApIHJldHVybiB2YWx1ZTsNCg0KICAgIGlmIChzaGlmdCA8IDY0KSB7DQogICAgICAvLyBTaGlmdGluZyBsZXNzIHRoYW4gNjQgYml0czoNCiAgICAgIC8vIEhpZ2ggcGFydCBpcyBzaGlmdGVkIHJpZ2h0IGRpcmVjdGx5Lg0KICAgICAgLy8gTG93IHBhcnQgY29tZXMgZnJvbSBzaGlmdGluZyBsb3cgYW5kIGFkZGluZyBpbiBiaXRzIGZyb20gdGhlIGhpZ2ggcGFydC4NCiAgICAgIGxldCBoaSA9IHZhbHVlLmhpID4+IHNoaWZ0Ow0KICAgICAgbGV0IGxvID0gKHZhbHVlLmhpIDw8ICg2NCAtIHNoaWZ0KSkgfCAodmFsdWUubG8gPj4gc2hpZnQpOw0KICAgICAgcmV0dXJuIG5ldyB1MTI4KGxvLCBoaSk7DQogICAgfSBlbHNlIHsNCiAgICAgIC8vIFNoaWZ0aW5nIDY0IGJpdHMgb3IgbW9yZToNCiAgICAgIGxldCBzID0gc2hpZnQgLSA2NDsNCiAgICAgIGlmIChzID09IDApIHsNCiAgICAgICAgLy8gRXhhY3RseSA2NCBiaXRzIHNoaWZ0OiBsbyA9IGhpLCBoaSA9IDANCiAgICAgICAgcmV0dXJuIG5ldyB1MTI4KHZhbHVlLmhpLCAwKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIE1vcmUgdGhhbiA2NCBiaXRzICh1cCB0byAxMjcgYml0cyk6DQogICAgICAgIC8vIFdlIGRpc2NhcmQgdGhlIGxvdyBwYXJ0IGVudGlyZWx5IGFuZCBzaGlmdCB0aGUgaGlnaCBwYXJ0IHJpZ2h0IGJ5IHMuDQogICAgICAgIGxldCBsbyA9IHZhbHVlLmhpID4+IHM7DQogICAgICAgIHJldHVybiBuZXcgdTEyOChsbywgMCk7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJz4+PicpDQogIHN0YXRpYyBzaHJfdSh2YWx1ZTogdTEyOCwgc2hpZnQ6IGkzMik6IHUxMjggew0KICAgIHJldHVybiB1MTI4LnNocih2YWx1ZSwgc2hpZnQpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgcm90bCh2YWx1ZTogdTEyOCwgc2hpZnQ6IGkzMik6IHUxMjggew0KICAgIGxldCBuID0gc2hpZnQgJiAxMjc7DQogICAgaWYgKG4gPT0gMCkgcmV0dXJuIHZhbHVlLmNsb25lKCk7DQoNCiAgICBsZXQgbG8gPSB2YWx1ZS5sbzsNCiAgICBsZXQgaGkgPSB2YWx1ZS5oaTsNCiAgICBpZiAobiA9PSA2NCkgew0KICAgICAgcmV0dXJuIG5ldyB1MTI4KGhpLCBsbyk7DQogICAgfQ0KICAgIGlmIChuICYgNjQpIHsNCiAgICAgIGxldCB0ID0gbG87DQogICAgICBsbyA9IGhpOw0KICAgICAgaGkgPSB0Ow0KICAgIH0NCiAgICBsZXQgc2xvID0gbG8gPDwgbjsNCiAgICBsZXQgc2hpID0gaGkgPDwgbjsNCiAgICBsZXQgcmxvID0gbG8gPj4gKDY0IC0gbik7DQogICAgbGV0IHJoaSA9IGhpID4+ICg2NCAtIG4pOw0KICAgIHJldHVybiBuZXcgdTEyOChzbG8gfCByaGksIHNoaSB8IHJsbyk7DQogIH0NCg0KICBAaW5saW5lDQogIHN0YXRpYyByb3RyKHZhbHVlOiB1MTI4LCBzaGlmdDogaTMyKTogdTEyOCB7DQogICAgbGV0IG4gPSBzaGlmdCAmIDEyNzsNCiAgICBpZiAobiA9PSAwKSByZXR1cm4gdmFsdWUuY2xvbmUoKTsNCg0KICAgIGxldCBsbyA9IHZhbHVlLmxvOw0KICAgIGxldCBoaSA9IHZhbHVlLmhpOw0KICAgIGlmIChuID09IDY0KSB7DQogICAgICByZXR1cm4gbmV3IHUxMjgoaGksIGxvKTsNCiAgICB9DQogICAgaWYgKG4gJiA2NCkgew0KICAgICAgbGV0IHQgPSBsbzsNCiAgICAgIGxvID0gaGk7DQogICAgICBoaSA9IHQ7DQogICAgfQ0KICAgIGxldCBzbG8gPSBsbyA+PiBuOw0KICAgIGxldCBzaGkgPSBoaSA+PiBuOw0KICAgIGxldCBybG8gPSBsbyA8PCAoNjQgLSBuKTsNCiAgICBsZXQgcmhpID0gaGkgPDwgKDY0IC0gbik7DQogICAgcmV0dXJuIG5ldyB1MTI4KHNsbyB8IHJoaSwgc2hpIHwgcmxvKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCcrJykNCiAgc3RhdGljIGFkZChhOiB1MTI4LCBiOiB1MTI4KTogdTEyOCB7DQogICAgdmFyIGFsbyA9IGEubG87DQogICAgdmFyIGxvID0gYWxvICsgYi5sbzsNCiAgICB2YXIgaGkgPSBhLmhpICsgYi5oaSArIHU2NChsbyA8IGFsbyk7DQogICAgcmV0dXJuIG5ldyB1MTI4KGxvLCBoaSk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignLScpDQogIHN0YXRpYyBzdWIoYTogdTEyOCwgYjogdTEyOCk6IHUxMjggew0KICAgIHZhciBhbG8gPSBhLmxvOw0KICAgIHZhciBsbyA9IGFsbyAtIGIubG87DQogICAgdmFyIGhpID0gYS5oaSAtIGIuaGkgLSB1NjQobG8gPiBhbG8pOw0KICAgIHJldHVybiBuZXcgdTEyOChsbywgaGkpOw0KICB9DQoNCiAgLy8gbXVsOiB1MTI4IHggdTEyOCA9IHUxMjgNCiAgQGlubGluZSBAb3BlcmF0b3IoJyonKQ0KICBzdGF0aWMgbXVsKGE6IHUxMjgsIGI6IHUxMjgpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoDQogICAgICBfX211bHRpMyhhLmxvLCBhLmhpLCBiLmxvLCBiLmhpKSwNCiAgICAgIF9fcmVzMTI4X2hpDQogICAgKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCcvJykNCiAgc3RhdGljIGRpdihhOiB1MTI4LCBiOiB1MTI4KTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KA0KICAgICAgX191ZGl2bW9kMTI4KGEubG8sIGEuaGksIGIubG8sIGIuaGkpLA0KICAgICAgX19kaXZtb2RfcXVvdF9oaQ0KICAgICk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignJScpDQogIHN0YXRpYyByZW0oYTogdTEyOCwgYjogdTEyOCk6IHUxMjggew0KICAgIF9fdWRpdm1vZDEyOChhLmxvLCBhLmhpLCBiLmxvLCBiLmhpKTsNCiAgICByZXR1cm4gbmV3IHUxMjgoX19kaXZtb2RfcmVtX2xvLCBfX2Rpdm1vZF9yZW1faGkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgZGl2MTAodmFsdWU6IHUxMjgpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgoDQogICAgICBfX3VkaXZtb2QxMjhfMTAodmFsdWUubG8sIHZhbHVlLmhpKSwNCiAgICAgIF9fZGl2bW9kX3F1b3RfaGkNCiAgICApOw0KICB9DQoNCiAgQGlubGluZQ0KICBzdGF0aWMgcmVtMTAodmFsdWU6IHUxMjgpOiB1MTI4IHsNCiAgICBfX3VkaXZtb2QxMjhfMTAodmFsdWUubG8sIHZhbHVlLmhpKTsNCiAgICByZXR1cm4gbmV3IHUxMjgoX19kaXZtb2RfcmVtX2xvLCBfX2Rpdm1vZF9yZW1faGkpOw0KICB9DQoNCiAgLyoqDQogICAqIENhbGN1bGF0ZSBwb3dlciBvZiBiYXNlIHdpdGggZXhwb25lbnQNCiAgICogQHBhcmFtICBiYXNlICAgICAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICogQHBhcmFtICBleHBvbmVudCAzMi1iaXQgc2lnbmVkIGludGVnZXINCiAgICogQHJldHVybnMgICAgICAgICAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICovDQogIEBvcGVyYXRvcignKionKQ0KICBzdGF0aWMgcG93KGJhc2U6IHUxMjgsIGV4cG9uZW50OiBpMzIpOiB1MTI4IHsNCiAgICAvLyBhbnkgbmVnYXRpdmUgZXhwb25lbnQgcHJvZHVjZSB6ZXJvDQoNCiAgICB2YXIgcmVzdWx0ID0gdTEyOC5PbmU7DQoNCiAgICBpZiAoYmFzZSA9PSByZXN1bHQpIHJldHVybiByZXN1bHQ7DQogICAgdmFyIHRtcCA9IGJhc2UuY2xvbmUoKTsNCiAgICBpZiAoZXhwb25lbnQgPD0gMSkgew0KICAgICAgaWYgKGV4cG9uZW50IDwgMCkgcmV0dXJuIHUxMjguWmVybzsNCiAgICAgIHJldHVybiBleHBvbmVudCA9PSAwID8gcmVzdWx0IDogdG1wOw0KICAgIH0NCg0KICAgIGlmIChBU0NfU0hSSU5LX0xFVkVMIDwgMSkgew0KICAgICAgdmFyIGxvID0gYmFzZS5sbzsNCiAgICAgIHZhciBoaSA9IGJhc2UuaGk7DQogICAgICAvLyBpZiBiYXNlID4gdTY0OjptYXggYW5kIGV4cCA+IDEgYWx3YXlzIHJldHVybiAiMCINCiAgICAgIGlmICghbG8pIHJldHVybiB1MTI4Llplcm87DQogICAgICBpZiAoIWhpKSB7DQogICAgICAgIGxldCBsbzEgPSBsbyAtIDE7DQogICAgICAgIC8vICIxIF4gZXhwb25lbnQiIGFsd2F5cyByZXR1cm4gIjEiDQogICAgICAgIGlmICghbG8xKSByZXR1cm4gcmVzdWx0Ow0KDQogICAgICAgIC8vIGlmIGJhc2UgaXMgcG93ZXIgb2YgdHdvIGRvICIxIDw8IGxvZzIoYmFzZSkgKiBleHAiDQogICAgICAgIGlmICghKGxvICYgbG8xKSkgew0KICAgICAgICAgIGxldCBzaGlmdCA9IDxpMzI+KDY0IC0gY2x6KGxvMSkpICogZXhwb25lbnQ7DQogICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgIHJldHVybiBzaGlmdCA8IDEyOCA/IHJlc3VsdCA8PCBzaGlmdCA6IHUxMjguWmVybzsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBpZiAoZXhwb25lbnQgPD0gNCkgew0KICAgICAgICBsZXQgYmFzZVNxID0gdG1wLnNxcigpOw0KICAgICAgICBzd2l0Y2ggKGV4cG9uZW50KSB7DQogICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgcmV0dXJuIGJhc2VTcTsgICAgICAgIC8vIGJhc2UgXiAyDQogICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgIGNhc2UgMzoNCiAgICAgICAgICAgIHJldHVybiBiYXNlU3EgKiBiYXNlOyAvLyBiYXNlIF4gMiAqIGJhc2UNCiAgICAgICAgICBjYXNlIDQ6DQogICAgICAgICAgICByZXR1cm4gYmFzZVNxLnNxcigpOyAgLy8gYmFzZSBeIDIgKiBiYXNlIF4gMg0KICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBsZXQgbG9nID0gMzIgLSBjbHooZXhwb25lbnQpOw0KICAgICAgaWYgKGxvZyA8PSA3KSB7DQogICAgICAgIC8vIDEyOCA9IDIgXiA3LCBzbyBuZWVkIHVzdWFsbHkgb25seSBzZXZlbiBjYXNlcw0KICAgICAgICBzd2l0Y2ggKGxvZykgew0KICAgICAgICAgIGNhc2UgNzoNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGlmIChleHBvbmVudCAmIDEpIHJlc3VsdCAqPSB0bXA7DQogICAgICAgICAgICBleHBvbmVudCA+Pj0gMTsNCiAgICAgICAgICAgIHRtcC5zcXIoKTsNCiAgICAgICAgICBjYXNlIDY6DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBpZiAoZXhwb25lbnQgJiAxKSByZXN1bHQgKj0gdG1wOw0KICAgICAgICAgICAgZXhwb25lbnQgPj49IDE7DQogICAgICAgICAgICB0bXAuc3FyKCk7DQogICAgICAgICAgY2FzZSA1Og0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgaWYgKGV4cG9uZW50ICYgMSkgcmVzdWx0ICo9IHRtcDsNCiAgICAgICAgICAgIGV4cG9uZW50ID4+PSAxOw0KICAgICAgICAgICAgdG1wLnNxcigpOw0KICAgICAgICAgIGNhc2UgNDoNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGlmIChleHBvbmVudCAmIDEpIHJlc3VsdCAqPSB0bXA7DQogICAgICAgICAgICBleHBvbmVudCA+Pj0gMTsNCiAgICAgICAgICAgIHRtcC5zcXIoKTsNCiAgICAgICAgICBjYXNlIDM6DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBpZiAoZXhwb25lbnQgJiAxKSByZXN1bHQgKj0gdG1wOw0KICAgICAgICAgICAgZXhwb25lbnQgPj49IDE7DQogICAgICAgICAgICB0bXAuc3FyKCk7DQogICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgaWYgKGV4cG9uZW50ICYgMSkgcmVzdWx0ICo9IHRtcDsNCiAgICAgICAgICAgIGV4cG9uZW50ID4+PSAxOw0KICAgICAgICAgICAgdG1wLnNxcigpOw0KICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGlmIChleHBvbmVudCAmIDEpIHJlc3VsdCAqPSB0bXA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgIH0NCiAgICB9DQoNCiAgICB3aGlsZSAoZXhwb25lbnQgPiAwKSB7DQogICAgICAvLyBAdHMtaWdub3JlDQogICAgICBpZiAoZXhwb25lbnQgJiAxKSByZXN1bHQgKj0gdG1wOw0KICAgICAgZXhwb25lbnQgPj49IDE7DQogICAgICB0bXAuc3FyKCk7DQogICAgfQ0KICAgIHJldHVybiByZXN1bHQ7DQogIH0NCg0KICAvLyBjb21wdXRlIGZsb29yKHNxcnQoeCkpDQogIHN0YXRpYyBzcXJ0KHZhbHVlOiB1MTI4KTogdTEyOCB7DQogICAgdmFyIHJlbSA9IHZhbHVlLmNsb25lKCk7DQogICAgaWYgKHZhbHVlIDwgbmV3IHUxMjgoMikpIHsNCiAgICAgIHJldHVybiByZW07DQogICAgfQ0KICAgIHZhciByZXMgPSB1MTI4Llplcm87DQogICAgLy8gQHRzLWlnbm9yZQ0KICAgIHZhciBwb3MgPSB1MTI4Lk9uZSA8PCAoMTI3IC0gKHUxMjguY2x6KHZhbHVlKSB8IDEpKTsNCiAgICAvLyBAdHMtaWdub3JlDQogICAgd2hpbGUgKCFwb3MuaXNaZXJvKCkpIHsNCiAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgIHZhbHVlID0gcmVzICsgcG9zOw0KICAgICAgaWYgKHJlbSA+PSB2YWx1ZSkgew0KICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgIHJlbSA9IHJlbSAtIHZhbHVlOw0KICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgIHJlcyA9IHBvcyArIHZhbHVlOw0KICAgICAgfQ0KICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgcmVzID4+PSAxOw0KICAgICAgcG9zID4+PSAyOw0KICAgIH0NCiAgICByZXR1cm4gcmVzOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJz09JykNCiAgc3RhdGljIGVxKGE6IHUxMjgsIGI6IHUxMjgpOiBib29sIHsNCiAgICByZXR1cm4gYS5oaSA9PSBiLmhpICYmIGEubG8gPT0gYi5sbzsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCchPScpDQogIHN0YXRpYyBuZShhOiB1MTI4LCBiOiB1MTI4KTogYm9vbCB7DQogICAgcmV0dXJuICF1MTI4LmVxKGEsIGIpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJzwnKQ0KICBzdGF0aWMgbHQoYTogdTEyOCwgYjogdTEyOCk6IGJvb2wgew0KICAgIHZhciBhaCA9IGEuaGksIGJoID0gYi5oaTsNCiAgICByZXR1cm4gYWggPT0gYmggPyBhLmxvIDwgYi5sbyA6IGFoIDwgYmg7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvcignPicpDQogIHN0YXRpYyBndChhOiB1MTI4LCBiOiB1MTI4KTogYm9vbCB7DQogICAgdmFyIGFoID0gYS5oaSwgYmggPSBiLmhpOw0KICAgIHJldHVybiBhaCA9PSBiaCA/IGEubG8gPiBiLmxvIDogYWggPiBiaDsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc8PScpDQogIHN0YXRpYyBsZShhOiB1MTI4LCBiOiB1MTI4KTogYm9vbCB7DQogICAgcmV0dXJuICF1MTI4Lmd0KGEsIGIpOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IoJz49JykNCiAgc3RhdGljIGdlKGE6IHUxMjgsIGI6IHUxMjgpOiBib29sIHsNCiAgICByZXR1cm4gIXUxMjgubHQoYSwgYik7DQogIH0NCg0KICAvKioNCiAgICogR2V0IG9yZGVyaW5nDQogICAqIGlmIGEgPiBiIHRoZW4gcmVzdWx0IGlzICAxDQogICAqIGlmIGEgPCBiIHRoZW4gcmVzdWx0IGlzIC0xDQogICAqIGlmIGEgPSBiIHRoZW4gcmVzdWx0IGlzICAwDQogICAqIEBwYXJhbSAgYSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICogQHBhcmFtICBiIDEyOC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKiBAcmV0dXJucyAgMzItYml0IHNpZ25lZCBpbnRlZ2VyDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBvcmQoYTogdTEyOCwgYjogdTEyOCk6IGkzMiB7DQogICAgLy8gaWYgYSA+IGIgPT4gKzENCiAgICAvLyBpZiBhIDwgYiA9PiAtMQ0KICAgIC8vIGlmIGVxdWFsID0+IDANCiAgICBpZiAoYS5oaSA+IGIuaGkpIHJldHVybiAxOw0KICAgIGlmIChhLmhpIDwgYi5oaSkgcmV0dXJuIC0xOw0KICAgIGlmIChhLmxvID4gYi5sbykgcmV0dXJuIDE7DQogICAgaWYgKGEubG8gPCBiLmxvKSByZXR1cm4gLTE7DQogICAgcmV0dXJuIDA7DQogIH0NCg0KICAvKioNCiAgICogQ29tcHV0ZSBjb3VudCBvZiBzZXQgKHBvcHVsYXRlZCkgYml0cw0KICAgKiBAcGFyYW0gIHZhbHVlIDEyOC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKiBAcmV0dXJucyAgICAgIDMyLWJpdCBzaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgcG9wY250KHZhbHVlOiB1MTI4KTogaTMyIHsNCiAgICByZXR1cm4gPGkzMj4ocG9wY250KHZhbHVlLmxvKSArIHBvcGNudCh2YWx1ZS5oaSkpOw0KICB9DQoNCiAgLyoqDQogICAqIENvbXB1dGUgYml0IGNvdW50IG9mIGxlYWRpbmcgemVyb3MNCiAgICogQHBhcmFtICB2YWx1ZSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICogQHJldHVybnMgICAgICAzMi1iaXQgc2lnbmVkIGludGVnZXINCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGNseih2YWx1ZTogdTEyOCk6IGkzMiB7DQogICAgcmV0dXJuIF9fY2x6MTI4KHZhbHVlLmxvLCB2YWx1ZS5oaSk7DQogIH0NCg0KICAvKioNCiAgICogQ29tcHV0ZSBiaXQgY291bnQgb2YgdHJhaWxpbmcgemVyb3MNCiAgICogQHBhcmFtICB2YWx1ZSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICogQHJldHVybnMgICAgICAzMi1iaXQgc2lnbmVkIGludGVnZXINCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGN0eih2YWx1ZTogdTEyOCk6IGkzMiB7DQogICAgcmV0dXJuIF9fY3R6MTI4KHZhbHVlLmxvLCB2YWx1ZS5oaSk7DQogIH0NCg0KICAvKioNCiAgICogQ2FsY3VsYXRlIHNxdWFyZWQgdmFsdWUgKHZhbHVlICoqIDIpDQogICAqIEBwYXJhbSAgdmFsdWUgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqIEByZXR1cm5zICAgICAgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBzcXIodmFsdWU6IHUxMjgpOiB1MTI4IHsNCiAgICByZXR1cm4gdmFsdWUuY2xvbmUoKS5zcXIoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDYWxjdWxhdGUgbXVsdGlwbHkgYW5kIGRpdmlzaW9uIGFzIGBudW1iZXIgKiBudW1lcmF0b3IgLyBkZW5vbWluYXRvcmANCiAgICogd2l0aG91dCBvdmVyZmxvdyBpbiBtdWx0aXBsaWNhdGlvbiBwYXJ0Lg0KICAgKg0KICAgKiBAcmV0dXJucyAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICovDQogIHN0YXRpYyBtdWxkaXYoYTogdTEyOCwgYjogdTEyOCwgYzogdTEyOCk6IHUxMjggew0KICAgIGxldCBBID0gdTI1Ni5mcm9tVTEyOChhKTsNCiAgICBsZXQgQiA9IHUyNTYuZnJvbVUxMjgoYik7DQogICAgbGV0IEMgPSB1MjU2LmZyb21VMTI4KGMpOw0KDQogICAgbGV0IHByb2R1Y3QgPSB1MjU2Lm11bChBLCBCKTsNCiAgICBsZXQgcXVvdGllbnQgPSB1MjU2LmRpdihwcm9kdWN0LCBDKTsNCg0KICAgIHJldHVybiBxdW90aWVudC50b1UxMjgoKTsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc2V0KHZhbHVlOiB1MTI4KTogdGhpcyB7DQogICAgdGhpcy5sbyA9IHZhbHVlLmxvOw0KICAgIHRoaXMuaGkgPSB2YWx1ZS5oaTsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc2V0STY0KHZhbHVlOiBpNjQpOiB0aGlzIHsNCiAgICB0aGlzLmxvID0gdmFsdWU7DQogICAgdGhpcy5oaSA9IHZhbHVlID4+IDYzOw0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgQGlubGluZQ0KICBzZXRVNjQodmFsdWU6IHU2NCk6IHRoaXMgew0KICAgIHRoaXMubG8gPSB2YWx1ZTsNCiAgICB0aGlzLmhpID0gMDsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgc2V0STMyKHZhbHVlOiBpMzIpOiB0aGlzIHsNCiAgICB0aGlzLmxvID0gdmFsdWU7DQogICAgdGhpcy5oaSA9IHZhbHVlID4+IDYzOw0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgQGlubGluZQ0KICBzZXRVMzIodmFsdWU6IHUzMik6IHRoaXMgew0KICAgIHRoaXMubG8gPSB2YWx1ZTsNCiAgICB0aGlzLmhpID0gMDsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIEBpbmxpbmUNCiAgaXNaZXJvKCk6IGJvb2wgew0KICAgIHJldHVybiAhKHRoaXMubG8gfCB0aGlzLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yLnByZWZpeCgnficpDQogIG5vdCgpOiB1MTI4IHsNCiAgICByZXR1cm4gbmV3IHUxMjgofnRoaXMubG8sIH50aGlzLmhpKTsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yLnByZWZpeCgnKycpDQogIHBvcygpOiB1MTI4IHsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIEBpbmxpbmUgQG9wZXJhdG9yLnByZWZpeCgnLScpDQogIG5lZygpOiB1MTI4IHsNCiAgICB2YXIgbG8gPSB+dGhpcy5sbzsNCiAgICB2YXIgaGkgPSB+dGhpcy5oaTsNCiAgICB2YXIgbG8xID0gbG8gKyAxOw0KICAgIHJldHVybiBuZXcgdTEyOChsbzEsIGhpICsgdTY0KGxvMSA8IGxvKSk7DQogIH0NCg0KICBAb3BlcmF0b3IucHJlZml4KCcrKycpDQogIHByZUluYygpOiB0aGlzIHsNCiAgICB2YXIgbG8gPSB0aGlzLmxvOw0KICAgIHZhciBsbzEgPSBsbyArIDE7DQogICAgdGhpcy5oaSArPSB1NjQobG8xIDwgbG8pOw0KICAgIHRoaXMubG8gPSBsbzE7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICBAb3BlcmF0b3IucHJlZml4KCctLScpDQogIHByZURlYygpOiB0aGlzIHsNCiAgICB2YXIgbG8gPSB0aGlzLmxvOw0KICAgIHZhciBsbzEgPSBsbyAtIDE7DQogICAgdGhpcy5oaSAtPSB1NjQobG8xID4gbG8pOw0KICAgIHRoaXMubG8gPSBsbzE7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICBAb3BlcmF0b3IucG9zdGZpeCgnKysnKQ0KICBwb3N0SW5jKCk6IHUxMjggew0KICAgIHJldHVybiB0aGlzLmNsb25lKCkucHJlSW5jKCk7DQogIH0NCg0KICBAb3BlcmF0b3IucG9zdGZpeCgnLS0nKQ0KICBwb3N0RGVjKCk6IHUxMjggew0KICAgIHJldHVybiB0aGlzLmNsb25lKCkucHJlRGVjKCk7DQogIH0NCg0KICAvKioNCiAgICogQ2FsY3VsYXRlIGlucGxhY2Ugc3F1YXJlZCAxMjgtYml0IHVuc2lnbmVkIGludGVnZXIgKHRoaXMgKiogMikNCiAgICogQHJldHVybnMgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqLw0KICBzcXIoKTogdGhpcyB7DQogICAgLy8gVXNlIGJ1aWx0LWluIDEyOMOXMTI4ID0+IDEyOCBtdWx0aXBsaWNhdGlvbg0KICAgIC8vIGkuZS4gInggKiB4Ig0KICAgIGxldCB0bXAgPSB1MTI4Lm11bCh0aGlzLCB0aGlzKTsNCiAgICB0aGlzLmxvID0gdG1wLmxvOw0KICAgIHRoaXMuaGkgPSB0bXAuaGk7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydCB0byAyNTYtYml0IHNpZ25lZCBpbnRlZ2VyDQogICAqIEByZXR1cm5zIDI1Ni1iaXQgc2lnbmVkIGludGVnZXINCiAgICovDQogIEBpbmxpbmUNCiAgdG9JMjU2KCk6IGkyNTYgew0KICAgIHJldHVybiBuZXcgaTI1Nih0aGlzLmxvLCB0aGlzLmhpKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKiBAcmV0dXJucyAyNTYtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICovDQogIEBpbmxpbmUNCiAgdG9VMjU2KCk6IHUyNTYgew0KICAgIHJldHVybiBuZXcgdTI1Nih0aGlzLmxvLCB0aGlzLmhpKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDEyOC1iaXQgc2lnbmVkIGludGVnZXINCiAgICogQHJldHVybnMgMTI4LWJpdCBzaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0kxMjgoKTogaTEyOCB7DQogICAgcmV0dXJuIG5ldyBpMTI4KHRoaXMubG8sIHRoaXMuaGkpOw0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnQgdG8gMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqIEByZXR1cm5zIDEyOC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1UxMjgoKTogdGhpcyB7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydCB0byA2NC1iaXQgc2lnbmVkIGludGVnZXINCiAgICogQHJldHVybnMgNjQtYml0IHNpZ25lZCBpbnRlZ2VyDQogICAqLw0KICBAaW5saW5lDQogIHRvSTY0KCk6IGk2NCB7DQogICAgcmV0dXJuIDxpNjQ+KA0KICAgICAgKHRoaXMubG8gJiAweDdGRkZGRkZGRkZGRkZGRkYpIHwNCiAgICAgICh0aGlzLmhpICYgMHg4MDAwMDAwMDAwMDAwMDAwKQ0KICAgICk7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydCB0byA2NC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKiBAcmV0dXJucyA2NC1iaXQgdW5zaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1U2NCgpOiB1NjQgew0KICAgIHJldHVybiB0aGlzLmxvOw0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnQgdG8gMzItYml0IHNpZ25lZCBpbnRlZ2VyDQogICAqIEByZXR1cm5zIDMyLWJpdCBzaWduZWQgaW50ZWdlcg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0kzMigpOiBpMzIgew0KICAgIHJldHVybiA8aTMyPnRoaXMudG9JNjQoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqIEByZXR1cm5zIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyDQogICAqLw0KICBAaW5saW5lDQogIHRvVTMyKCk6IHUzMiB7DQogICAgcmV0dXJuIDx1MzI+dGhpcy5sbzsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDEtYml0IGJvb2xlYW4NCiAgICogQHJldHVybnMgMS1iaXQgYm9vbGVhbg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0Jvb2woKTogYm9vbCB7DQogICAgcmV0dXJuICh0aGlzLmxvIHwgdGhpcy5oaSkgIT0gMDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDY0LWJpdCBmbG9hdCBudW1iZXIgaW4gZGV0ZW1pbmlzdGljIHdheQ0KICAgKiBAcmV0dXJucyA2NC1iaXQgZmxvYXQNCiAgICovDQogIEBpbmxpbmUNCiAgdG9GNjQoKTogZjY0IHsNCiAgICByZXR1cm4gX19mbG9hdHVudGlkZih0aGlzLmxvLCB0aGlzLmhpKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIDMyLWJpdCBmbG9hdCBudW1iZXINCiAgICogQHJldHVybnMgMzItYml0IGZsb2F0DQogICAqLw0KICBAaW5saW5lDQogIHRvRjMyKCk6IGYzMiB7DQogICAgcmV0dXJuIDxmMzI+dGhpcy50b0Y2NCgpOw0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnQgdG8gZ2VuZXJpYyB0eXBlIGBUYC4gVXNlZnVsIGluc2lkZSBvdGhlciBnZW5lcmljcyBtZXRob2RzDQogICAqIEBwYXJhbSAgVCAgaXMgPGJvb2wgfCBpOCB8IHU4IHwgaTE2IHwgdTE2IHwgaTMyIHwgdTMyIHwgaTY0IHwgdTY0IHwgZjMyIHwgZjY0IHwgaTEyOCB8IHUxMjggfCB1MjU2IHwgdThbXSB8IFVpbnQ4QXJyYXkgfCBgU3RhdGljQXJyYXk8dTg+YCB8IHN0cmluZz4NCiAgICogQHJldHVybnMgICB0eXBlIG9mIGBUYA0KICAgKi8NCiAgQGlubGluZQ0KICBhczxUPigpOiBUIHsNCiAgICBpZiAoaXNCb29sZWFuPFQ+KCkpIHsNCiAgICAgIHJldHVybiA8VD50aGlzLnRvQm9vbCgpOw0KICAgIH0gZWxzZSBpZiAoaXNJbnRlZ2VyPFQ+KCkpIHsNCiAgICAgIGlmIChpc1NpZ25lZDxUPigpKSB7DQogICAgICAgIC8vIGk4LCBpMTYsIGkzMiwgaTY0DQogICAgICAgIHJldHVybiA8VD50aGlzLnRvSTY0KCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyB1OCwgdTE2LCB1MzIsIHU2NA0KICAgICAgICByZXR1cm4gPFQ+dGhpcy50b1U2NCgpOw0KICAgICAgfQ0KICAgIH0gZWxzZSBpZiAoaXNGbG9hdDxUPigpKSB7DQogICAgICAvLyBmMzIsIGY2NA0KICAgICAgcmV0dXJuIDxUPnRoaXMudG9GNjQoKTsNCiAgICB9IGVsc2UgaWYgKGlzU3RyaW5nPFQ+KCkpIHsNCiAgICAgIHJldHVybiA8VD50aGlzLnRvU3RyaW5nKCk7DQogICAgfSBlbHNlIGlmIChpc1JlZmVyZW5jZTxUPigpKSB7DQogICAgICBsZXQgZHVtbXkgPSBjaGFuZ2V0eXBlPFQ+KDApOw0KICAgICAgaWYgKGR1bW15IGluc3RhbmNlb2YgdThbXSkgcmV0dXJuIDxUPnRoaXMudG9CeXRlcygpOw0KICAgICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBTdGF0aWNBcnJheTx1OD4pIHJldHVybiA8VD50aGlzLnRvU3RhdGljQnl0ZXMoKTsNCiAgICAgIGVsc2UgaWYgKGR1bW15IGluc3RhbmNlb2YgVWludDhBcnJheSkgcmV0dXJuIDxUPnRoaXMudG9VaW50OEFycmF5KCk7DQogICAgICBlbHNlIGlmIChkdW1teSBpbnN0YW5jZW9mIGkxMjgpIHJldHVybiA8VD50aGlzLnRvSTEyOCgpOw0KICAgICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiB1MTI4KSByZXR1cm4gPFQ+dGhpczsNCiAgICAgIGVsc2UgaWYgKGR1bW15IGluc3RhbmNlb2YgdTI1NikgcmV0dXJuIDxUPnRoaXMudG9VMjU2KCk7DQogICAgICBlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIGdlbmVyaWMgdHlwZScpOw0KICAgIH0gZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnN1cHBvcnRlZCBnZW5lcmljIHR5cGUnKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIGJ5dGUgYXJyYXkNCiAgICogQHBhcmFtIGJpZ0VuZGlhbiBMaXR0bGUgb3IgQmlnIEVuZGlhbj8gRGVmYXVsdDogZmFsc2UNCiAgICogQHJldHVybnMgIEFycmF5IG9mIGJ5dGVzDQogICAqLw0KICBAaW5saW5lDQogIHRvQnl0ZXMoYmlnRW5kaWFuOiBib29sID0gZmFsc2UpOiB1OFtdIHsNCiAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5PHU4PigxNik7DQogICAgdGhpcy50b0FycmF5QnVmZmVyKHJlc3VsdC5kYXRhU3RhcnQsIGJpZ0VuZGlhbik7DQogICAgcmV0dXJuIHJlc3VsdDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIGJ5dGUgc3RhdGljIGFycmF5DQogICAqIEBwYXJhbSBiaWdFbmRpYW4gTGl0dGxlIG9yIEJpZyBFbmRpYW4/IERlZmF1bHQ6IGZhbHNlDQogICAqIEByZXR1cm5zICBTdGF0aWNBcnJheSBvZiBieXRlcw0KICAgKi8NCiAgQGlubGluZQ0KICB0b1N0YXRpY0J5dGVzKGJpZ0VuZGlhbjogYm9vbCA9IGZhbHNlKTogU3RhdGljQXJyYXk8dTg+IHsNCiAgICB2YXIgcmVzdWx0ID0gbmV3IFN0YXRpY0FycmF5PHU4PigxNik7DQogICAgdGhpcy50b0FycmF5QnVmZmVyKGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCksIGJpZ0VuZGlhbik7DQogICAgcmV0dXJuIHJlc3VsdDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0IHRvIFVpbnQ4QXJyYXkNCiAgICogQHBhcmFtIGJpZ0VuZGlhbiBMaXR0bGUgb3IgQmlnIEVuZGlhbj8gRGVmYXVsdDogZmFsc2UNCiAgICogQHJldHVybnMgIFVpbnQ4QXJyYXkNCiAgICovDQogIEBpbmxpbmUNCiAgdG9VaW50OEFycmF5KGJpZ0VuZGlhbjogYm9vbCA9IGZhbHNlKTogVWludDhBcnJheSB7DQogICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KDE2KTsNCiAgICB0aGlzLnRvQXJyYXlCdWZmZXIocmVzdWx0LmRhdGFTdGFydCwgYmlnRW5kaWFuKTsNCiAgICByZXR1cm4gcmVzdWx0Ow0KICB9DQoNCiAgLyoqDQogICAqIFJldHVybiBjb3B5IG9mIGN1cnJlbnQgMTI4LWJpdCB2YWx1ZQ0KICAgKiBAcmV0dXJucyAxMjgtYml0IHVuc2lnbmVkIGludGVnZXINCiAgICovDQogIGNsb25lKCk6IHUxMjggew0KICAgIHJldHVybiBuZXcgdTEyOCh0aGlzLmxvLCB0aGlzLmhpKTsNCiAgfQ0KDQogIHRvU3RyaW5nKHJhZGl4OiBpMzIgPSAxMCk6IHN0cmluZyB7DQogICAgYXNzZXJ0KHJhZGl4ID09IDEwIHx8IHJhZGl4ID09IDE2LCAncmFkaXggYXJndW1lbnQgbXVzdCBiZSBiZXR3ZWVuIDEwIG9yIDE2Jyk7DQogICAgaWYgKHRoaXMuaXNaZXJvKCkpIHJldHVybiAnMCc7DQoNCiAgICB2YXIgcmVzdWx0ID0gJyc7DQogICAgaWYgKHJhZGl4ID09IDE2KSB7DQogICAgICBsZXQgc2hpZnQ6IGkzMiA9IDEyNCAtICh1MTI4LmNseih0aGlzKSAmIH4zKTsNCiAgICAgIHdoaWxlIChzaGlmdCA+PSAwKSB7DQogICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgcmVzdWx0ICs9IEhFWF9DSEFSUy5jaGFyQXQoPGkzMj4oKHRoaXMgPj4gc2hpZnQpLmxvICYgMTUpKTsNCiAgICAgICAgc2hpZnQgLT0gNDsNCiAgICAgIH0NCiAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KICAgIHJldHVybiB1MTI4dG9EZWNpbWFsU3RyaW5nKHRoaXMpOw0KICB9DQoNCiAgQGlubGluZQ0KICBwcml2YXRlIHRvQXJyYXlCdWZmZXJMRShidWZmZXI6IHVzaXplKTogdm9pZCB7DQogICAgc3RvcmU8dTY0PihidWZmZXIsIHRoaXMubG8sIDAgKiBzaXplb2Y8dTY0PigpKTsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5oaSwgMSAqIHNpemVvZjx1NjQ+KCkpOw0KICB9DQoNCiAgQGlubGluZQ0KICBwcml2YXRlIHRvQXJyYXlCdWZmZXJCRShidWZmZXI6IHVzaXplKTogdm9pZCB7DQogICAgc3RvcmU8dTY0PihidWZmZXIsIGJzd2FwKHRoaXMuaGkpLCAwICogc2l6ZW9mPHU2ND4oKSk7DQogICAgc3RvcmU8dTY0PihidWZmZXIsIGJzd2FwKHRoaXMubG8pLCAxICogc2l6ZW9mPHU2ND4oKSk7DQogIH0NCg0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlcihidWZmZXI6IHVzaXplLCBiaWdFbmRpYW46IGJvb2wgPSBmYWxzZSk6IHZvaWQgew0KICAgIGlmIChiaWdFbmRpYW4pIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckJFKGJ1ZmZlcik7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckxFKGJ1ZmZlcik7DQogICAgfQ0KICB9DQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/integer/u256.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gJy4vaTEyOCc7DQppbXBvcnQgeyB1MTI4IH0gZnJvbSAnLi91MTI4JzsNCmltcG9ydCB7IHUyNTZ0b0RlY2ltYWxTdHJpbmcgfSBmcm9tICIuLi91dGlscyI7DQppbXBvcnQgew0KICBfX211bDI1NiwgX191MjU2Y2FycnksIF9fdTI1NmNhcnJ5U3ViLCBhZGQ2NExvY2FsLCBzdWI2NA0KfSBmcm9tICcuLi9nbG9iYWxzJzsNCg0KQGxhenkgY29uc3QgSEVYX0NIQVJTID0gJzAxMjM0NTY3ODlhYmNkZWYnOw0KDQovKioNCiAqIFJlcHJlc2VudHMgYSAyNTYtYml0IHVuc2lnbmVkIGludGVnZXIuDQogKi8NCmV4cG9ydCBjbGFzcyB1MjU2IHsNCg0KICAvKioNCiAgICogQ29uc3RydWN0cyBhIG5ldyBgdTI1NmAgd2l0aCB0aGUgc3BlY2lmaWVkIDY0LWJpdCBsaW1icy4NCiAgICogQGNvbnN0cnVjdG9yDQogICAqIEBwYXJhbSB7dTY0fSBbbG8xPTBdIC0gVGhlIGxvd2VzdCA2NCBiaXRzLg0KICAgKiBAcGFyYW0ge3U2NH0gW2xvMj0wXSAtIFRoZSA2NCBiaXRzIGFib3ZlIGBsbzFgLg0KICAgKiBAcGFyYW0ge3U2NH0gW2hpMT0wXSAtIFRoZSA2NCBiaXRzIGFib3ZlIGBsbzJgLg0KICAgKiBAcGFyYW0ge3U2NH0gW2hpMj0wXSAtIFRoZSBoaWdoZXN0IDY0IGJpdHMuDQogICAqLw0KICBjb25zdHJ1Y3RvcigNCiAgICBwdWJsaWMgbG8xOiB1NjQgPSAwLA0KICAgIHB1YmxpYyBsbzI6IHU2NCA9IDAsDQogICAgcHVibGljIGhpMTogdTY0ID0gMCwNCiAgICBwdWJsaWMgaGkyOiB1NjQgPSAwLA0KICApIHt9DQoNCiAgLyoqDQogICAqIEEgY29uc3RhbnQgcmVwcmVzZW50aW5nIDAgYXMgYSAyNTYtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt1MjU2fQ0KICAgKi8NCiAgQGlubGluZSBzdGF0aWMgZ2V0IFplcm8oKTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KCk7DQogIH0NCg0KICAvKioNCiAgICogQSBjb25zdGFudCByZXByZXNlbnRpbmcgMSBhcyBhIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICogQHJldHVybnMge3UyNTZ9DQogICAqLw0KICBAaW5saW5lIHN0YXRpYyBnZXQgT25lKCk6IHUyNTYgew0KICAgIHJldHVybiBuZXcgdTI1NigxKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyB0aGUgbWluaW11bSB2YWx1ZSAoMCkgZm9yIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICogRXF1aXZhbGVudCB0byBgWmVyb2AuDQogICAqIEByZXR1cm5zIHt1MjU2fQ0KICAgKi8NCiAgQGlubGluZSBzdGF0aWMgZ2V0IE1pbigpOiB1MjU2IHsNCiAgICByZXR1cm4gbmV3IHUyNTYoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyB0aGUgbWF4aW11bSB2YWx1ZSBmb3IgMjU2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKiBBbGwgYml0cyBzZXQgdG8gMS4NCiAgICogQHJldHVybnMge3UyNTZ9DQogICAqLw0KICBAaW5saW5lIHN0YXRpYyBnZXQgTWF4KCk6IHUyNTYgew0KICAgIHJldHVybiBuZXcgdTI1NigtMSwgLTEsIC0xLCAtMSk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhbiBleGlzdGluZyBgdTI1NmAuDQogICAqIEBwYXJhbSB7dTI1Nn0gdmFsdWUgLSBUaGUgc291cmNlIGB1MjU2YCB2YWx1ZS4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gQSBuZXcgY29weSBvZiB0aGUgYHZhbHVlYC4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VMjU2KHZhbHVlOiB1MjU2KTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KHZhbHVlLmxvMSwgdmFsdWUubG8yLCB2YWx1ZS5oaTEsIHZhbHVlLmhpMik7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhIDEyOC1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICogQHBhcmFtIHt1MTI4fSB2YWx1ZSAtIFRoZSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSByZXN1bHRpbmcgMjU2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUxMjgodmFsdWU6IHUxMjgpOiB1MjU2IHsNCiAgICByZXR1cm4gbmV3IHUyNTYodmFsdWUubG8sIHZhbHVlLmhpKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDcmVhdGVzIGEgbmV3IGB1MjU2YCBmcm9tIGEgNjQtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEBwYXJhbSB7dTY0fSB2YWx1ZSAtIFRoZSA2NC1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHJlc3VsdGluZyAyNTYtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tVTY0KHZhbHVlOiB1NjQpOiB1MjU2IHsNCiAgICByZXR1cm4gbmV3IHUyNTYodmFsdWUpOw0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYSBuZXcgYHUyNTZgIGZyb20gYSA2NC1iaXQgc2lnbmVkIGludGVnZXIgKHNpZ24tZXh0ZW5kcykuDQogICAqIEBwYXJhbSB7aTY0fSB2YWx1ZSAtIFRoZSA2NC1iaXQgc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSByZXN1bHRpbmcgMjU2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUk2NCh2YWx1ZTogaTY0KTogdTI1NiB7DQogICAgbGV0IG1hc2sgPSB2YWx1ZSA+PiA2MzsNCiAgICByZXR1cm4gbmV3IHUyNTYoPHU2ND52YWx1ZSwgbWFzaywgbWFzaywgbWFzayk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKiBAcGFyYW0ge3UzMn0gdmFsdWUgLSBUaGUgMzItYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSByZXN1bHRpbmcgMjU2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVUzMih2YWx1ZTogdTMyKTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KHZhbHVlKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDcmVhdGVzIGEgbmV3IGB1MjU2YCBmcm9tIGEgMzItYml0IHNpZ25lZCBpbnRlZ2VyIChzaWduLWV4dGVuZHMpLg0KICAgKiBAcGFyYW0ge2kzMn0gdmFsdWUgLSBUaGUgMzItYml0IHNpZ25lZCBpbnRlZ2VyLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21JMzIodmFsdWU6IGkzMik6IHUyNTYgew0KICAgIGxldCBtYXNrOiB1NjQgPSB2YWx1ZSA+PiA2MzsNCiAgICByZXR1cm4gbmV3IHUyNTYodmFsdWUsIG1hc2ssIG1hc2ssIG1hc2spOw0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYSBuZXcgYHUyNTZgIGZyb20gOCBzZXBhcmF0ZSAzMi1iaXQgc2VnbWVudHMgKGxvd2VyIHRvIGhpZ2hlcikuDQogICAqIEBwYXJhbSB7dTMyfSBsMCAtIExvd2VyIDMyIGJpdHMgb2YgdGhlIGZpcnN0IDY0LWJpdCBzZWdtZW50Lg0KICAgKiBAcGFyYW0ge3UzMn0gbDEgLSBIaWdoZXIgMzIgYml0cyBvZiB0aGUgZmlyc3QgNjQtYml0IHNlZ21lbnQuDQogICAqIEBwYXJhbSB7dTMyfSBsMiAtIExvd2VyIDMyIGJpdHMgb2YgdGhlIHNlY29uZCA2NC1iaXQgc2VnbWVudC4NCiAgICogQHBhcmFtIHt1MzJ9IGwzIC0gSGlnaGVyIDMyIGJpdHMgb2YgdGhlIHNlY29uZCA2NC1iaXQgc2VnbWVudC4NCiAgICogQHBhcmFtIHt1MzJ9IGgwIC0gTG93ZXIgMzIgYml0cyBvZiB0aGUgdGhpcmQgNjQtYml0IHNlZ21lbnQuDQogICAqIEBwYXJhbSB7dTMyfSBoMSAtIEhpZ2hlciAzMiBiaXRzIG9mIHRoZSB0aGlyZCA2NC1iaXQgc2VnbWVudC4NCiAgICogQHBhcmFtIHt1MzJ9IGgyIC0gTG93ZXIgMzIgYml0cyBvZiB0aGUgZm91cnRoIDY0LWJpdCBzZWdtZW50Lg0KICAgKiBAcGFyYW0ge3UzMn0gaDMgLSBIaWdoZXIgMzIgYml0cyBvZiB0aGUgZm91cnRoIDY0LWJpdCBzZWdtZW50Lg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlci4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21CaXRzKA0KICAgIGwwOiB1MzIsIGwxOiB1MzIsIGwyOiB1MzIsIGwzOiB1MzIsDQogICAgaDA6IHUzMiwgaDE6IHUzMiwgaDI6IHUzMiwgaDM6IHUzMiwNCiAgKTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KA0KICAgICAgPHU2ND5sMCB8ICgoPHU2ND5sMSkgPDwgMzIpLA0KICAgICAgPHU2ND5sMiB8ICgoPHU2ND5sMykgPDwgMzIpLA0KICAgICAgPHU2ND5oMCB8ICgoPHU2ND5oMSkgPDwgMzIpLA0KICAgICAgPHU2ND5oMiB8ICgoPHU2ND5oMykgPDwgMzIpLA0KICAgICk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhbiBhcnJheSBvZiBieXRlcyBvciBgVWludDhBcnJheWAuDQogICAqIEBwYXJhbSB7VH0gYXJyYXkgLSBUaGUgc291cmNlIGFycmF5IG9mIGJ5dGVzICh1OFtdIG9yIFVpbnQ4QXJyYXkpLg0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtiaWdFbmRpYW49ZmFsc2VdIC0gV2hldGhlciB0aGUgYnl0ZXMgYXJlIGluIGJpZy1lbmRpYW4gZm9ybWF0Lg0KICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHRoZSBnZW5lcmljIHR5cGUgYFRgIGlzIG5vdCBzdXBwb3J0ZWQuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSByZXN1bHRpbmcgYHUyNTZgLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbUJ5dGVzPFQ+KGFycmF5OiBULCBiaWdFbmRpYW46IGJvb2wgPSBmYWxzZSk6IHUyNTYgew0KICAgIC8vIEB0cy1pZ25vcmUNCiAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiB1OFtdKSB7DQogICAgICByZXR1cm4gYmlnRW5kaWFuDQogICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgPyB1MjU2LmZyb21CeXRlc0JFKDx1OFtdPmFycmF5KQ0KICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgIDogdTI1Ni5mcm9tQnl0ZXNMRSg8dThbXT5hcnJheSk7DQogICAgfSBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsNCiAgICAgIHJldHVybiBiaWdFbmRpYW4NCiAgICAgICAgPyB1MjU2LmZyb21VaW50OEFycmF5QkUoPFVpbnQ4QXJyYXk+YXJyYXkpDQogICAgICAgIDogdTI1Ni5mcm9tVWludDhBcnJheUxFKDxVaW50OEFycmF5PmFycmF5KTsNCiAgICB9IGVsc2Ugew0KICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5zdXBwb3J0ZWQgZ2VuZXJpYyB0eXBlIik7DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYSBuZXcgYHUyNTZgIGZyb20gYSBsaXR0bGUtZW5kaWFuIGFycmF5IG9mIGJ5dGVzLg0KICAgKiBAcGFyYW0ge3U4W119IGFycmF5IC0gQSAzMi1ieXRlIGFycmF5IChsaXR0bGUtZW5kaWFuKS4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHJlc3VsdGluZyBgdTI1NmAuDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tQnl0ZXNMRShhcnJheTogdThbXSk6IHUyNTYgew0KICAgIGFzc2VydChhcnJheS5sZW5ndGggJiYgKGFycmF5Lmxlbmd0aCAmIDMxKSA9PSAwKTsNCiAgICBsZXQgYnVmZmVyID0gYXJyYXkuZGF0YVN0YXJ0Ow0KICAgIHJldHVybiBuZXcgdTI1NigNCiAgICAgIGxvYWQ8dTY0PihidWZmZXIsIDApLA0KICAgICAgbG9hZDx1NjQ+KGJ1ZmZlciwgMSAqIHNpemVvZjx1NjQ+KCkpLA0KICAgICAgbG9hZDx1NjQ+KGJ1ZmZlciwgMiAqIHNpemVvZjx1NjQ+KCkpLA0KICAgICAgbG9hZDx1NjQ+KGJ1ZmZlciwgMyAqIHNpemVvZjx1NjQ+KCkpLA0KICAgICk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhIGJpZy1lbmRpYW4gYXJyYXkgb2YgYnl0ZXMuDQogICAqIEBwYXJhbSB7dThbXX0gYXJyYXkgLSBBIDMyLWJ5dGUgYXJyYXkgKGJpZy1lbmRpYW4pLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIGB1MjU2YC4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21CeXRlc0JFKGFycmF5OiB1OFtdKTogdTI1NiB7DQogICAgYXNzZXJ0KGFycmF5Lmxlbmd0aCAmJiAoYXJyYXkubGVuZ3RoICYgMzEpID09IDApOw0KICAgIGxldCBidWZmZXIgPSBhcnJheS5kYXRhU3RhcnQ7DQogICAgcmV0dXJuIG5ldyB1MjU2KA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAzICogc2l6ZW9mPHU2ND4oKSkpLA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAyICogc2l6ZW9mPHU2ND4oKSkpLA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAxICogc2l6ZW9mPHU2ND4oKSkpLA0KICAgICAgYnN3YXA8dTY0Pihsb2FkPHU2ND4oYnVmZmVyLCAwKSkNCiAgICApOw0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYSBuZXcgYHUyNTZgIGZyb20gYSBsaXR0bGUtZW5kaWFuIGBVaW50OEFycmF5YC4NCiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBhcnJheSAtIEEgMzItYnl0ZSBgVWludDhBcnJheWAgKGxpdHRsZS1lbmRpYW4pLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIGB1MjU2YC4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21VaW50OEFycmF5TEUoYXJyYXk6IFVpbnQ4QXJyYXkpOiB1MjU2IHsNCiAgICBhc3NlcnQoYXJyYXkubGVuZ3RoICYmIChhcnJheS5sZW5ndGggJiAzMSkgPT0gMCk7DQogICAgbGV0IGJ1ZmZlciA9IGFycmF5LmRhdGFTdGFydDsNCiAgICByZXR1cm4gbmV3IHUyNTYoDQogICAgICBsb2FkPHU2ND4oYnVmZmVyLCAwKSwNCiAgICAgIGxvYWQ8dTY0PihidWZmZXIsIDEgKiBzaXplb2Y8dTY0PigpKSwNCiAgICAgIGxvYWQ8dTY0PihidWZmZXIsIDIgKiBzaXplb2Y8dTY0PigpKSwNCiAgICAgIGxvYWQ8dTY0PihidWZmZXIsIDMgKiBzaXplb2Y8dTY0PigpKQ0KICAgICk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhIGJpZy1lbmRpYW4gYFVpbnQ4QXJyYXlgLg0KICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGFycmF5IC0gQSAzMi1ieXRlIGBVaW50OEFycmF5YCAoYmlnLWVuZGlhbikuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSByZXN1bHRpbmcgYHUyNTZgLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgZnJvbVVpbnQ4QXJyYXlCRShhcnJheTogVWludDhBcnJheSk6IHUyNTYgew0KICAgIGFzc2VydChhcnJheS5sZW5ndGggJiYgKGFycmF5Lmxlbmd0aCAmIDMxKSA9PSAwKTsNCiAgICBsZXQgYnVmZmVyID0gYXJyYXkuZGF0YVN0YXJ0Ow0KICAgIHJldHVybiBuZXcgdTI1NigNCiAgICAgIGJzd2FwPHU2ND4obG9hZDx1NjQ+KGJ1ZmZlciwgMyAqIHNpemVvZjx1NjQ+KCkpKSwNCiAgICAgIGJzd2FwPHU2ND4obG9hZDx1NjQ+KGJ1ZmZlciwgMiAqIHNpemVvZjx1NjQ+KCkpKSwNCiAgICAgIGJzd2FwPHU2ND4obG9hZDx1NjQ+KGJ1ZmZlciwgMSAqIHNpemVvZjx1NjQ+KCkpKSwNCiAgICAgIGJzd2FwPHU2ND4obG9hZDx1NjQ+KGJ1ZmZlciwgMCkpDQogICAgKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDcmVhdGVzIGEgbmV3IGB1MjU2YCBmcm9tIGEgNjQtYml0IGZsb2F0aW5nLXBvaW50IG51bWJlci4NCiAgICogTk9URTogVGhpcyBpcyBvbmx5IGNvcnJlY3QgdXAgdG8gYWJvdXQgMl41My4NCiAgICogQHBhcmFtIHtmNjR9IHZhbHVlIC0gVGhlIDY0LWJpdCBmbG9hdCB2YWx1ZS4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHJlc3VsdGluZyBgdTI1NmAuDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tRjY0KHZhbHVlOiBmNjQpOiB1MjU2IHsNCiAgICBsZXQgbWFzayA9IHU2NChyZWludGVycHJldDxpNjQ+KHZhbHVlKSA+PiA2Myk7DQogICAgcmV0dXJuIG5ldyB1MjU2KDx1NjQ+dmFsdWUsIG1hc2ssIG1hc2ssIG1hc2spOw0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYSBuZXcgYHUyNTZgIGZyb20gYSAzMi1iaXQgZmxvYXRpbmctcG9pbnQgbnVtYmVyLg0KICAgKiBOT1RFOiBUaGlzIGlzIG9ubHkgY29ycmVjdCB1cCB0byBhYm91dCAyXjIzLg0KICAgKiBAcGFyYW0ge2YzMn0gdmFsdWUgLSBUaGUgMzItYml0IGZsb2F0IHZhbHVlLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIGB1MjU2YC4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb21GMzIodmFsdWU6IGYzMik6IHUyNTYgew0KICAgIGxldCBtYXNrID0gdTY0KHJlaW50ZXJwcmV0PGkzMj4odmFsdWUpID4+IDMxKTsNCiAgICByZXR1cm4gbmV3IHUyNTYoPHU2ND52YWx1ZSwgbWFzaywgbWFzaywgbWFzayk7DQogIH0NCg0KICAvKioNCiAgICogQ3JlYXRlcyBhIG5ldyBgdTI1NmAgZnJvbSBhIGdlbmVyaWMgdmFsdWUgYFRgLg0KICAgKiBTdXBwb3J0ZWQgdHlwZXM6IGJvb2wsIGk4LCB1OCwgaTE2LCB1MTYsIGkzMiwgdTMyLCBpNjQsIHU2NCwgZjMyLCBmNjQsIHUxMjgsIHUyNTYsIHU4W10sIFVpbnQ4QXJyYXkuDQogICAqIEBwYXJhbSB7VH0gdmFsdWUgLSBUaGUgc291cmNlIHZhbHVlLg0KICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHRoZSB0eXBlIGBUYCBpcyBub3Qgc3VwcG9ydGVkLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcmVzdWx0aW5nIGB1MjU2YC4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGZyb208VD4odmFsdWU6IFQpOiB1MjU2IHsNCiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBib29sKSByZXR1cm4gdTI1Ni5mcm9tVTY0KDx1NjQ+dmFsdWUpOw0KICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTgpIHJldHVybiB1MjU2LmZyb21JNjQoPGk2ND52YWx1ZSk7DQogICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiB1OCkgcmV0dXJuIHUyNTYuZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkxNikgcmV0dXJuIHUyNTYuZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUxNikgcmV0dXJuIHUyNTYuZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkzMikgcmV0dXJuIHUyNTYuZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUzMikgcmV0dXJuIHUyNTYuZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGk2NCkgcmV0dXJuIHUyNTYuZnJvbUk2NCg8aTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHU2NCkgcmV0dXJuIHUyNTYuZnJvbVU2NCg8dTY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGYzMikgcmV0dXJuIHUyNTYuZnJvbUY2NCg8ZjY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGY2NCkgcmV0dXJuIHUyNTYuZnJvbUY2NCg8ZjY0PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUxMjgpIHJldHVybiB1MjU2LmZyb21VMTI4KDx1MTI4PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUyNTYpIHJldHVybiB1MjU2LmZyb21VMjU2KDx1MjU2PnZhbHVlKTsNCiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHU4W10pIHJldHVybiB1MjU2LmZyb21CeXRlcyg8dThbXT52YWx1ZSk7DQogICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSByZXR1cm4gdTI1Ni5mcm9tQnl0ZXMoPFVpbnQ4QXJyYXk+dmFsdWUpOw0KICAgIGVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5zdXBwb3J0ZWQgZ2VuZXJpYyB0eXBlIik7DQogIH0NCg0KICAvKioNCiAgICogUGFyc2VzIGEgc3RyaW5nIGluIGRlY2ltYWwgb3IgaGV4YWRlY2ltYWwgZm9ybWF0IGludG8gYSBgdTI1NmAuDQogICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgaW5wdXQgc3RyaW5nLg0KICAgKiBAcGFyYW0ge2kzMn0gW3JhZGl4PTEwXSAtIFRoZSBiYXNlICgxMCBmb3IgZGVjaW1hbCwgMTYgZm9yIGhleGFkZWNpbWFsKS4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHJlc3VsdGluZyBgdTI1NmAuDQogICAqLw0KICBAaW5saW5lDQogIHN0YXRpYyBmcm9tU3RyaW5nKHN0cjogc3RyaW5nLCByYWRpeDogaTMyID0gMTApOiB1MjU2IHsNCiAgICBhc3NlcnQocmFkaXggPT0gMTAgfHwgcmFkaXggPT0gMTYsICJyYWRpeCBtdXN0IGJlIDEwIG9yIDE2Iik7DQoNCiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aDsNCiAgICBpZiAobGVuID09IDApIHJldHVybiB1MjU2Llplcm87DQoNCiAgICBsZXQgcmVzdWx0ID0gdTI1Ni5aZXJvOw0KDQogICAgaWYgKHJhZGl4ID09IDEwKSB7DQogICAgICAvLyBQYXJzZSBkZWNpbWFsDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7DQogICAgICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7DQogICAgICAgIGFzc2VydChjID49IDB4MzAgJiYgYyA8PSAweDM5LCAiSW52YWxpZCBkZWNpbWFsIGRpZ2l0Iik7DQogICAgICAgIGxldCBkaWdpdDogdTY0ID0gYyAtIDB4MzA7DQogICAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIHUyNTYuZnJvbSgxMCkgKyB1MjU2LmZyb20oZGlnaXQpOw0KICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAvLyBQYXJzZSBoZXgNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTsNCiAgICAgICAgbGV0IGRpZ2l0OiB1NjQgPSAwOw0KICAgICAgICBpZiAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgew0KICAgICAgICAgIGRpZ2l0ID0gYyAtIDB4MzA7IC8vICcwJy0nOScNCiAgICAgICAgfSBlbHNlIGlmIChjID49IDB4NDEgJiYgYyA8PSAweDQ2KSB7DQogICAgICAgICAgZGlnaXQgPSBjIC0gMHg0MSArIDEwOyAvLyAnQSctJ0YnDQogICAgICAgIH0gZWxzZSBpZiAoYyA+PSAweDYxICYmIGMgPD0gMHg2Nikgew0KICAgICAgICAgIGRpZ2l0ID0gYyAtIDB4NjEgKyAxMDsgLy8gJ2EnLSdmJw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGFzc2VydChmYWxzZSwgIkludmFsaWQgaGV4YWRlY2ltYWwgZGlnaXQiKTsNCiAgICAgICAgfQ0KICAgICAgICByZXN1bHQgPSByZXN1bHQgKiB1MjU2LmZyb20oMTYpICsgdTI1Ni5mcm9tKGRpZ2l0KTsNCiAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gcmVzdWx0Ow0KICB9DQoNCiAgLyoqDQogICAqIENoZWNrcyBpZiBhIGdpdmVuIGB1MjU2YCB2YWx1ZSBpcyB6ZXJvIHVzaW5nIHRoZSBgIWAgb3BlcmF0b3IuDQogICAqIEBwYXJhbSB7dTI1Nn0gdmFsdWUgLSBUaGUgYHUyNTZgIHRvIGNoZWNrLg0KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHplcm8sIGZhbHNlIG90aGVyd2lzZS4NCiAgICovDQogIEBpbmxpbmUgQG9wZXJhdG9yLnByZWZpeCgnIScpDQogIHN0YXRpYyBpc0VtcHR5KHZhbHVlOiB1MjU2KTogYm9vbCB7DQogICAgcmV0dXJuIHZhbHVlLmlzWmVybygpOw0KICB9DQoNCiAgLyoqDQogICAqIEFkZHMgdHdvIGB1MjU2YCB2YWx1ZXMgYW5kIHJldHVybnMgYSBuZXcgYHUyNTZgIHdpdGggdGhlIHN1bS4NCiAgICogQHBhcmFtIHt1MjU2fSBhIC0gVGhlIGZpcnN0IGB1MjU2YCBhZGRlbmQuDQogICAqIEBwYXJhbSB7dTI1Nn0gYiAtIFRoZSBzZWNvbmQgYHUyNTZgIGFkZGVuZC4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHN1bSBvZiBgYWAgYW5kIGBiYC4NCiAgICovDQogIEBvcGVyYXRvcignKycpDQogIHN0YXRpYyBhZGQoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgew0KICAgIGxldCBsbzEgPSBhZGQ2NExvY2FsKGEubG8xLCBiLmxvMSwgMCk7DQogICAgbGV0IGMxID0gX191MjU2Y2Fycnk7DQogICAgbGV0IGxvMiA9IGFkZDY0TG9jYWwoYS5sbzIsIGIubG8yLCBjMSk7DQogICAgbGV0IGMyID0gX191MjU2Y2Fycnk7DQogICAgbGV0IGhpMSA9IGFkZDY0TG9jYWwoYS5oaTEsIGIuaGkxLCBjMik7DQogICAgbGV0IGMzID0gX191MjU2Y2Fycnk7DQogICAgbGV0IGhpMiA9IGFkZDY0TG9jYWwoYS5oaTIsIGIuaGkyLCBjMyk7DQogICAgcmV0dXJuIG5ldyB1MjU2KGxvMSwgbG8yLCBoaTEsIGhpMik7DQogIH0NCg0KICAvKioNCiAgICogRGl2aWRlcyBgYWAgYnkgYGJgIChpbnRlZ2VyIGRpdmlzaW9uKS4NCiAgICogQHBhcmFtIHt1MjU2fSBhIC0gVGhlIGRpdmlkZW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgZGl2aXNvci4NCiAgICogQHRocm93cyB7RXJyb3J9IElmIGBiYCBpcyB6ZXJvLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcXVvdGllbnQgb2YgdGhlIGRpdmlzaW9uLg0KICAgKi8NCiAgQG9wZXJhdG9yKCcvJykNCiAgcHVibGljIHN0YXRpYyBkaXYoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgew0KICAgIGlmIChiLmlzWmVybygpKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RpdmlzaW9uIGJ5IHplcm8nKTsNCiAgICB9DQogICAgaWYgKGEuaXNaZXJvKCkpIHsNCiAgICAgIHJldHVybiBuZXcgdTI1NigpOw0KICAgIH0NCiAgICBpZiAodTI1Ni5sdChhLCBiKSkgew0KICAgICAgcmV0dXJuIG5ldyB1MjU2KCk7IC8vIDANCiAgICB9DQogICAgaWYgKHUyNTYuZXEoYSwgYikpIHsNCiAgICAgIHJldHVybiBuZXcgdTI1NigxKTsNCiAgICB9DQoNCiAgICBsZXQgbiA9IGEuY2xvbmUoKTsNCiAgICBsZXQgZCA9IGIuY2xvbmUoKTsNCiAgICBsZXQgcmVzdWx0ID0gbmV3IHUyNTYoKTsNCg0KICAgIGNvbnN0IHNoaWZ0ID0gdTI1Ni5jbHooZCkgLSB1MjU2LmNseihuKTsNCiAgICBkID0gdTI1Ni5zaGwoZCwgc2hpZnQpOw0KDQogICAgZm9yIChsZXQgaSA9IHNoaWZ0OyBpID49IDA7IGktLSkgew0KICAgICAgaWYgKHUyNTYuZ2UobiwgZCkpIHsNCiAgICAgICAgbiA9IG4gLSBkOw0KICAgICAgICByZXN1bHQgPSByZXN1bHQgfCB1MjU2LnNobCh1MjU2Lk9uZSwgaSk7DQogICAgICB9DQogICAgICBkID0gZCA+PiAxOw0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0Ow0KICB9DQoNCiAgLyoqDQogICAqIExlZnQtc2hpZnRzIGEgYHUyNTZgIGJ5IHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJpdHMuDQogICAqIEBwYXJhbSB7dTI1Nn0gdmFsdWUgLSBUaGUgYHUyNTZgIHRvIHNoaWZ0Lg0KICAgKiBAcGFyYW0ge2kzMn0gc2hpZnQgLSBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQgKG1vZHVsbyAyNTYpLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgc2hpZnRlZCBgdTI1NmAuDQogICAqLw0KICBAb3BlcmF0b3IoJzw8JykNCiAgcHVibGljIHN0YXRpYyBzaGwodmFsdWU6IHUyNTYsIHNoaWZ0OiBpMzIpOiB1MjU2IHsNCiAgICAvLyBJZiBzaGlmdCA8PSAwLCBubyBsZWZ0IHNoaWZ0IG5lZWRlZCAoc2hpZnQ9MCA9PiByZXR1cm4gY2xvbmUsIHNoaWZ0PDAgPT4gdHJlYXQgYXMgMCkuDQogICAgaWYgKHNoaWZ0IDw9IDApIHsNCiAgICAgIHJldHVybiBzaGlmdCA9PSAwID8gdmFsdWUuY2xvbmUoKSA6IG5ldyB1MjU2KCk7DQogICAgfQ0KDQogICAgLy8gSWYgc2hpZnQgPj0gMjU2LCB0aGUgcmVzdWx0IGlzIHplcm8NCiAgICBpZiAoc2hpZnQgPj0gMjU2KSB7DQogICAgICByZXR1cm4gbmV3IHUyNTYoKTsNCiAgICB9DQoNCiAgICAvLyBOb3cgc2hpZnQgaXMgaW4gWzEuLjI1NV0uIE1hc2tpbmcgaXMgb3B0aW9uYWwgZm9yIGNsYXJpdHk6DQogICAgc2hpZnQgJj0gMjU1OyAvLyAoTm8gcmVhbCBlZmZlY3Qgbm93LCBidXQgaGFybWxlc3MgdG8ga2VlcC4pDQoNCiAgICBjb25zdCBiaXRzUGVyU2VnbWVudCA9IDY0Ow0KICAgIGNvbnN0IHNlZ21lbnRTaGlmdCA9IChzaGlmdCAvIGJpdHNQZXJTZWdtZW50KSB8IDA7DQogICAgY29uc3QgYml0U2hpZnQgPSBzaGlmdCAlIGJpdHNQZXJTZWdtZW50Ow0KDQogICAgY29uc3Qgc2VnbWVudHMgPSBbdmFsdWUubG8xLCB2YWx1ZS5sbzIsIHZhbHVlLmhpMSwgdmFsdWUuaGkyXTsNCiAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8dTY0Pig0KS5maWxsKDApOw0KDQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykgew0KICAgICAgaWYgKGkgKyBzZWdtZW50U2hpZnQgPCBzZWdtZW50cy5sZW5ndGgpIHsNCiAgICAgICAgcmVzdWx0W2kgKyBzZWdtZW50U2hpZnRdIHw9IHNlZ21lbnRzW2ldIDw8IGJpdFNoaWZ0Ow0KICAgICAgfQ0KICAgICAgaWYgKGJpdFNoaWZ0ICE9IDAgJiYgaSArIHNlZ21lbnRTaGlmdCArIDEgPCBzZWdtZW50cy5sZW5ndGgpIHsNCiAgICAgICAgcmVzdWx0W2kgKyBzZWdtZW50U2hpZnQgKyAxXSB8PSBzZWdtZW50c1tpXSA+Pj4gKGJpdHNQZXJTZWdtZW50IC0gYml0U2hpZnQpOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBuZXcgdTI1NihyZXN1bHRbMF0sIHJlc3VsdFsxXSwgcmVzdWx0WzJdLCByZXN1bHRbM10pOw0KICB9DQoNCiAgLyoqDQogICAqIFN1YnRyYWN0cyBgYmAgZnJvbSBgYWAgYW5kIHJldHVybnMgYSBuZXcgYHUyNTZgLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGEgLSBUaGUgbWludWVuZC4NCiAgICogQHBhcmFtIHt1MjU2fSBiIC0gVGhlIHN1YnRyYWhlbmQuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSBkaWZmZXJlbmNlIGBhIC0gYmAuDQogICAqLw0KICBAb3BlcmF0b3IoJy0nKQ0KICBzdGF0aWMgc3ViKGE6IHUyNTYsIGI6IHUyNTYpOiB1MjU2IHsNCiAgICBsZXQgbG8xID0gc3ViNjQoYS5sbzEsIGIubG8xLCAwKTsNCiAgICBsZXQgYjEgPSBfX3UyNTZjYXJyeVN1YjsNCiAgICBsZXQgbG8yID0gc3ViNjQoYS5sbzIsIGIubG8yLCBiMSk7DQogICAgbGV0IGIyID0gX191MjU2Y2FycnlTdWI7DQogICAgbGV0IGhpMSA9IHN1YjY0KGEuaGkxLCBiLmhpMSwgYjIpOw0KICAgIGxldCBiMyA9IF9fdTI1NmNhcnJ5U3ViOw0KICAgIGxldCBoaTIgPSBzdWI2NChhLmhpMiwgYi5oaTIsIGIzKTsNCiAgICByZXR1cm4gbmV3IHUyNTYobG8xLCBsbzIsIGhpMSwgaGkyKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBCaXR3aXNlIE9SIGJldHdlZW4gdHdvIGB1MjU2YCB2YWx1ZXMuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSBiaXR3aXNlIE9SIHJlc3VsdC4NCiAgICovDQogIEBpbmxpbmUgQG9wZXJhdG9yKCd8JykNCiAgc3RhdGljIG9yKGE6IHUyNTYsIGI6IHUyNTYpOiB1MjU2IHsNCiAgICByZXR1cm4gbmV3IHUyNTYoYS5sbzEgfCBiLmxvMSwgYS5sbzIgfCBiLmxvMiwgYS5oaTEgfCBiLmhpMSwgYS5oaTIgfCBiLmhpMik7DQogIH0NCg0KICAvKioNCiAgICogQml0d2lzZSBYT1IgYmV0d2VlbiB0d28gYHUyNTZgIHZhbHVlcy4NCiAgICogQHBhcmFtIHt1MjU2fSBhIC0gVGhlIGZpcnN0IG9wZXJhbmQuDQogICAqIEBwYXJhbSB7dTI1Nn0gYiAtIFRoZSBzZWNvbmQgb3BlcmFuZC4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIGJpdHdpc2UgWE9SIHJlc3VsdC4NCiAgICovDQogIEBpbmxpbmUgQG9wZXJhdG9yKCdeJykNCiAgc3RhdGljIHhvcihhOiB1MjU2LCBiOiB1MjU2KTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KGEubG8xIF4gYi5sbzEsIGEubG8yIF4gYi5sbzIsIGEuaGkxIF4gYi5oaTEsIGEuaGkyIF4gYi5oaTIpOw0KICB9DQoNCiAgLyoqDQogICAqIEJpdHdpc2UgQU5EIGJldHdlZW4gdHdvIGB1MjU2YCB2YWx1ZXMuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIFRoZSBiaXR3aXNlIEFORCByZXN1bHQuDQogICAqLw0KICBAaW5saW5lIEBvcGVyYXRvcignJicpDQogIHN0YXRpYyBhbmQoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgew0KICAgIHJldHVybiBuZXcgdTI1NihhLmxvMSAmIGIubG8xLCBhLmxvMiAmIGIubG8yLCBhLmhpMSAmIGIuaGkxLCBhLmhpMiAmIGIuaGkyKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBSaWdodC1zaGlmdHMgYSBgdTI1NmAgYnkgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgYml0cyAobG9naWNhbCBzaGlmdCkuDQogICAqIEBwYXJhbSB7dTI1Nn0gdmFsdWUgLSBUaGUgYHUyNTZgIHRvIHNoaWZ0Lg0KICAgKiBAcGFyYW0ge2kzMn0gc2hpZnQgLSBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQgKG1vZHVsbyAyNTYpLg0KICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgc2hpZnRlZCBgdTI1NmAuDQogICAqLw0KICBAb3BlcmF0b3IoJz4+JykNCiAgc3RhdGljIHNocih2YWx1ZTogdTI1Niwgc2hpZnQ6IGkzMik6IHUyNTYgew0KICAgIC8vIElmIHNoaWZ0IDw9IDAgPT4gc2hpZnQ9MCBtZWFucyAibm8gc2hpZnQsIiBzaGlmdDwwIGlzIGFyZ3VhYmx5IGludmFsaWQuDQogICAgLy8gV2UganVzdCByZXR1cm4gYSBpZiBzaGlmdD0wLCBlbHNlIHplcm8gaWYgbmVnYXRpdmUuIEFkanVzdCB0byB5b3VyIHByZWZlcmVuY2UuDQogICAgaWYgKHNoaWZ0IDw9IDApIHsNCiAgICAgIHJldHVybiBzaGlmdCA9PSAwID8gdmFsdWUuY2xvbmUoKSA6IHUyNTYuWmVybzsNCiAgICB9DQoNCiAgICAvLyBJZiBzaGlmdCA+PSAyNTYgPT4gdGhlIHJlc3VsdCBpcyB6ZXJvIGZvciBhIDI1Ni1iaXQgaW50ZWdlcg0KICAgIGlmIChzaGlmdCA+PSAyNTYpIHsNCiAgICAgIHJldHVybiB1MjU2Llplcm87DQogICAgfQ0KDQogICAgLy8gTm93IHNoaWZ0IGlzIGluIFsxLi4yNTVdDQogICAgLy8gU29tZSBjb2RlIGxpa2VzIHRvIGRvIHNoaWZ0ICY9IDI1NTsgYnV0IGFmdGVyIHRoZSBhYm92ZSBjaGVjaywgaXTigJlzIG5vIGxvbmdlciBuZWNlc3NhcnkuDQogICAgLy8gV2UnbGwga2VlcCBpdCBmb3IgY29uc2lzdGVuY3k6DQogICAgc2hpZnQgJj0gMjU1Ow0KDQogICAgLy8gSWYgYWZ0ZXIgbWFza2luZyBzaGlmdCBpcyAwLCB0aGF0IG1lYW5zIHRoZSBvcmlnaW5hbCBzaGlmdCB3YXMgbXVsdGlwbGUgb2YgMjU2LCBidXQgd2UgaGFuZGxlZCBpdCBhYm92ZQ0KICAgIGlmIChzaGlmdCA9PSAwKSByZXR1cm4gdmFsdWUuY2xvbmUoKTsNCg0KICAgIGNvbnN0IHcgPSBzaGlmdCA+Pj4gNjsgLy8gaG93IG1hbnkgZnVsbCA2NC1iaXQgd29yZHMgdG8gZHJvcA0KICAgIGNvbnN0IGIgPSBzaGlmdCAmIDYzOyAgLy8gaG93IG1hbnkgYml0cyB0byBzaGlmdCB3aXRoaW4gYSB3b3JkDQoNCiAgICAvLyBFeHRyYWN0IHRoZSB3b3Jkcw0KICAgIGxldCBsbzEgPSB2YWx1ZS5sbzE7DQogICAgbGV0IGxvMiA9IHZhbHVlLmxvMjsNCiAgICBsZXQgaGkxID0gdmFsdWUuaGkxOw0KICAgIGxldCBoaTIgPSB2YWx1ZS5oaTI7DQoNCiAgICAvLyBTaGlmdCB3b3JkcyBkb3duIGJ5IHcgd29yZHMNCiAgICBpZiAodyA+PSA0KSB7DQogICAgICByZXR1cm4gdTI1Ni5aZXJvOw0KICAgIH0gZWxzZSBpZiAodyA9PSAzKSB7DQogICAgICBsbzEgPSBoaTI7DQogICAgICBsbzIgPSAwOw0KICAgICAgaGkxID0gMDsNCiAgICAgIGhpMiA9IDA7DQogICAgfSBlbHNlIGlmICh3ID09IDIpIHsNCiAgICAgIGxvMSA9IGhpMTsNCiAgICAgIGxvMiA9IGhpMjsNCiAgICAgIGhpMSA9IDA7DQogICAgICBoaTIgPSAwOw0KICAgIH0gZWxzZSBpZiAodyA9PSAxKSB7DQogICAgICBsbzEgPSBsbzI7DQogICAgICBsbzIgPSBoaTE7DQogICAgICBoaTEgPSBoaTI7DQogICAgICBoaTIgPSAwOw0KICAgIH0NCg0KICAgIC8vIE5vdyBhcHBseSB0aGUgYml0IHNoaWZ0IGINCiAgICBpZiAoYiA+IDApIHsNCiAgICAgIGNvbnN0IGNhcnJ5TG8yID0gaGkxIDw8ICg2NCAtIGIpOw0KICAgICAgY29uc3QgY2FycnlMbzEgPSBsbzIgPDwgKDY0IC0gYik7DQogICAgICBjb25zdCBjYXJyeUhpMSA9IGhpMiA8PCAoNjQgLSBiKTsNCg0KICAgICAgbG8xID0gKGxvMSA+Pj4gYikgfCBjYXJyeUxvMTsNCiAgICAgIGxvMiA9IChsbzIgPj4+IGIpIHwgY2FycnlMbzI7DQogICAgICBoaTEgPSAoaGkxID4+PiBiKSB8IGNhcnJ5SGkxOw0KICAgICAgaGkyID0gaGkyID4+PiBiOw0KICAgIH0NCg0KICAgIHJldHVybiBuZXcgdTI1NihsbzEsIGxvMiwgaGkxLCBoaTIpOw0KICB9DQoNCiAgLyoqDQogICAqIFVuc2lnbmVkIHJpZ2h0IHNoaWZ0IG9wZXJhdG9yIChzYW1lIGFzIGBzaHJgIGZvciBgdTI1NmApLg0KICAgKiBAcGFyYW0ge3UyNTZ9IHZhbHVlIC0gVGhlIGB1MjU2YCB0byBzaGlmdC4NCiAgICogQHBhcmFtIHtpMzJ9IHNoaWZ0IC0gVGhlIG51bWJlciBvZiBiaXRzIHRvIHNoaWZ0IChtb2R1bG8gMjU2KS4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHNoaWZ0ZWQgYHUyNTZgLg0KICAgKi8NCiAgQGlubGluZSBAb3BlcmF0b3IoJz4+PicpDQogIHN0YXRpYyBzaHJfdSh2YWx1ZTogdTI1Niwgc2hpZnQ6IGkzMik6IHUyNTYgew0KICAgIHJldHVybiB1MjU2LnNocih2YWx1ZSwgc2hpZnQpOw0KICB9DQoNCiAgLyoqDQogICAqIENoZWNrcyBpZiB0d28gYHUyNTZgIHZhbHVlcyBhcmUgZXF1YWwuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHR3byB2YWx1ZXMgYXJlIGVxdWFsLCBvdGhlcndpc2UgZmFsc2UuDQogICAqLw0KICBAaW5saW5lIEBvcGVyYXRvcignPT0nKQ0KICBzdGF0aWMgZXEoYTogdTI1NiwgYjogdTI1Nik6IGJvb2wgew0KICAgIHJldHVybiAoDQogICAgICBhLmxvMSA9PSBiLmxvMSAmJiBhLmxvMiA9PSBiLmxvMiAmJg0KICAgICAgYS5oaTEgPT0gYi5oaTEgJiYgYS5oaTIgPT0gYi5oaTINCiAgICApOw0KICB9DQoNCiAgLyoqDQogICAqIENoZWNrcyBpZiB0d28gYHUyNTZgIHZhbHVlcyBhcmUgbm90IGVxdWFsLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGEgLSBUaGUgZmlyc3Qgb3BlcmFuZC4NCiAgICogQHBhcmFtIHt1MjU2fSBiIC0gVGhlIHNlY29uZCBvcGVyYW5kLg0KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSB0d28gdmFsdWVzIGRpZmZlciwgb3RoZXJ3aXNlIGZhbHNlLg0KICAgKi8NCiAgQGlubGluZSBAb3BlcmF0b3IoJyE9JykNCiAgc3RhdGljIG5lKGE6IHUyNTYsIGI6IHUyNTYpOiBib29sIHsNCiAgICByZXR1cm4gIXUyNTYuZXEoYSwgYik7DQogIH0NCg0KICAvKioNCiAgICogQ2hlY2tzIGlmIGBhIDwgYmAuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgYGFgIGlzIGxlc3MgdGhhbiBgYmAsIG90aGVyd2lzZSBmYWxzZS4NCiAgICovDQogIEBvcGVyYXRvcignPCcpDQogIHN0YXRpYyBsdChhOiB1MjU2LCBiOiB1MjU2KTogYm9vbCB7DQogICAgbGV0IGFoMiA9IGEuaGkyLCBhaDEgPSBhLmhpMSwNCiAgICAgIGJoMiA9IGIuaGkyLCBiaDEgPSBiLmhpMSwNCiAgICAgIGFsMiA9IGEubG8yLCBibDIgPSBiLmxvMjsNCiAgICBpZiAoYWgyID09IGJoMikgew0KICAgICAgaWYgKGFoMSA9PSBiaDEpIHsNCiAgICAgICAgcmV0dXJuIGFsMiA9PSBibDIgPyBhLmxvMSA8IGIubG8xIDogYWwyIDwgYmwyOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGFoMSA8IGJoMTsNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIGFoMiA8IGJoMjsNCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogQ2hlY2tzIGlmIGBhID4gYmAuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgYGFgIGlzIGdyZWF0ZXIgdGhhbiBgYmAsIG90aGVyd2lzZSBmYWxzZS4NCiAgICovDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+JykNCiAgc3RhdGljIGd0KGE6IHUyNTYsIGI6IHUyNTYpOiBib29sIHsNCiAgICByZXR1cm4gYiA8IGE7DQogIH0NCg0KICAvKioNCiAgICogQ2hlY2tzIGlmIGBhIDw9IGJgLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGEgLSBUaGUgZmlyc3Qgb3BlcmFuZC4NCiAgICogQHBhcmFtIHt1MjU2fSBiIC0gVGhlIHNlY29uZCBvcGVyYW5kLg0KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIGBhYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYGJgLCBvdGhlcndpc2UgZmFsc2UuDQogICAqLw0KICBAaW5saW5lIEBvcGVyYXRvcignPD0nKQ0KICBzdGF0aWMgbGUoYTogdTI1NiwgYjogdTI1Nik6IGJvb2wgew0KICAgIHJldHVybiAhdTI1Ni5ndChhLCBiKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDaGVja3MgaWYgYGEgPj0gYmAuDQogICAqIEBwYXJhbSB7dTI1Nn0gYSAtIFRoZSBmaXJzdCBvcGVyYW5kLg0KICAgKiBAcGFyYW0ge3UyNTZ9IGIgLSBUaGUgc2Vjb25kIG9wZXJhbmQuDQogICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgYGFgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgYmAsIG90aGVyd2lzZSBmYWxzZS4NCiAgICovDQogIEBpbmxpbmUgQG9wZXJhdG9yKCc+PScpDQogIHN0YXRpYyBnZShhOiB1MjU2LCBiOiB1MjU2KTogYm9vbCB7DQogICAgcmV0dXJuICF1MjU2Lmx0KGEsIGIpOw0KICB9DQoNCiAgLyoqDQogICAqIE11bHRpcGxpZXMgdHdvIGB1MjU2YCB2YWx1ZXMgKHVzaW5nIHRoZSBmaXhlZCBgX19tdWwyNTZgIHVuZGVyIHRoZSBob29kKS4NCiAgICogQHBhcmFtIHt1MjU2fSBhIC0gVGhlIGZpcnN0IG11bHRpcGxpZXIuDQogICAqIEBwYXJhbSB7dTI1Nn0gYiAtIFRoZSBzZWNvbmQgbXVsdGlwbGllci4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIHByb2R1Y3QgKG1vZCAyXjI1NikuDQogICAqLw0KICBAaW5saW5lIEBvcGVyYXRvcignKicpDQogIHN0YXRpYyBtdWwoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgew0KICAgIHJldHVybiBfX211bDI1NihhLmxvMSwgYS5sbzIsIGEuaGkxLCBhLmhpMiwgYi5sbzEsIGIubG8yLCBiLmhpMSwgYi5oaTIpOw0KICB9DQoNCiAgLyoqDQogICAqIENvdW50cyB0aGUgbnVtYmVyIG9mIHNldCBiaXRzICgxcykgaW4gdGhlIGB1MjU2YC4NCiAgICogQHBhcmFtIHt1MjU2fSB2YWx1ZSAtIFRoZSBgdTI1NmAgdG8gY291bnQgYml0cyBmb3IuDQogICAqIEByZXR1cm5zIHtpMzJ9IC0gVGhlIG51bWJlciBvZiBiaXRzIHNldCB0byAxLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgcG9wY250KHZhbHVlOiB1MjU2KTogaTMyIHsNCiAgICBsZXQgY291bnQgPSBwb3BjbnQodmFsdWUubG8xKTsNCiAgICBpZiAodmFsdWUubG8yKSBjb3VudCArPSBwb3BjbnQodmFsdWUubG8yKTsNCiAgICBpZiAodmFsdWUuaGkxKSBjb3VudCArPSBwb3BjbnQodmFsdWUuaGkxKTsNCiAgICBpZiAodmFsdWUuaGkyKSBjb3VudCArPSBwb3BjbnQodmFsdWUuaGkyKTsNCiAgICByZXR1cm4gPGkzMj5jb3VudDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb3VudHMgbGVhZGluZyB6ZXJvcyBpbiB0aGUgYHUyNTZgLg0KICAgKiBAcGFyYW0ge3UyNTZ9IHZhbHVlIC0gVGhlIGB1MjU2YCB0byBldmFsdWF0ZS4NCiAgICogQHJldHVybnMge2kzMn0gLSBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVybyBiaXRzLg0KICAgKi8NCiAgQGlubGluZQ0KICBzdGF0aWMgY2x6KHZhbHVlOiB1MjU2KTogaTMyIHsNCiAgICBpZiAodmFsdWUuaGkyKSByZXR1cm4gPGkzMj4oY2x6KHZhbHVlLmhpMikgKyAwKTsNCiAgICBlbHNlIGlmICh2YWx1ZS5oaTEpIHJldHVybiA8aTMyPihjbHoodmFsdWUuaGkxKSArIDY0KTsNCiAgICBlbHNlIGlmICh2YWx1ZS5sbzIpIHJldHVybiA8aTMyPihjbHoodmFsdWUubG8yKSArIDEyOCk7DQogICAgZWxzZSByZXR1cm4gPGkzMj4oY2x6KHZhbHVlLmxvMSkgKyAxOTIpOw0KICB9DQoNCiAgLyoqDQogICAqIENvdW50cyB0cmFpbGluZyB6ZXJvcyBpbiB0aGUgYHUyNTZgLg0KICAgKiBAcGFyYW0ge3UyNTZ9IHZhbHVlIC0gVGhlIGB1MjU2YCB0byBldmFsdWF0ZS4NCiAgICogQHJldHVybnMge2kzMn0gLSBUaGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm8gYml0cy4NCiAgICovDQogIEBpbmxpbmUNCiAgc3RhdGljIGN0eih2YWx1ZTogdTI1Nik6IGkzMiB7DQogICAgaWYgKHZhbHVlLmxvMSkgcmV0dXJuIDxpMzI+KGN0eih2YWx1ZS5sbzEpICsgMCk7DQogICAgZWxzZSBpZiAodmFsdWUubG8yKSByZXR1cm4gPGkzMj4oY3R6KHZhbHVlLmxvMikgKyA2NCk7DQogICAgZWxzZSBpZiAodmFsdWUuaGkxKSByZXR1cm4gPGkzMj4oY3R6KHZhbHVlLmhpMSkgKyAxMjgpOw0KICAgIGVsc2UgaWYgKHZhbHVlLmhpMikgcmV0dXJuIDxpMzI+KGN0eih2YWx1ZS5oaTIpICsgMTkyKTsNCiAgICByZXR1cm4gMjU2Ow0KICB9DQoNCiAgLyoqDQogICAqIFNldHMgdGhlIHZhbHVlIG9mIHRoaXMgYHUyNTZgIHRvIGFub3RoZXIgYHUyNTZgLg0KICAgKiBAcGFyYW0ge3UyNTZ9IHZhbHVlIC0gVGhlIHNvdXJjZSBgdTI1NmAuDQogICAqIEByZXR1cm5zIHt0aGlzfSAtIFRoZSBjdXJyZW50IGluc3RhbmNlLg0KICAgKi8NCiAgQGlubGluZQ0KICBzZXQodmFsdWU6IHUyNTYpOiB0aGlzIHsNCiAgICB0aGlzLmxvMSA9IHZhbHVlLmxvMTsNCiAgICB0aGlzLmxvMiA9IHZhbHVlLmxvMjsNCiAgICB0aGlzLmhpMSA9IHZhbHVlLmhpMTsNCiAgICB0aGlzLmhpMiA9IHZhbHVlLmhpMjsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIC8qKg0KICAgKiBTZXRzIHRoZSBsb3dlciAxMjggYml0cyBvZiB0aGlzIGB1MjU2YCBmcm9tIGEgYHUxMjhgLCByZXNldHRpbmcgdGhlIGhpZ2hlciAxMjggYml0cyB0byB6ZXJvLg0KICAgKiBAcGFyYW0ge3UxMjh9IHZhbHVlIC0gVGhlIHNvdXJjZSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt0aGlzfSAtIFRoZSBjdXJyZW50IGluc3RhbmNlLg0KICAgKi8NCiAgQGlubGluZQ0KICBzZXRVMTI4KHZhbHVlOiB1MTI4KTogdGhpcyB7DQogICAgdGhpcy5sbzEgPSB2YWx1ZS5sbzsNCiAgICB0aGlzLmxvMiA9IHZhbHVlLmhpOw0KICAgIHRoaXMuaGkxID0gMDsNCiAgICB0aGlzLmhpMiA9IDA7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogU2V0cyB0aGlzIGB1MjU2YCB0byB0aGUgc2lnbi1leHRlbmRlZCB2YWx1ZSBvZiBhIDY0LWJpdCBzaWduZWQgaW50ZWdlci4NCiAgICogQHBhcmFtIHtpNjR9IHZhbHVlIC0gVGhlIDY0LWJpdCBzaWduZWQgaW50ZWdlci4NCiAgICogQHJldHVybnMge3RoaXN9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2UuDQogICAqLw0KICBAaW5saW5lDQogIHNldEk2NCh2YWx1ZTogaTY0KTogdGhpcyB7DQogICAgbGV0IG1hc2s6IHU2NCA9IHZhbHVlID4+IDYzOw0KICAgIHRoaXMubG8xID0gPHU2ND52YWx1ZTsNCiAgICB0aGlzLmxvMiA9IG1hc2s7DQogICAgdGhpcy5oaTEgPSBtYXNrOw0KICAgIHRoaXMuaGkyID0gbWFzazsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIC8qKg0KICAgKiBTZXRzIHRoaXMgYHUyNTZgIHRvIHRoZSBzcGVjaWZpZWQgNjQtYml0IHVuc2lnbmVkIGludGVnZXIsIGNsZWFyaW5nIGhpZ2hlciBiaXRzLg0KICAgKiBAcGFyYW0ge3U2NH0gdmFsdWUgLSBUaGUgNjQtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqIEByZXR1cm5zIHt0aGlzfSAtIFRoZSBjdXJyZW50IGluc3RhbmNlLg0KICAgKi8NCiAgQGlubGluZQ0KICBzZXRVNjQodmFsdWU6IHU2NCk6IHRoaXMgew0KICAgIHRoaXMubG8xID0gdmFsdWU7DQogICAgdGhpcy5sbzIgPSAwOw0KICAgIHRoaXMuaGkxID0gMDsNCiAgICB0aGlzLmhpMiA9IDA7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogU2V0cyB0aGlzIGB1MjU2YCB0byB0aGUgc2lnbi1leHRlbmRlZCB2YWx1ZSBvZiBhIDMyLWJpdCBzaWduZWQgaW50ZWdlci4NCiAgICogQHBhcmFtIHtpMzJ9IHZhbHVlIC0gVGhlIDMyLWJpdCBzaWduZWQgaW50ZWdlci4NCiAgICogQHJldHVybnMge3RoaXN9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2UuDQogICAqLw0KICBAaW5saW5lDQogIHNldEkzMih2YWx1ZTogaTMyKTogdGhpcyB7DQogICAgbGV0IG1hc2s6IHU2NCA9IHZhbHVlID4+IDYzOw0KICAgIHRoaXMubG8xID0gdmFsdWU7DQogICAgdGhpcy5sbzIgPSBtYXNrOw0KICAgIHRoaXMuaGkxID0gbWFzazsNCiAgICB0aGlzLmhpMiA9IG1hc2s7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogU2V0cyB0aGlzIGB1MjU2YCB0byB0aGUgc3BlY2lmaWVkIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLCBjbGVhcmluZyBoaWdoZXIgYml0cy4NCiAgICogQHBhcmFtIHt1MzJ9IHZhbHVlIC0gVGhlIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLg0KICAgKiBAcmV0dXJucyB7dGhpc30gLSBUaGUgY3VycmVudCBpbnN0YW5jZS4NCiAgICovDQogIEBpbmxpbmUNCiAgc2V0VTMyKHZhbHVlOiB1MzIpOiB0aGlzIHsNCiAgICB0aGlzLmxvMSA9IHZhbHVlOw0KICAgIHRoaXMubG8yID0gMDsNCiAgICB0aGlzLmhpMSA9IDA7DQogICAgdGhpcy5oaTIgPSAwOw0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgLyoqDQogICAqIENoZWNrcyBpZiB0aGlzIGB1MjU2YCBpcyBlcXVhbCB0byB6ZXJvLg0KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHplcm8sIGZhbHNlIG90aGVyd2lzZS4NCiAgICovDQogIEBpbmxpbmUNCiAgaXNaZXJvKCk6IGJvb2wgew0KICAgIHJldHVybiAhKHRoaXMubG8xIHwgdGhpcy5sbzIgfCB0aGlzLmhpMSB8IHRoaXMuaGkyKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBQZXJmb3JtcyBhIGJpdHdpc2UgTk9UIG9wZXJhdGlvbiAoYH5gKSBvbiB0aGUgY3VycmVudCBgdTI1NmAuDQogICAqIEByZXR1cm5zIHt1MjU2fSAtIEEgbmV3IGB1MjU2YCB3aXRoIGludmVydGVkIGJpdHMuDQogICAqLw0KICBAaW5saW5lIEBvcGVyYXRvci5wcmVmaXgoJ34nKQ0KICBub3QoKTogdTI1NiB7DQogICAgcmV0dXJuIG5ldyB1MjU2KH50aGlzLmxvMSwgfnRoaXMubG8yLCB+dGhpcy5oaTEsIH50aGlzLmhpMik7DQogIH0NCg0KICAvKioNCiAgICogQSB1bmFyeSBwbHVzIG9wZXJhdG9yLCByZXR1cm5pbmcgdGhlIGN1cnJlbnQgYHUyNTZgIHdpdGhvdXQgY2hhbmdlcy4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIGN1cnJlbnQgYHUyNTZgLg0KICAgKi8NCiAgQGlubGluZSBAb3BlcmF0b3IucHJlZml4KCcrJykNCiAgcG9zKCk6IHUyNTYgew0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgLyoqDQogICAqIEEgdW5hcnkgbmVnYXRpb24gb3BlcmF0b3IgKGAteGApLCBjb21wdXRlZCBhcyBgfnggKyAxYC4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gQSBuZXcgYHUyNTZgIHJlcHJlc2VudGluZyB0aGUgbmVnYXRlZCB2YWx1ZSAobW9kIDJeMjU2KS4NCiAgICovDQogIEBvcGVyYXRvci5wcmVmaXgoJy0nKQ0KICBuZWcoKTogdTI1NiB7DQogICAgbGV0IGxvMSA9IH50aGlzLmxvMTsNCiAgICBsZXQgbG8yID0gfnRoaXMubG8yOw0KICAgIGxldCBoaTEgPSB+dGhpcy5oaTE7DQogICAgbGV0IGhpMiA9IH50aGlzLmhpMjsNCg0KICAgIC8vIEFkZCAxIGFjcm9zcyA0IGxpbWJzDQogICAgbGV0IHN1bSA9IGxvMSArIDE7DQogICAgbGV0IGNhcnJ5ID0gKHN1bSA8IGxvMSkgPyAxIDogMDsNCiAgICBsbzEgPSBzdW07DQoNCiAgICBzdW0gPSBsbzIgKyBjYXJyeTsNCiAgICBjYXJyeSA9IChzdW0gPCBsbzIpID8gMSA6IDA7DQogICAgbG8yID0gc3VtOw0KDQogICAgc3VtID0gaGkxICsgY2Fycnk7DQogICAgY2FycnkgPSAoc3VtIDwgaGkxKSA/IDEgOiAwOw0KICAgIGhpMSA9IHN1bTsNCg0KICAgIGhpMiA9IGhpMiArIGNhcnJ5Ow0KDQogICAgcmV0dXJuIG5ldyB1MjU2KGxvMSwgbG8yLCBoaTEsIGhpMik7DQogIH0NCg0KICAvKiogUHJlZml4IGluY3JlbWVudCBvcGVyYXRvciAoKyt4KS4gKi8NCiAgQG9wZXJhdG9yLnByZWZpeCgiKysiKQ0KICBwdWJsaWMgcHJlSW5jKCk6IHRoaXMgew0KICAgIGxldCBzdW0gPSB0aGlzLmxvMSArIDE7DQogICAgbGV0IGNhcnJ5ID0gc3VtIDwgdGhpcy5sbzEgPyAxIDogMDsNCiAgICB0aGlzLmxvMSA9IHN1bTsNCg0KICAgIHN1bSA9IHRoaXMubG8yICsgY2Fycnk7DQogICAgY2FycnkgPSBzdW0gPCB0aGlzLmxvMiA/IDEgOiAwOw0KICAgIHRoaXMubG8yID0gc3VtOw0KDQogICAgc3VtID0gdGhpcy5oaTEgKyBjYXJyeTsNCiAgICBjYXJyeSA9IHN1bSA8IHRoaXMuaGkxID8gMSA6IDA7DQogICAgdGhpcy5oaTEgPSBzdW07DQoNCiAgICB0aGlzLmhpMiArPSBjYXJyeTsNCiAgICByZXR1cm4gdGhpczsNCiAgfQ0KDQogIC8qKiBQcmVmaXggZGVjcmVtZW50IG9wZXJhdG9yICgtLXgpLiAqLw0KICBAb3BlcmF0b3IucHJlZml4KCItLSIpDQogIHB1YmxpYyBwcmVEZWMoKTogdGhpcyB7DQogICAgbGV0IGRpZmYgPSB0aGlzLmxvMSAtIDE7DQogICAgbGV0IGJvcnJvdyA9IChkaWZmID4gdGhpcy5sbzEpID8gMSA6IDA7DQogICAgdGhpcy5sbzEgPSBkaWZmOw0KDQogICAgZGlmZiA9IHRoaXMubG8yIC0gYm9ycm93Ow0KICAgIGJvcnJvdyA9IChkaWZmID4gdGhpcy5sbzIpID8gMSA6IDA7DQogICAgdGhpcy5sbzIgPSBkaWZmOw0KDQogICAgZGlmZiA9IHRoaXMuaGkxIC0gYm9ycm93Ow0KICAgIGJvcnJvdyA9IChkaWZmID4gdGhpcy5oaTEpID8gMSA6IDA7DQogICAgdGhpcy5oaTEgPSBkaWZmOw0KDQogICAgdGhpcy5oaTIgLT0gYm9ycm93Ow0KICAgIHJldHVybiB0aGlzOw0KICB9DQoNCiAgQGlubGluZSBAb3BlcmF0b3IucG9zdGZpeCgnKysnKQ0KICBwb3N0SW5jKCk6IHUyNTYgew0KICAgIHJldHVybiB0aGlzLmNsb25lKCkucHJlSW5jKCk7DQogIH0NCg0KICBAaW5saW5lIEBvcGVyYXRvci5wb3N0Zml4KCctLScpDQogIHBvc3REZWMoKTogdTI1NiB7DQogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5wcmVEZWMoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhIGdlbmVyaWMgdHlwZSBgVGAuDQogICAqIFN1cHBvcnRlZCB0eXBlczogYm9vbCwgaTgsIHU4LCBpMTYsIHUxNiwgaTMyLCB1MzIsIGk2NCwgdTY0LCBpMTI4LCB1MTI4LCB1MjU2LCB1OFtdLCBVaW50OEFycmF5LCBTdGF0aWNBcnJheTx1OD4sIHN0cmluZy4NCiAgICogQHJldHVybnMge1R9IC0gVGhlIGNvbnZlcnRlZCB2YWx1ZS4NCiAgICovDQogIEBpbmxpbmUNCiAgYXM8VD4oKTogVCB7DQogICAgdmFyIGR1bW15ITogVDsNCiAgICBpZiAoZHVtbXkgaW5zdGFuY2VvZiBib29sKSByZXR1cm4gPFQ+dGhpcy50b0Jvb2woKTsNCiAgICBlbHNlIGlmIChkdW1teSBpbnN0YW5jZW9mIGk4KSByZXR1cm4gPFQ+dGhpcy50b0k2NCgpOw0KICAgIGVsc2UgaWYgKGR1bW15IGluc3RhbmNlb2YgdTgpIHJldHVybiA8VD50aGlzLnRvVTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBpMTYpIHJldHVybiA8VD50aGlzLnRvSTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiB1MTYpIHJldHVybiA8VD50aGlzLnRvVTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBpMzIpIHJldHVybiA8VD50aGlzLnRvSTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBpNjQpIHJldHVybiA8VD50aGlzLnRvSTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiB1MzIpIHJldHVybiA8VD50aGlzLnRvVTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiB1NjQpIHJldHVybiA8VD50aGlzLnRvVTY0KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBpMTI4KSByZXR1cm4gPFQ+dGhpcy50b0kxMjgoKTsNCiAgICBlbHNlIGlmIChkdW1teSBpbnN0YW5jZW9mIHUxMjgpIHJldHVybiA8VD50aGlzLnRvVTEyOCgpOw0KICAgIGVsc2UgaWYgKGR1bW15IGluc3RhbmNlb2YgdTI1NikgcmV0dXJuIDxUPnRoaXMudG9VMjU2KCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiB1OFtdKSByZXR1cm4gPFQ+dGhpcy50b0J5dGVzKCk7DQogICAgZWxzZSBpZiAoZHVtbXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSByZXR1cm4gPFQ+dGhpcy50b1VpbnQ4QXJyYXkoKTsNCiAgICBlbHNlIGlmIChkdW1teSBpbnN0YW5jZW9mIFN0YXRpY0FycmF5PHU4PikgcmV0dXJuIDxUPnRoaXMudG9TdGF0aWNCeXRlcygpOw0KICAgIGVsc2UgaWYgKGR1bW15IGluc3RhbmNlb2YgU3RyaW5nKSByZXR1cm4gPFQ+dGhpcy50b1N0cmluZygpOw0KICAgIGVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgZ2VuZXJpYyB0eXBlJyk7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydHMgdGhpcyBgdTI1NmAgdG8gYSBzaWduZWQgMTI4LWJpdCBpbnRlZ2VyIChpMTI4KS4NCiAgICogVGhlIGhpZ2hlc3QgYml0IG9mIHRoZSAyNTYtYml0IHZhbHVlIGlzIHNpZ24gYml0IGZvciBpMTI4Lg0KICAgKiBAcmV0dXJucyB7aTEyOH0gLSBUaGUgcmVzdWx0aW5nIGBpMTI4YC4NCiAgICovDQogIEBpbmxpbmUNCiAgdG9JMTI4KCk6IGkxMjggew0KICAgIHJldHVybiBuZXcgaTEyOCgNCiAgICAgIHRoaXMubG8xLA0KICAgICAgKHRoaXMubG8yICYgMHg3RkZGRkZGRkZGRkZGRkZGKSB8DQogICAgICAodGhpcy5oaTIgJiAweDgwMDAwMDAwMDAwMDAwMDApDQogICAgKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhbiB1bnNpZ25lZCAxMjgtYml0IGludGVnZXIgKHUxMjgpLg0KICAgKiBUcnVuY2F0ZXMgaGlnaGVyIGJpdHMuDQogICAqIEByZXR1cm5zIHt1MTI4fSAtIFRoZSByZXN1bHRpbmcgYHUxMjhgLg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1UxMjgoKTogdTEyOCB7DQogICAgcmV0dXJuIG5ldyB1MTI4KHRoaXMubG8xLCB0aGlzLmxvMik7DQogIH0NCg0KICAvKioNCiAgICogUmV0dXJucyB0aGlzIGB1MjU2YCBpdHNlbGYsIGVmZmVjdGl2ZWx5IGEgbm8tb3AgZm9yIGB1MjU2YC4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gVGhlIGN1cnJlbnQgYHUyNTZgLg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1UyNTYoKTogdGhpcyB7DQogICAgcmV0dXJuIHRoaXM7DQogIH0NCg0KICAvKioNCiAgICogQ29udmVydHMgdGhpcyBgdTI1NmAgdG8gYSBzaWduZWQgNjQtYml0IGludGVnZXIgKGk2NCkuDQogICAqIFRydW5jYXRlcyBhbmQgdHJlYXRzIHRoZSBoaWdoZXN0IGJpdCBvZiB0aGUgMjU2LWJpdCBhcyBzaWduLg0KICAgKiBAcmV0dXJucyB7aTY0fSAtIFRoZSByZXN1bHRpbmcgNjQtYml0IHNpZ25lZCBpbnRlZ2VyLg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0k2NCgpOiBpNjQgew0KICAgIHJldHVybiA8aTY0PiggKHRoaXMubG8xICYgMHg3RkZGRkZGRkZGRkZGRkZGKSB8ICh0aGlzLmhpMiAmIDB4ODAwMDAwMDAwMDAwMDAwMCkgKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhbiB1bnNpZ25lZCA2NC1iaXQgaW50ZWdlciAodTY0KS4NCiAgICogVHJ1bmNhdGVzIGhpZ2hlciBiaXRzLg0KICAgKiBAcmV0dXJucyB7dTY0fSAtIFRoZSByZXN1bHRpbmcgNjQtYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqLw0KICBAaW5saW5lDQogIHRvVTY0KCk6IHU2NCB7DQogICAgcmV0dXJuIHRoaXMubG8xOw0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnRzIHRoaXMgYHUyNTZgIHRvIGEgc2lnbmVkIDMyLWJpdCBpbnRlZ2VyIChpMzIpLg0KICAgKiBAcmV0dXJucyB7aTMyfSAtIFRoZSByZXN1bHRpbmcgMzItYml0IHNpZ25lZCBpbnRlZ2VyLg0KICAgKi8NCiAgQGlubGluZQ0KICB0b0kzMigpOiBpMzIgew0KICAgIHJldHVybiA8aTMyPnRoaXMudG9JNjQoKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlciAodTMyKS4NCiAgICogVHJ1bmNhdGVzIGhpZ2hlciBiaXRzLg0KICAgKiBAcmV0dXJucyB7dTMyfSAtIFRoZSByZXN1bHRpbmcgMzItYml0IHVuc2lnbmVkIGludGVnZXIuDQogICAqLw0KICBAaW5saW5lDQogIHRvVTMyKCk6IHUzMiB7DQogICAgcmV0dXJuIDx1MzI+dGhpcy5sbzE7DQogIH0NCg0KICAvKioNCiAgICogQ2hlY2tzIGlmIHRoZSBgdTI1NmAgaXMgbm9uLXplcm8sIHRoZW4gcmV0dXJucyBgdHJ1ZWA7IG90aGVyd2lzZSBgZmFsc2VgLg0KICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIG5vbi16ZXJvLCBvdGhlcndpc2UgZmFsc2UuDQogICAqLw0KICBAaW5saW5lDQogIHRvQm9vbCgpOiBib29sIHsNCiAgICByZXR1cm4gPGJvb2w+KHRoaXMubG8xIHwgdGhpcy5sbzIgfCB0aGlzLmhpMSB8IHRoaXMuaGkyKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhbiBhcnJheSBvZiAzMiBieXRlcyAodThbXSkuDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpZ0VuZGlhbj1mYWxzZV0gLSBPdXRwdXQgaW4gYmlnLWVuZGlhbiBpZiB0cnVlLCBlbHNlIGxpdHRsZS1lbmRpYW4uDQogICAqIEByZXR1cm5zIHt1OFtdfSAtIFRoZSByZXN1bHRpbmcgYnl0ZSBhcnJheS4NCiAgICovDQogIEBpbmxpbmUNCiAgdG9CeXRlcyhiaWdFbmRpYW46IGJvb2wgPSBmYWxzZSk6IHU4W10gew0KICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXk8dTg+KDMyKTsNCiAgICB0aGlzLnRvQXJyYXlCdWZmZXIoY2hhbmdldHlwZTx1c2l6ZT4ocmVzdWx0LmRhdGFTdGFydCksIGJpZ0VuZGlhbik7DQogICAgcmV0dXJuIHJlc3VsdDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhIHN0YXRpYyBhcnJheSBvZiAzMiBieXRlcyAoU3RhdGljQXJyYXk8dTg+KS4NCiAgICogQHBhcmFtIHtib29sZWFufSBbYmlnRW5kaWFuPWZhbHNlXSAtIE91dHB1dCBpbiBiaWctZW5kaWFuIGlmIHRydWUsIGVsc2UgbGl0dGxlLWVuZGlhbi4NCiAgICogQHJldHVybnMge1N0YXRpY0FycmF5PHU4Pn0gLSBUaGUgcmVzdWx0aW5nIHN0YXRpYyBieXRlIGFycmF5Lg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1N0YXRpY0J5dGVzKGJpZ0VuZGlhbjogYm9vbCA9IGZhbHNlKTogU3RhdGljQXJyYXk8dTg+IHsNCiAgICBsZXQgcmVzdWx0ID0gbmV3IFN0YXRpY0FycmF5PHU4PigzMik7DQogICAgdGhpcy50b0FycmF5QnVmZmVyKGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCksIGJpZ0VuZGlhbik7DQogICAgcmV0dXJuIHJlc3VsdDsNCiAgfQ0KDQogIC8qKg0KICAgKiBDb252ZXJ0cyB0aGlzIGB1MjU2YCB0byBhIGBVaW50OEFycmF5YCBvZiBsZW5ndGggMzIuDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpZ0VuZGlhbj1mYWxzZV0gLSBPdXRwdXQgaW4gYmlnLWVuZGlhbiBpZiB0cnVlLCBlbHNlIGxpdHRsZS1lbmRpYW4uDQogICAqIEByZXR1cm5zIHtVaW50OEFycmF5fSAtIFRoZSByZXN1bHRpbmcgYFVpbnQ4QXJyYXlgLg0KICAgKi8NCiAgQGlubGluZQ0KICB0b1VpbnQ4QXJyYXkoYmlnRW5kaWFuOiBib29sID0gZmFsc2UpOiBVaW50OEFycmF5IHsNCiAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoMzIpOw0KICAgIHRoaXMudG9BcnJheUJ1ZmZlcihjaGFuZ2V0eXBlPHVzaXplPihyZXN1bHQuZGF0YVN0YXJ0KSwgYmlnRW5kaWFuKTsNCiAgICByZXR1cm4gcmVzdWx0Ow0KICB9DQoNCiAgLyoqDQogICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBjbG9uZSAoZGVlcCBjb3B5KSBvZiB0aGlzIGB1MjU2YC4NCiAgICogQHJldHVybnMge3UyNTZ9IC0gQSBuZXcgYHUyNTZgIGluc3RhbmNlIHdpdGggdGhlIHNhbWUgdmFsdWUuDQogICAqLw0KICBjbG9uZSgpOiB1MjU2IHsNCiAgICByZXR1cm4gbmV3IHUyNTYodGhpcy5sbzEsIHRoaXMubG8yLCB0aGlzLmhpMSwgdGhpcy5oaTIpOw0KICB9DQoNCiAgLyoqDQogICAqIENvbnZlcnRzIHRoaXMgYHUyNTZgIHRvIGEgc3RyaW5nIGluIGVpdGhlciBkZWNpbWFsIG9yIGhleGFkZWNpbWFsIGZvcm1hdC4NCiAgICogQHBhcmFtIHtpMzJ9IFtyYWRpeD0xMF0gLSBUaGUgYmFzZSAoMTAgb3IgMTYpLg0KICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgYHJhZGl4YCBpcyBub3QgMTAgb3IgMTYuDQogICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgYHUyNTZgLg0KICAgKi8NCiAgdG9TdHJpbmcocmFkaXg6IGkzMiA9IDEwKTogc3RyaW5nIHsNCiAgICBhc3NlcnQocmFkaXggPT0gMTAgfHwgcmFkaXggPT0gMTYsICdyYWRpeCBhcmd1bWVudCBtdXN0IGJlIGJldHdlZW4gMTAgb3IgMTYnKTsNCiAgICBpZiAodGhpcy5pc1plcm8oKSkgcmV0dXJuICcwJzsNCg0KICAgIGlmIChyYWRpeCA9PSAxNikgew0KICAgICAgbGV0IHJlc3VsdCA9ICcnOw0KICAgICAgbGV0IHNoaWZ0OiBpMzIgPSAyNTIgLSAodTI1Ni5jbHoodGhpcykgJiB+Myk7DQogICAgICB3aGlsZSAoc2hpZnQgPj0gMCkgew0KICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgIHJlc3VsdCArPSBIRVhfQ0hBUlMuY2hhckF0KDxpMzI+KCh0aGlzID4+IHNoaWZ0KS5sbzEgJiAxNSkpOw0KICAgICAgICBzaGlmdCAtPSA0Ow0KICAgICAgfQ0KICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9DQogICAgLy8gZGVjaW1hbA0KICAgIHJldHVybiB1MjU2dG9EZWNpbWFsU3RyaW5nKHRoaXMpOw0KICB9DQoNCiAgLyoqDQogICAqIEBwcml2YXRlDQogICAqIFN0b3JlcyB0aGlzIGB1MjU2YCBpbnRvIGEgYnVmZmVyIGluIGxpdHRsZS1lbmRpYW4gZm9ybWF0Lg0KICAgKiBAcGFyYW0ge3VzaXplfSBidWZmZXIgLSBUaGUgYnVmZmVyIHN0YXJ0IHBvaW50ZXIuDQogICAqLw0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlckxFKGJ1ZmZlcjogdXNpemUpOiB2b2lkIHsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5sbzEsIDAgKiBzaXplb2Y8dTY0PigpKTsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5sbzIsIDEgKiBzaXplb2Y8dTY0PigpKTsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5oaTEsIDIgKiBzaXplb2Y8dTY0PigpKTsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgdGhpcy5oaTIsIDMgKiBzaXplb2Y8dTY0PigpKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBAcHJpdmF0ZQ0KICAgKiBTdG9yZXMgdGhpcyBgdTI1NmAgaW50byBhIGJ1ZmZlciBpbiBiaWctZW5kaWFuIGZvcm1hdC4NCiAgICogQHBhcmFtIHt1c2l6ZX0gYnVmZmVyIC0gVGhlIGJ1ZmZlciBzdGFydCBwb2ludGVyLg0KICAgKi8NCiAgQGlubGluZQ0KICBwcml2YXRlIHRvQXJyYXlCdWZmZXJCRShidWZmZXI6IHVzaXplKTogdm9pZCB7DQogICAgc3RvcmU8dTY0PihidWZmZXIsIGJzd2FwKHRoaXMuaGkyKSwgMCAqIHNpemVvZjx1NjQ+KCkpOw0KICAgIHN0b3JlPHU2ND4oYnVmZmVyLCBic3dhcCh0aGlzLmhpMSksIDEgKiBzaXplb2Y8dTY0PigpKTsNCiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgYnN3YXAodGhpcy5sbzIpLCAyICogc2l6ZW9mPHU2ND4oKSk7DQogICAgc3RvcmU8dTY0PihidWZmZXIsIGJzd2FwKHRoaXMubG8xKSwgMyAqIHNpemVvZjx1NjQ+KCkpOw0KICB9DQoNCiAgLyoqDQogICAqIEBwcml2YXRlDQogICAqIFN0b3JlcyB0aGlzIGB1MjU2YCBpbnRvIGEgYnVmZmVyIGluIGVpdGhlciBsaXR0bGUtZW5kaWFuIG9yIGJpZy1lbmRpYW4gZm9ybWF0Lg0KICAgKiBAcGFyYW0ge3VzaXplfSBidWZmZXIgLSBUaGUgYnVmZmVyIHN0YXJ0IHBvaW50ZXIuDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpZ0VuZGlhbj1mYWxzZV0gLSBVc2UgYmlnLWVuZGlhbiBpZiB0cnVlLCBlbHNlIGxpdHRsZS1lbmRpYW4uDQogICAqLw0KICBAaW5saW5lDQogIHByaXZhdGUgdG9BcnJheUJ1ZmZlcihidWZmZXI6IHVzaXplLCBiaWdFbmRpYW46IGJvb2wgPSBmYWxzZSk6IHZvaWQgew0KICAgIGlmIChiaWdFbmRpYW4pIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckJFKGJ1ZmZlcik7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMudG9BcnJheUJ1ZmZlckxFKGJ1ZmZlcik7DQogICAgfQ0KICB9DQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/tsconfig.json": "ew0KICAgICJleHRlbmRzIjogImFzc2VtYmx5c2NyaXB0L3N0ZC9hc3NlbWJseS5qc29uIiwNCiAgICAiaW5jbHVkZSI6IFsNCiAgICAgICAgIi4vKiovKi50cyINCiAgICBdDQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/utils.ts": "aW1wb3J0IHsgQ2hhckNvZGUgfSBmcm9tICJ1dGlsL3N0cmluZyI7DQppbXBvcnQgeyB1MTI4IH0gZnJvbSAiLi9pbnRlZ2VyL3UxMjgiOw0KaW1wb3J0IHsgdTI1NiB9IGZyb20gIi4vaW50ZWdlci91MjU2IjsNCg0KLy8gQHRzLWlnbm9yZTogZGVjb3JhdG9yDQpAbGF6eSBjb25zdCBNYXhCYXNlRm9yRXhwb25lbnQxMjggPSBtZW1vcnkuZGF0YTx1NjQ+KFsNCiAgdTY0Lk1BWF9WQUxVRSwgICAgICAgLy8gMA0KICB1NjQuTUFYX1ZBTFVFLCAgICAgICAvLyAxDQogIHU2NC5NQVhfVkFMVUUsICAgICAgIC8vIDINCiAgMHgwMDAwMDY1OTdGQTk0RjVCLCAgLy8gMw0KICAweDAwMDAwMDAwRkZGRkZGRkYsICAvLyA0DQogIDB4MDAwMDAwMDAwMzA4MEMwMCwgIC8vIDUNCiAgMHgwMDAwMDAwMDAwMjg1MTQ1LCAgLy8gNg0KICAweDAwMDAwMDAwMDAwNEUwNDUsICAvLyA3DQogIDB4MDAwMDAwMDAwMDAwRkZGRiwgIC8vIDgNCiAgMHgwMDAwMDAwMDAwMDA0QUE4LCAgLy8gOQ0KICAweDAwMDAwMDAwMDAwMDFCREIsICAvLyAxMA0KICAweDAwMDAwMDAwMDAwMDBDNkYsICAvLyAxMQ0KICAweDAwMDAwMDAwMDAwMDA2NTksICAvLyAxMg0KICAweDAwMDAwMDAwMDAwMDAzOTgsICAvLyAxMw0KICAweDAwMDAwMDAwMDAwMDAyMzUsICAvLyAxNA0KICAweDAwMDAwMDAwMDAwMDAxNzIsICAvLyAxNQ0KICAweDAwMDAwMDAwMDAwMDAwRkYsICAvLyAxNg0KICAweDAwMDAwMDAwMDAwMDAwQjgsICAvLyAxNw0KICAweDAwMDAwMDAwMDAwMDAwOEEsICAvLyAxOA0KICAweDAwMDAwMDAwMDAwMDAwNkEsICAvLyAxOQ0KICAweDAwMDAwMDAwMDAwMDAwNTQsICAvLyAyMA0KICAweDAwMDAwMDAwMDAwMDAwNDQsICAvLyAyMQ0KICAweDAwMDAwMDAwMDAwMDAwMzgsICAvLyAyMg0KICAweDAwMDAwMDAwMDAwMDAwMkYsICAvLyAyMw0KICAweDAwMDAwMDAwMDAwMDAwMjgsICAvLyAyNA0KICAweDAwMDAwMDAwMDAwMDAwMjIsICAvLyAyNQ0KICAweDAwMDAwMDAwMDAwMDAwMUUsICAvLyAyNg0KICAweDAwMDAwMDAwMDAwMDAwMUEsICAvLyAyNw0KICAweDAwMDAwMDAwMDAwMDAwMTcsICAvLyAyOA0KICAweDAwMDAwMDAwMDAwMDAwMTUsICAvLyAyOQ0KICAweDAwMDAwMDAwMDAwMDAwMTMsICAvLyAzMA0KICAweDAwMDAwMDAwMDAwMDAwMTEsICAvLyAzMQ0KICAweDAwMDAwMDAwMDAwMDAwMEYsICAvLyAzMg0KICAweDAwMDAwMDAwMDAwMDAwMEUsICAvLyAzMw0KICAweDAwMDAwMDAwMDAwMDAwMEQsICAvLyAzNA0KICAweDAwMDAwMDAwMDAwMDAwMEMsICAvLyAzNQ0KICAweDAwMDAwMDAwMDAwMDAwMEIsICAvLyAzNg0KICAweDAwMDAwMDAwMDAwMDAwMEIsICAvLyAzNw0KICAweDAwMDAwMDAwMDAwMDAwMEEsICAvLyAzOA0KXSk7DQoNCi8vIFVzZSBMVVQgd3JhcHBlZCBieSBmdW5jdGlvbiBmb3IgbGF6eSBjb21waWxhdGlvbg0KLy8gQHRzLWlnbm9yZTogZGVjb3JhdG9yDQpAbGF6eSBjb25zdCBSYWRpeENoYXJzVGFibGUgPSBtZW1vcnkuZGF0YTx1OD4oWw0KICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAzNiwgMzYsIDM2LCAzNiwgMzYsIDM2LA0KICAzNiwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksIDIwLCAyMSwgMjIsIDIzLCAyNCwNCiAgMjUsIDI2LCAyNywgMjgsIDI5LCAzMCwgMzEsIDMyLCAzMywgMzQsIDM1LCAzNiwgMzYsIDM2LCAzNiwgMzYsDQogIDM2LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LA0KICAyNSwgMjYsIDI3LCAyOCwgMjksIDMwLCAzMSwgMzIsIDMzLCAzNCwgMzUNCl0pOw0KDQovLyBAdHMtaWdub3JlOiBkZWNvcmF0b3INCkBpbmxpbmUgZXhwb3J0IGZ1bmN0aW9uIGlzUG93ZXJPdmVyZmxvdzEyOChiYXNlOiB1MTI4LCBleHBvbmVudDogaTMyKTogYm9vbCB7DQogIC8vIG5ldmVyIG92ZXJmbG93DQogIGlmIChleHBvbmVudCA8PSAxIHx8IGJhc2UgPD0gdTEyOC5PbmUpIHsNCiAgICByZXR1cm4gZmFsc2U7DQogIH0NCiAgLy8gYWx3YXlzIG92ZXJmbG93DQogIGlmIChiYXNlLmhpICE9IDAgfHwgZXhwb25lbnQgPj0gMTI4KSB7DQogICAgcmV0dXJuIHRydWU7DQogIH0NCiAgdmFyIGxvdyA9IGJhc2UubG87DQogIGlmIChsb3cgPD0gMTApIHsNCiAgICBzd2l0Y2ggKDxpMzI+bG93KSB7DQogICAgICBjYXNlIDI6DQogICAgICAgIHJldHVybiBleHBvbmVudCA+IDEyNzsNCiAgICAgIGNhc2UgMzoNCiAgICAgICAgcmV0dXJuIGV4cG9uZW50ID4gODA7DQogICAgICBjYXNlIDQ6DQogICAgICAgIHJldHVybiBleHBvbmVudCA+IDYzOw0KICAgICAgY2FzZSA1Og0KICAgICAgICByZXR1cm4gZXhwb25lbnQgPiA1NTsNCiAgICAgIGNhc2UgNjoNCiAgICAgICAgcmV0dXJuIGV4cG9uZW50ID4gNDk7DQogICAgICBjYXNlIDc6DQogICAgICAgIHJldHVybiBleHBvbmVudCA+IDQ1Ow0KICAgICAgY2FzZSA4Og0KICAgICAgICByZXR1cm4gZXhwb25lbnQgPiA0MjsNCiAgICAgIGNhc2UgOToNCiAgICAgICAgcmV0dXJuIGV4cG9uZW50ID4gNDA7DQogICAgICBjYXNlIDEwOg0KICAgICAgICByZXR1cm4gZXhwb25lbnQgPiAzODsNCiAgICB9DQogIH0NCiAgaWYgKGV4cG9uZW50ID49IDM4KSByZXR1cm4gdHJ1ZTsNCiAgcmV0dXJuIGxvdyA+IGxvYWQ8dTY0PihNYXhCYXNlRm9yRXhwb25lbnQxMjggKyAoZXhwb25lbnQgPDwgMykpOw0KfQ0KDQovLyBoZWxwZXIgZnVuY3Rpb24gZm9yIHV0b2ENCmZ1bmN0aW9uIHByb2Nlc3NVNjQoZGlnaXRzOiBVaW50OEFycmF5LCB2YWx1ZTogdTY0KTogdm9pZCB7DQogIHZhciBsZW5ndGggPSBkaWdpdHMubGVuZ3RoIC0gMTsNCiAgZm9yIChsZXQgaSA9IDYzOyBpICE9IC0xOyAtLWkpIHsNCiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBsZW5ndGg7ICsraikgew0KICAgICAgdW5jaGVja2VkKGRpZ2l0c1tqXSArPSAodTgoZGlnaXRzW2pdID49IDUpICogMykpOw0KICAgIH0NCiAgICBmb3IgKGxldCBqID0gbGVuZ3RoOyBqICE9IC0xOyAtLWopIHsNCiAgICAgIGxldCBkID0gdW5jaGVja2VkKGRpZ2l0c1tqXSkgPDwgMTsNCiAgICAgIGlmIChqIDwgbGVuZ3RoKSB1bmNoZWNrZWQoZGlnaXRzW2ogKyAxXSB8PSB1OChkID4gMTUpKTsNCiAgICAgIHVuY2hlY2tlZChkaWdpdHNbal0gPSBkICYgMTUpOw0KICAgIH0NCiAgICB1bmNoZWNrZWQoZGlnaXRzWzBdICs9IHU4KCh2YWx1ZSAmICgxIDw8IGkpKSAhPSAwKSk7DQogIH0NCn0NCg0KZXhwb3J0IGZ1bmN0aW9uIHUxMjh0b0RlY2ltYWxTdHJpbmcodmFsdWU6IHUxMjgpOiBzdHJpbmcgew0KICB2YXIgbGVuZ3RoID0gNDA7DQogIHZhciBkaWdpdHMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOw0KICB2YXIgcmVzdWx0ID0gIiIsIHN0YXJ0ID0gZmFsc2U7DQoNCiAgcHJvY2Vzc1U2NChkaWdpdHMsIHZhbHVlLmhpKTsNCiAgcHJvY2Vzc1U2NChkaWdpdHMsIHZhbHVlLmxvKTsNCg0KICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTsgaSAhPSAtMTsgLS1pKSB7DQogICAgbGV0IGQgPSB1bmNoZWNrZWQoZGlnaXRzW2ldKTsNCiAgICBpZiAoIXN0YXJ0ICYmIGQgIT0gMCkgc3RhcnQgPSB0cnVlOw0KICAgIGlmIChzdGFydCkgew0KICAgICAgYXNzZXJ0KDx1MzI+ZCA8PSA5KTsNCiAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MzAgKyBkKTsNCiAgICB9DQogIH0NCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KZXhwb3J0IGZ1bmN0aW9uIHUyNTZ0b0RlY2ltYWxTdHJpbmcodmFsdWU6IHUyNTYpOiBzdHJpbmcgew0KICB2YXIgbGVuZ3RoID0gNzg7DQogIHZhciBkaWdpdHMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOw0KICB2YXIgcmVzdWx0ID0gIiIsIHN0YXJ0ID0gZmFsc2U7DQoNCiAgcHJvY2Vzc1U2NChkaWdpdHMsIHZhbHVlLmhpMik7DQogIHByb2Nlc3NVNjQoZGlnaXRzLCB2YWx1ZS5oaTEpOw0KICBwcm9jZXNzVTY0KGRpZ2l0cywgdmFsdWUubG8yKTsNCiAgcHJvY2Vzc1U2NChkaWdpdHMsIHZhbHVlLmxvMSk7DQoNCiAgZm9yIChsZXQgaSA9IGxlbmd0aCAtIDE7IGkgIT0gLTE7IC0taSkgew0KICAgIGxldCBkID0gdW5jaGVja2VkKGRpZ2l0c1tpXSk7DQogICAgaWYgKCFzdGFydCAmJiBkICE9IDApIHN0YXJ0ID0gdHJ1ZTsNCiAgICBpZiAoc3RhcnQpIHsNCiAgICAgIGFzc2VydCg8dTMyPmQgPD0gOSk7DQogICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDMwICsgZCk7DQogICAgfQ0KICB9DQogIHJldHVybiByZXN1bHQ7DQp9DQoNCmV4cG9ydCBmdW5jdGlvbiBhdG91MTI4KHN0cjogc3RyaW5nLCByYWRpeDogaTMyID0gMTApOiB1MTI4IHsNCiAgaWYgKHJhZGl4IDwgMiB8fCByYWRpeCA+IDM2KSB7DQogICAgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHJhZGl4Iik7DQogIH0NCiAgdmFyIGxlbiA9IHN0ci5sZW5ndGg7DQogIGlmICghbGVuKSByZXR1cm4gdTEyOC5aZXJvOw0KDQogIHZhciBmaXJzdCA9IHN0ci5jaGFyQ29kZUF0KDApOw0KICBpZiAobGVuID09IDEgJiYgZmlyc3QgPT0gQ2hhckNvZGUuXzApIHsNCiAgICByZXR1cm4gdTEyOC5aZXJvOw0KICB9DQogIHZhciBpc05lZyA9IGZpcnN0ID09IENoYXJDb2RlLk1JTlVTOw0KICAvLyBAdHMtaWdub3JlDQogIHZhciBpbmRleCA9IGkzMihpc05lZyB8IChmaXJzdCA9PSBDaGFyQ29kZS5QTFVTKSk7DQoNCiAgaWYgKHN0ci5jaGFyQ29kZUF0KGluZGV4KSA9PSBDaGFyQ29kZS5fMCkgew0KICAgIGxldCBzZWNvbmQgPSBzdHIuY2hhckNvZGVBdCgrK2luZGV4KTsNCiAgICBpZiAoKHNlY29uZCB8IDMyKSA9PSBDaGFyQ29kZS54KSB7DQogICAgICByYWRpeCA9IDE2Ow0KICAgICAgKytpbmRleDsNCiAgICB9IGVsc2UgaWYgKChzZWNvbmQgfCAzMikgPT0gQ2hhckNvZGUubykgew0KICAgICAgcmFkaXggPSA4Ow0KICAgICAgKytpbmRleDsNCiAgICB9IGVsc2UgaWYgKChzZWNvbmQgfCAzMikgPT0gQ2hhckNvZGUuYikgew0KICAgICAgcmFkaXggPSAyOw0KICAgICAgKytpbmRleDsNCiAgICB9IGVsc2UgaWYgKHNlY29uZCA9PSBDaGFyQ29kZS5fMCkgew0KICAgICAgLy8gc2tpcCBsZWFkaW5nIHplcm9zDQogICAgICB3aGlsZSAoaW5kZXggPCBsZW4gJiYgc3RyLmNoYXJDb2RlQXQoaW5kZXgpID09IENoYXJDb2RlLl8wKSArK2luZGV4Ow0KICAgIH0NCiAgfQ0KICB2YXIgcmVzdWx0ID0gdTEyOC5aZXJvOw0KICB2YXIgdGFibGUgPSBSYWRpeENoYXJzVGFibGU7DQoNCiAgaWYgKGluZGV4ID49IGxlbikgcmV0dXJuIHJlc3VsdDsNCg0KICBpZiAoQVNDX1NIUklOS19MRVZFTCA+PSAxKSB7DQogICAgbGV0IHJhZGl4MTI4ID0gdTEyOC5mcm9tVTY0KHJhZGl4KTsNCiAgICBkbyB7DQogICAgICBsZXQgbjogdTMyID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpIC0gQ2hhckNvZGUuXzA7DQogICAgICBpZiAobiA+IDx1MzI+KENoYXJDb2RlLnogLSBDaGFyQ29kZS5fMCkpIGJyZWFrOw0KDQogICAgICBsZXQgbnVtID0gbG9hZDx1OD4odGFibGUgKyBuKTsNCiAgICAgIGlmIChudW0gPj0gPHU4PnJhZGl4KSBicmVhazsNCg0KICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgcmVzdWx0ICo9IHJhZGl4MTI4Ow0KICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgcmVzdWx0ICs9IHUxMjguZnJvbVU2NChudW0pOw0KICAgIH0gd2hpbGUgKCsraW5kZXggPCBsZW4pOw0KICB9IGVsc2Ugew0KICAgIHN3aXRjaCAocmFkaXgpIHsNCiAgICAgIGNhc2UgMjogew0KICAgICAgICBkbyB7DQogICAgICAgICAgbGV0IG51bTogdTMyID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpIC0gQ2hhckNvZGUuXzA7DQogICAgICAgICAgaWYgKG51bSA+PSAyKSBicmVhazsNCiAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgcmVzdWx0IDw8PSAxOw0KICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICByZXN1bHQgfD0gdTEyOC5mcm9tVTY0KG51bSk7DQogICAgICAgIH0gd2hpbGUgKCsraW5kZXggPCBsZW4pOw0KICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgICAgIGNhc2UgMTA6IHsNCiAgICAgICAgZG8gew0KICAgICAgICAgIGxldCBudW06IHUzMiA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KSAtIENoYXJDb2RlLl8wOw0KICAgICAgICAgIGlmIChudW0gPj0gMTApIGJyZWFrOw0KICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IDMpICsgKHJlc3VsdCA8PCAxKTsNCiAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgcmVzdWx0ICs9IHUxMjguZnJvbVU2NChudW0pOw0KICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgbGVuKTsNCiAgICAgICAgYnJlYWs7DQogICAgICB9DQogICAgICBjYXNlIDE2OiB7DQogICAgICAgIGRvIHsNCiAgICAgICAgICBsZXQgbjogdTMyID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpIC0gQ2hhckNvZGUuXzA7DQogICAgICAgICAgaWYgKG4gPiA8dTMyPihDaGFyQ29kZS56IC0gQ2hhckNvZGUuXzApKSBicmVhazsNCg0KICAgICAgICAgIGxldCBudW0gPSBsb2FkPHU4Pih0YWJsZSArIG4pOw0KICAgICAgICAgIGlmIChudW0gPj0gMTYpIGJyZWFrOw0KDQogICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgIHJlc3VsdCA8PD0gNDsNCiAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgcmVzdWx0IHw9IHUxMjguZnJvbVU2NChudW0pOw0KICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgbGVuKTsNCiAgICAgICAgYnJlYWs7DQogICAgICB9DQogICAgICBkZWZhdWx0OiB7DQogICAgICAgIGxldCByYWRpeDEyOCA9IHUxMjguZnJvbVU2NChyYWRpeCk7DQogICAgICAgIGRvIHsNCiAgICAgICAgICBsZXQgbjogdTMyID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpIC0gQ2hhckNvZGUuXzA7DQogICAgICAgICAgaWYgKG4gPiA8dTMyPihDaGFyQ29kZS56IC0gQ2hhckNvZGUuXzApKSBicmVhazsNCg0KICAgICAgICAgIGxldCBudW0gPSBsb2FkPHU4Pih0YWJsZSArIG4pOw0KICAgICAgICAgIGlmIChudW0gPj0gPHU4PnJhZGl4KSBicmVhazsNCg0KICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICByZXN1bHQgKj0gcmFkaXgxMjg7DQogICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgIHJlc3VsdCArPSB1MTI4LmZyb21VNjQobnVtKTsNCiAgICAgICAgfSB3aGlsZSAoKytpbmRleCA8IGxlbik7DQogICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICAvLyBAdHMtaWdub3JlDQogIHJldHVybiBpc05lZyA/IC1yZXN1bHQgOiByZXN1bHQ7DQp9DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/as-pect.d.ts": "Ly8vIDxyZWZlcmVuY2UgdHlwZXM9IkBhcy1wZWN0L2Fzc2VtYmx5L3R5cGVzL2FzLXBlY3QiIC8+DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/audit.spec.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gIi4uL2ludGVnZXIvaTEyOCI7DQppbXBvcnQgeyB1MjU2IH0gZnJvbSAiLi4vaW50ZWdlci91MjU2IjsNCg0KZGVzY3JpYmUoIktub3duIElzc3VlcyAvIERlbW9uc3RyYXRpb25zIG9mIFBvdGVudGlhbCBCdWdzIiwgKCkgPT4gew0KDQogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIC8vIDEuIGkxMjggQWRkL1N1YiB3aXRoIE5lZ2F0aXZlIE9wZXJhbmRzDQogIC8vICAgIFRoZSBsaWJyYXJ5IGN1cnJlbnRseSBkb2VzIHRoaW5ncyBsaWtlOg0KICAvLyAgICAgIGxvID0gYS5sbyArIGIubG8gLSAoYi5oaSA+Pj4gNjMpDQogIC8vICAgIHdoaWNoIGlzIG5vdCBhIHByb3BlciB0d28tbGltYiBhZGRpdGlvbiBmb3Igc2lnbmVkIGkxMjguDQogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIGRlc2NyaWJlKCJpMTI4IEFkZCBhbmQgU3ViIHdpdGggTmVnYXRpdmUgTnVtYmVycyIsICgpID0+IHsNCiAgICBpdCgiU2hvdWxkIGFkZCArMSBhbmQgLTEgY29ycmVjdGx5IChzaG91bGQgYmUgMCkiLCAoKSA9PiB7DQogICAgICAvLyBJZiB0aGUgbGlicmFyeSB3ZXJlIGNvcnJlY3QsIGkxMjgoMSkgKyBpMTI4KC0xKSA9PSAwLg0KICAgICAgLy8gQnV0IHRoZSBjdXJyZW50IGxvZ2ljIGluY29ycmVjdGx5IGRvZXM6IDEgKyAoYi5sbykgLSAoYi5oaT4+PjYzKS4NCiAgICAgIC8vIFRoYXQgeWllbGRzIHNvbWV0aGluZyBlbHNlIGZvciBuZWdhdGl2ZSBiLmhpLg0KICAgICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoMSk7DQogICAgICBsZXQgYiA9IGkxMjguZnJvbUk2NCgtMSk7DQoNCiAgICAgIGxldCBzdW0gPSBhICsgYjsNCiAgICAgIC8vIFdlICp3YW50KiBzdW0gPT0gMCwgYnV0IHRoZSBjdXJyZW50IGNvZGUgaW5jb3JyZWN0bHkgeWllbGRzIGFub3RoZXIgdmFsdWUuDQogICAgICBleHBlY3Qoc3VtLmlzWmVybygpKS50b0JlKHRydWUsICJpMTI4KDEpICsgaTEyOCgtMSkgc2hvdWxkIGJlIHplcm8iKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgYWRkIHR3byBuZWdhdGl2ZSBudW1iZXJzIiwgKCkgPT4gew0KICAgICAgLy8gRXhhbXBsZTogLTIgKyAtMyA9PiAtNQ0KICAgICAgLy8gTGV0J3Mgc2VlIHdoYXQgdGhlIGxpYnJhcnkgZG9lcy4gV2UgZXhwZWN0IC01LCBpLmUuIGxvPS4uLiBoaT1zaWduQml0PSAtMS4NCiAgICAgIGxldCBhID0gaTEyOC5mcm9tSTY0KC0yKTsNCiAgICAgIGxldCBiID0gaTEyOC5mcm9tSTY0KC0zKTsNCg0KICAgICAgbGV0IHN1bSA9IGEgKyBiOw0KICAgICAgLy8gc3VtIHNob3VsZCBiZSAtNQ0KICAgICAgbGV0IGV4cGVjdGVkID0gaTEyOC5mcm9tSTY0KC01KTsNCiAgICAgIGV4cGVjdChzdW0ubG8pLnRvQmUoDQogICAgICAgIGV4cGVjdGVkLmxvLA0KICAgICAgICAibG93IDY0IGJpdHMgc2hvdWxkIGJlIDIncyBjb21wbGVtZW50IHJlcHJlc2VudGF0aW9uIG9mIC01IiwNCiAgICAgICk7DQogICAgICBleHBlY3Qoc3VtLmhpKS50b0JlKA0KICAgICAgICBleHBlY3RlZC5oaSwNCiAgICAgICAgImhpZ2ggNjQgYml0cyBzaG91bGQgc2lnbi1leHRlbmQgcHJvcGVybHkgZm9yIC01IiwNCiAgICAgICk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHN1YnRyYWN0IG5lZ2F0aXZlIGZyb20gcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgICAvLyBFeGFtcGxlOiA1IC0gKC0xKSA9PiA2DQogICAgICAvLyBUaGUgY3VycmVudCBzdWIgbG9naWMgYWxzbyBpbmNvcnJlY3RseSBtYW5pcHVsYXRlcyBoaSBiaXRzLg0KICAgICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoNSk7DQogICAgICBsZXQgYiA9IGkxMjguZnJvbUk2NCgtMSk7DQoNCiAgICAgIGxldCBkaWZmID0gYSAtIGI7DQogICAgICBsZXQgZXhwZWN0ZWQgPSBpMTI4LmZyb21JNjQoNik7DQogICAgICBleHBlY3QoZGlmZi5sbykudG9CZShleHBlY3RlZC5sbywgIlNob3VsZCBiZSA2IGluIHRoZSBsb3cgcGFydCIpOw0KICAgICAgZXhwZWN0KGRpZmYuaGkpLnRvQmUoZXhwZWN0ZWQuaGksICJTaG91bGQgYmUgNiBpbiB0aGUgaGlnaCBwYXJ0IChubyBzaWduIG92ZXJmbG93KSIpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBoYW5kbGUgLTEgLSAxID0gLTIgcHJvcGVybHkiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IGkxMjguZnJvbUk2NCgtMSk7DQogICAgICBsZXQgYiA9IGkxMjguZnJvbUk2NCgxKTsNCg0KICAgICAgbGV0IGRpZmYgPSBhIC0gYjsNCiAgICAgIGxldCBleHBlY3RlZCA9IGkxMjguZnJvbUk2NCgtMik7DQogICAgICBleHBlY3QoZGlmZi5sbykudG9CZShleHBlY3RlZC5sbywgIlNob3VsZCBiZSB0aGUgMidzIGNvbXBsZW1lbnQgb2YgMiBpbiBsb3cgYml0cyIpOw0KICAgICAgZXhwZWN0KGRpZmYuaGkpLnRvQmUoZXhwZWN0ZWQuaGksICJTaG91bGQgc2lnbi1leHRlbmQgdGhlIG5lZ2F0aXZlIHJlc3VsdCIpOw0KICAgIH0pOw0KICB9KTsNCg0KICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAvLyAyLiB1MjU2IEFkZC9TdWIgTXVsdGl3b3JkIENhcnJ5DQogIC8vICAgIFRoZSBiaXR3aXNlIGZvcm11bGEgdXNlZCBkb2Vzbid0IGNvbnNpc3RlbnRseSBpbmNvcnBvcmF0ZSB0aGUgY2FycnktaW4uDQogIC8vICAgIFRoYXQgY2FuIGNhdXNlIGNvcm5lci1jYXNlIGZhaWx1cmVzIGZvciBtdWx0aS1saW1iIGFkZGl0aW9ucy4NCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgZGVzY3JpYmUoInUyNTYgTXVsdGktbGltYiBBZGQvU3ViIENvcm5lciBDYXNlcyAoQ2FycnkvQm9ycm93KSIsICgpID0+IHsNCiAgICBpdCgiU2hvdWxkIGNhcnJ5IHdoZW4gYWRkaW5nIG11bHRpcGxlIGxpbWJzIHRoYXQgY2FzY2FkZSIsICgpID0+IHsNCiAgICAgIC8vIENvbnN0cnVjdCBhbiBleGFtcGxlIHRoYXQgZm9yY2VzIGEgY2FzY2FkZSBvZiBjYXJyaWVzLg0KICAgICAgLy8gV2UnbGwgY2hvb3NlIGVhY2ggbGltYiB0byBiZSBuZWFyIHRoZSBtYXhpbXVtIHNvIHRoYXQgYWRkaW5nIDEgY2FzY2FkZXMgdGhyb3VnaC4NCiAgICAgIC8vIGUuZy4gMHhGRkZGX0ZGRkZfRkZGRl9GRkZGIGluIGVhY2ggbGltYi4NCg0KICAgICAgbGV0IGEgPSBuZXcgdTI1NigNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgICAweEZGRkZGRkZGRkZGRkZGRkYsDQogICAgICAgIDB4RkZGRkZGRkZGRkZGRkZGRiwNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZFLCAvLyBzbGlnaHRseSBsZXNzIHRoYW4gbWF4IHNvIHRoZSBzdW0gZG9lc24ndCB3cmFwIGFsbCB0aGUgd2F5DQogICAgICApOw0KICAgICAgbGV0IG9uZSA9IHUyNTYuT25lOw0KDQogICAgICAvLyBUaGUgY29ycmVjdCBzdW0gc2hvdWxkIGJlOg0KICAgICAgLy8gICBsbzEgPSAweEZGRkZGRkZGRkZGRkZGRkYgKyAxID0gMHgwMDAwMDAwMDAwMDAwMDAwIHdpdGggY2Fycnk9MQ0KICAgICAgLy8gICBsbzIgPSAweEZGRkZGRkZGRkZGRkZGRkYgKyAwICsgY2Fycnk9MSA9PiAweDAwMDAwMDAwMDAwMDAwMDAgd2l0aCBjYXJyeT0xDQogICAgICAvLyAgIGhpMSA9IDB4RkZGRkZGRkZGRkZGRkZGRiArIDAgKyBjYXJyeT0xID0+IDB4MDAwMDAwMDAwMDAwMDAwMCB3aXRoIGNhcnJ5PTENCiAgICAgIC8vICAgaGkyID0gMHhGRkZGRkZGRkZGRkZGRkZFICsgMCArIGNhcnJ5PTEgPT4gMHhGRkZGRkZGRkZGRkZGRkZGIHdpdGggY2Fycnk9MA0KICAgICAgbGV0IGNvcnJlY3QgPSBuZXcgdTI1NigNCiAgICAgICAgMHgwMDAwMDAwMDAwMDAwMDAwLA0KICAgICAgICAweDAwMDAwMDAwMDAwMDAwMDAsDQogICAgICAgIDB4MDAwMDAwMDAwMDAwMDAwMCwNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgKTsNCg0KICAgICAgbGV0IHN1bSA9IGEgKyBvbmU7DQogICAgICBleHBlY3Qoc3VtLmxvMSkudG9CZSgNCiAgICAgICAgY29ycmVjdC5sbzEsDQogICAgICAgICJJbmNvcnJlY3QgbG8xIGlmIG11bHRpLWxpbWIgY2FycnkgaXMgbWlzaGFuZGxlZCIsDQogICAgICApOw0KICAgICAgZXhwZWN0KHN1bS5sbzIpLnRvQmUoDQogICAgICAgIGNvcnJlY3QubG8yLA0KICAgICAgICAiSW5jb3JyZWN0IGxvMiBpZiBzZWNvbmQtbGltYiBjYXJyeSBpcyBtaXNoYW5kbGVkIiwNCiAgICAgICk7DQogICAgICBleHBlY3Qoc3VtLmhpMSkudG9CZSgNCiAgICAgICAgY29ycmVjdC5oaTEsDQogICAgICAgICJJbmNvcnJlY3QgaGkxIGlmIHRoaXJkLWxpbWIgY2FycnkgaXMgbWlzaGFuZGxlZCIsDQogICAgICApOw0KICAgICAgZXhwZWN0KHN1bS5oaTIpLnRvQmUoDQogICAgICAgIGNvcnJlY3QuaGkyLA0KICAgICAgICAiSW5jb3JyZWN0IGhpMiBpZiBmaW5hbCBjYXJyeSBpcyBtaXNoYW5kbGVkIiwNCiAgICAgICk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIGJvcnJvdyB3aGVuIHN1YnRyYWN0aW5nIGFjcm9zcyBtdWx0aXBsZSBsaW1icyIsICgpID0+IHsNCiAgICAgIC8vIEJvcnJvdyBhY3Jvc3MgNCBsaW1iczoNCiAgICAgIC8vIEUuZy4gYSA9IFsweDAwMDBfMDAwMF8wMDAwXzAwMDAsIDAsIDAsIDFdDQogICAgICAvLyBtaW51cyBiID0gWzB4MDAwMF8wMDAwXzAwMDBfMDAwMSwgMCwgMCwgMF0NCiAgICAgIC8vIFRoZSBjb3JyZWN0IHJlc3VsdCBpcyBoaTI9MCwgaGkxPTAsIGxvMj0wLCBsbzE9ICgyXjY0KSAtIDEgPT4gMHhmZmZmZmZmZmZmZmZmZmZmDQogICAgICAvLyBiZWNhdXNlIHdlIG11c3QgYm9ycm93IGZyb20gdGhlIHRvcCBsaW1iICh3aGljaCB3YXMgMSkuDQogICAgICBsZXQgYSA9IG5ldyB1MjU2KDAsIDAsIDAsIDEpOw0KICAgICAgbGV0IGIgPSBuZXcgdTI1NigxLCAwLCAwLCAwKTsNCg0KICAgICAgLy8gVGhlIGNvcnJlY3QgZGlmZmVyZW5jZSBpZiBhPTJeMTkyIGFuZCBiPTE6DQogICAgICBsZXQgY29ycmVjdCA9IG5ldyB1MjU2KA0KICAgICAgICAweEZGRkZGRkZGRkZGRkZGRkYsDQogICAgICAgIDB4RkZGRkZGRkZGRkZGRkZGRiwNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgICAwIC8vIGhpMg0KICAgICAgKTsNCg0KICAgICAgbGV0IGRpZmYgPSBhIC0gYjsNCiAgICAgIGV4cGVjdChkaWZmLmxvMSkudG9CZShjb3JyZWN0LmxvMSwgIlNob3VsZCBib3Jyb3cgaW50byBsbzEiKTsNCiAgICAgIGV4cGVjdChkaWZmLmxvMikudG9CZShjb3JyZWN0LmxvMik7DQogICAgICBleHBlY3QoZGlmZi5oaTEpLnRvQmUoY29ycmVjdC5oaTEpOw0KICAgICAgZXhwZWN0KGRpZmYuaGkyKS50b0JlKGNvcnJlY3QuaGkyKTsNCiAgICB9KTsNCiAgfSk7DQoNCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgLy8gMy4gRmxvYXQgLT4gQmlnSW50IENvbnZlcnNpb25zDQogIC8vICAgIGZyb21GNjQvZnJvbUYzMiBvbmx5IGRvIDx1NjQ+dmFsdWUsIGxvc2luZyBiaXRzIGFib3ZlIDJeNTMuDQogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIGRlc2NyaWJlKCJGbG9hdCB0byBCaWdJbnQgQ29udmVyc2lvbnMgKFRydW5jYXRpb24gQWJvdmUgMl41MykiLCAoKSA9PiB7DQogICAgaXQoIlNob3VsZCBjb3JyZWN0bHkgY29udmVydCAyXjU0IGZyb20gZjY0IChzaG91bGQgYmUgMTgwMTQzOTg1MDk0ODE5ODQpIiwgKCkgPT4gew0KICAgICAgLy8gMl41NCA9IDE4MDE0Mzk4NTA5NDgxOTg0DQogICAgICAvLyBUaGUgbGlicmFyeSBpbmNvcnJlY3RseSBqdXN0IGRvZXMgPHU2ND52YWx1ZSwgYnV0IGY2NCBjYW4ndCBleGFjdGx5IHJlcHJlc2VudCAyXjU0IGFzIGFuIGludGVnZXIuDQogICAgICAvLyBFdmVuIGlmIGl0IGRpZCwgdGhlIGxpYnJhcnkgZG9lc24ndCBkbyB0aGUgaGlnaC1saW1iIGxvZ2ljIHRvIHBsYWNlIGJpdHMgYWJvdmUgMl41My4NCiAgICAgIGxldCB2YWw6IGY2NCA9IE1hdGgucG93KDIsIDU0KTsgLy8gMl41NA0KICAgICAgbGV0IHUgPSB1MjU2LmZyb21GNjQodmFsKTsNCg0KICAgICAgLy8gSWYgdGhlIGxpYnJhcnkgd2VyZSBwZXJmZWN0LCB5b3UnZCBnZXQgZXhhY3RseSAyXjU0IGluIHRoZSBpbnRlZ2VyIChsbzE9MTgwMTQzOTg1MDk0ODE5ODQpLg0KICAgICAgLy8gQnV0IGN1cnJlbnRseSwgaXQgaXMgb2ZmIGJ5IDEgb3IgdHJ1bmNhdGVkIGZvciBsYXJnZSBwb3dlcnMuIExldCdzIHNlZSB3aGF0IGl0IGRvZXM6DQogICAgICBleHBlY3QodS50b1N0cmluZygpKS50b0JlKA0KICAgICAgICAiMTgwMTQzOTg1MDk0ODE5ODQiLA0KICAgICAgICAiU2hvdWxkIHBhcnNlIDJeNTQgZXhhY3RseSwgYnV0IGxpa2VseSBmYWlscyBub3ciLA0KICAgICAgKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgY29ycmVjdGx5IGNvbnZlcnQgYSBodWdlIGY2NCBhYm92ZSAyXjUzIiwgKCkgPT4gew0KICAgICAgLy8gZS5nLiAxLjIzNDVlMjAgfiAxMjM0NTAwMDAwMDAwMDAwMDAwMDAgPT4gd2F5IGJpZ2dlciB0aGFuIDJeNTMNCiAgICAgIC8vIFRoZSBsaWJyYXJ5IHdpbGwgbG9zZSBoaWdoIGJpdHMgYW5kIG5vdCByZXByZXNlbnQgdGhlIGZ1bGwgbWFnbml0dWRlLg0KICAgICAgbGV0IGJpZ0RvdWJsZTogZjY0ID0gMS4yMzQ1ZTIwOw0KICAgICAgbGV0IGFzVTI1NiA9IHUyNTYuZnJvbUY2NChiaWdEb3VibGUpOw0KICAgICAgLy8gSnVzdCBjaGVja2luZyB0aGF0IHRoZSByZXN1bHQgaXMgb2J2aW91c2x5IHNtYWxsZXIgdGhhbiB0aGUgcmVhbCBpbnRlZ2VyLg0KICAgICAgLy8gQSBjb3JyZWN0IGJpZy1pbnQgY29udmVyc2lvbiB3b3VsZCBwcm9kdWNlIGEgfjY2LWJpdCBvciBzbyBpbnRlZ2VyIGhlcmUuDQogICAgICAvLyBJbnN0ZWFkLCB3ZSBnZXQgb25seSB+NTMgYml0cyBvZiBkYXRhLg0KICAgICAgZXhwZWN0KGFzVTI1Ni50b1N0cmluZygpLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgNCiAgICAgICAgMTUsDQogICAgICAgICJJdCBtaWdodCBpbmNvcnJlY3RseSBoYXZlIGZld2VyIGRpZ2l0cyBpZiB0cnVuY2F0ZWQgdG9vIHNldmVyZWx5IiwNCiAgICAgICk7DQogICAgfSk7DQogIH0pOw0KDQogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIC8vIDQuIENvbmZpcm0gaTEyOCBvbmx5IGhhcyA2NC1iaXQgcGFydGlhbCBsb2dpYyBpbiBmcm9tSTI1Ni9mcm9tVTI1Ng0KICAvLyAgICAoVGhpcyBpcyBub3QgbmVjZXNzYXJpbHkgYSBidWcgaWYgaXQncyBpbnRlbmRlZCB0byB0cnVuY2F0ZSwgYnV0IGl0DQogIC8vICAgICpjYW4qIGJlIGEgYnVnIGlmIHlvdSBleHBlY3RlZCBzYXR1cmF0ZSBvciBzaWduIGV4dGVuc2lvbiwgZXRjLikNCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgZGVzY3JpYmUoImkxMjggZnJvbVUyNTYgLyBmcm9tSTI1NiB0cnVuY2F0aW9uIGNoZWNrIiwgKCkgPT4gew0KICAgIGl0KCJTaG91bGQgc2hvdyB0aGF0IGkxMjguZnJvbVUyNTYgdHJ1bmNhdGVzIHRvcCAxMjggYml0cyIsICgpID0+IHsNCiAgICAgIC8vIFdlJ2xsIHBpY2sgYSB1MjU2IGJpZ2dlciB0aGFuIDJeMTI4LTE6DQogICAgICAvLyBlLmcuIDB4ZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIDAwMDAwMDAwMDAwMDAwMDAgMDAwMDAwMDAwMDAwMDAwMQ0KICAgICAgbGV0IGJpZ1ZhbCA9IG5ldyB1MjU2KA0KICAgICAgICAweDAwMDAwMDAwMDAwMDAwMDEsDQogICAgICAgIDB4MDAwMDAwMDAwMDAwMDAwMCwNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgICAweEZGRkZGRkZGRkZGRkZGRkYsDQogICAgICApOw0KDQogICAgICAvLyBpMTI4LmZyb21VMjU2IGp1c3QgcGlja3MgbG8xLCBsbzIgPT4gZGlzY2FyZGluZyBoaTEsIGhpMi4NCiAgICAgIGxldCB0cnVuY2F0ZWQgPSBpMTI4LmZyb21VMjU2KGJpZ1ZhbCk7DQoNCiAgICAgIC8vIFRoZSB0b3AgaGFsZiBpcyBsb3N0LiBDaGVjayB0aGF0IHRydW5jYXRlZCByZXN1bHQgaXMgZWZmZWN0aXZlbHkgIjEiIGluIHRoZSBsb3cgMTI4IGJpdHM6DQogICAgICAvLyBsbzEgPSAxLCBoaT0wDQogICAgICBleHBlY3QodHJ1bmNhdGVkLmxvKS50b0JlKA0KICAgICAgICAxLA0KICAgICAgICAiVHJ1bmNhdGlvbiBtZWFucyBvbmx5IHRoZSBsb3dlc3QgNjQgYml0cyBhcmUgMSIsDQogICAgICApOw0KICAgICAgZXhwZWN0KHRydW5jYXRlZC5oaSkudG9CZSgNCiAgICAgICAgMCwNCiAgICAgICAgIlRvcCA2NCBiaXRzIHdpdGhpbiBpMTI4IGFyZSB6ZXJvLCBpZ25vcmluZyB0aGUgcmVhbCB0b3AgMTI4IGJpdHMgb2YgdGhlIG9yaWdpbmFsIiwNCiAgICAgICk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNob3cgc2lnbiBtaWdodCBiZSB3cm9uZyBpZiBsbzIgdG9wIGJpdCBpcyBzZXQiLCAoKSA9PiB7DQogICAgICAvLyBlLmcuIFN1cHBvc2UgdGhlIGxvd2VyIDEyOCBiaXRzIGhhdmUgdGhlaXIgdG9wIGJpdCBzZXQgPT4gaTEyOCBzZWVzIGl0IGFzIG5lZ2F0aXZlLg0KICAgICAgLy8gQnV0IGZyb21VMjU2IGhhcyBubyBzaWduIGxvZ2ljLCBpdCBqdXN0IHJlaW50ZXJwcmV0cyBsbzIgYXMgYW4gaTY0Lg0KICAgICAgbGV0IHRyaWNreVZhbCA9IG5ldyB1MjU2KA0KICAgICAgICAwLCAvLyBsbzENCiAgICAgICAgMHg4MDAwMDAwMDAwMDAwMDAwLCAvLyBsbzIgaGFzIHRvcCBiaXQgc2V0DQogICAgICAgIDAsIC8vIGhpMQ0KICAgICAgICAwLCAvLyBoaTINCiAgICAgICk7DQoNCiAgICAgIGxldCBhc0kxMjggPSBpMTI4LmZyb21VMjU2KHRyaWNreVZhbCk7DQogICAgICAvLyBUaGF0IG1lYW5zIGFzSTEyOCBpcyBuZWdhdGl2ZSBiZWNhdXNlIGhpID0gPGk2ND4gMHg4MDAwMDAwMDAwMDAwMDAwID0+IHNpZ24gYml0IHNldC4NCiAgICAgIC8vIFNvLCBmcm9tIHRoZSBsaWJyYXJ5J3MgcGVyc3BlY3RpdmUsIHdlICJyYW5kb21seSIgZ2V0IGEgbmVnYXRpdmUgaTEyOCBldmVuIHRob3VnaA0KICAgICAgLy8gdGhlIG9yaWdpbmFsIHUyNTYgaXMgZGVmaW5pdGVseSBwb3NpdGl2ZS4NCiAgICAgIGV4cGVjdChhc0kxMjguaXNOZWcoKSkudG9CZSgNCiAgICAgICAgdHJ1ZSwNCiAgICAgICAgIlNob3VsZCBhcHBlYXIgbmVnYXRpdmUgZHVlIHRvIHRvcCBiaXQgaW4gdGhlIGxvd2VyIDEyOCBiaXRzIiwNCiAgICAgICk7DQogICAgfSk7DQogIH0pOw0KDQogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogIC8vIDUuIFBvdGVudGlhbCBEaXZpc2lvbiBFZGdlIENhc2VzIGluIHUyNTYNCiAgLy8gICAgKERlcGVuZHMgb24gY29ycmVjdG5lc3Mgb2Ygc3ViLiBJZiBzdWIgZmFpbHMgZm9yIGNlcnRhaW4gbXVsdGktbGltYg0KICAvLyAgICBib3Jyb3dzLCB0aGUgZGl2aXNpb24gc3RlcHMgY291bGQgYWxzbyBmYWlsLikNCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgZGVzY3JpYmUoInUyNTYgRGl2aXNpb24gRWRnZSBDYXNlcyIsICgpID0+IHsNCiAgICBpdCgiU2hvdWxkIHByb2R1Y2UgYW4gaW5jb3JyZWN0IHF1b3RpZW50IGlmIHN1YiBpcyB3cm9uZyBpbiBhbiBpbnRlcm1lZGlhdGUgc3RlcCIsICgpID0+IHsNCiAgICAgIC8vIFdlIGNvbnRyaXZlIGEgY2FzZSB0aGF0IGRlZmluaXRlbHkgdHJpZ2dlcnMgbXVsdGktbGltYiBib3Jyb3cgaW5zaWRlIHRoZSBzaGlmdC1zdWIgcm91dGluZS4NCiAgICAgIC8vIEZvciBpbnN0YW5jZSwgZGl2aWRpbmcgYSBiaWcgbnVtYmVyIGJ5IGEgc2xpZ2h0bHkgc21hbGxlciBiaWcgbnVtYmVyOg0KDQogICAgICBsZXQgbnVtZXJhdG9yID0gbmV3IHUyNTYoDQogICAgICAgIDB4RkZGRkZGRkZGRkZGRkZGRiwNCiAgICAgICAgMHgwMDAwMDAwMDAwMDAwMDAwLA0KICAgICAgICAweEZGRkZGRkZGRkZGRkZGRkYsDQogICAgICAgIDB4N0ZGRkZGRkZGRkZGRkZGRiwgLy8gYSBsYXJnZSBidXQgbm90IGZ1bGwNCiAgICAgICk7DQogICAgICBsZXQgZGVub21pbmF0b3IgPSBuZXcgdTI1NigNCiAgICAgICAgMHhGRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgICAweDAwMDAwMDAwMDAwMDAwMDAsDQogICAgICAgIDB4RkZGRkZGRkZGRkZGRkZGRiwNCiAgICAgICAgMHgzRkZGRkZGRkZGRkZGRkZGLA0KICAgICAgKTsNCg0KICAgICAgLy8gVGhlIGNvcnJlY3QgcXVvdGllbnQgaXMgcm91Z2hseSB+MiAoc2luY2UgaGkyIGlzIDdGRkYuLi4gdnMgM0ZGRi4uLikuDQogICAgICAvLyBMZXQncyBzZWUgaWYgdGhlIHN1YiBsb2dpYyBsZWFkcyB0byBhbiBvZmYtYnktb25lIG9yIHNvbWV0aGluZyBlbHNlLg0KICAgICAgbGV0IHF1b3RpZW50ID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7DQoNCiAgICAgIC8vIFdlICp3YW50KiBpdCB0byBiZSBhYm91dCAyOg0KICAgICAgZXhwZWN0KHF1b3RpZW50LnRvVTY0KCkpLnRvQmUoDQogICAgICAgIDIsDQogICAgICAgICJJbiBzdGFuZGFyZCBiaWctaW50IGRpdmlzaW9uLCB0aGUgcXVvdGllbnQgc2hvdWxkIGJlIDIgKHJvdWdobHkpLiIsDQogICAgICApOw0KICAgIH0pOw0KICB9KTsNCn0pOw0K",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/i128.spec.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gJy4uL2ludGVnZXIvaTEyOCc7DQppbXBvcnQgeyBpMjU2IH0gZnJvbSAnLi4vaW50ZWdlci9pMjU2JzsNCmltcG9ydCB7IHUyNTYgfSBmcm9tICcuLi9pbnRlZ2VyL3UyNTYnOw0KaW1wb3J0IHsgdTEyOCB9IGZyb20gJy4uL2ludGVnZXIvdTEyOCc7DQppbXBvcnQgeyBhcnJheVRvVWludDhBcnJheSB9IGZyb20gIi4vdXRpbHMiOw0KDQoNCmRlc2NyaWJlKCJCdWZmZXIgQ29udmVyc2lvbiIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gYnl0ZXMgTGl0dGxlIEVuZGlhbiAxIiwgKCkgPT4gew0KICAgIHZhciBhcnI6IHU4W10gPSBbDQogICAgICAweDExLCAweDIyLCAweDMzLCAweDQ0LCAweDU1LCAweDY2LCAweDc3LCAweDg4LA0KICAgICAgMHg5OSwgMHhBQSwgMHhCQiwgMHhDQywgMHhERCwgMHhFRSwgMHhGRiwgMHgxMg0KICAgIF07DQogICAgZXhwZWN0KGkxMjguZnJvbUJ5dGVzKGFycikpDQogICAgICAudG9TdHJpY3RFcXVhbChuZXcgaTEyOCgweDg4Nzc2NjU1NDQzMzIyMTEsIDB4MTJGRkVFRERDQ0JCQUE5OSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBMaXR0bGUgRW5kaWFuIDIiLCAoKSA9PiB7DQogICAgdmFyIGFyciA9IGFycmF5VG9VaW50OEFycmF5KFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4MDAsDQogICAgICAweDAwLCAweDc3LCAweDY2LCAweDU1LCAweDQ0LCAweDMzLCAweDIyLCAweDExDQogICAgXSk7DQogICAgZXhwZWN0KGkxMjguZnJvbUJ5dGVzKGFycikpDQogICAgICAudG9TdHJpY3RFcXVhbChuZXcgaTEyOCgweDAwNzc2NjU1NDQzMzIyMTEsIDB4MTEyMjMzNDQ1NTY2NzcwMCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBCaWcgRW5kaWFuIDEiLCAoKSA9PiB7DQogICAgdmFyIGFycjogdThbXSA9IFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsDQogICAgICAweDk5LCAweEFBLCAweEJCLCAweENDLCAweERELCAweEVFLCAweEZGLCAweDEyDQogICAgXTsNCiAgICBleHBlY3QoaTEyOC5mcm9tQnl0ZXMoYXJyLCB0cnVlKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKG5ldyBpMTI4KDB4OTlBQUJCQ0NEREVFRkYxMiwgMHgxMTIyMzM0NDU1NjY3Nzg4KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGJ5dGVzIEJpZyBFbmRpYW4gMiIsICgpID0+IHsNCiAgICB2YXIgYXJyID0gYXJyYXlUb1VpbnQ4QXJyYXkoWw0KICAgICAgMHgxMSwgMHgyMiwgMHgzMywgMHg0NCwgMHg1NSwgMHg2NiwgMHg3NywgMHg4OCwNCiAgICAgIDB4OTksIDB4QUEsIDB4QkIsIDB4Q0MsIDB4REQsIDB4RUUsIDB4RkYsIDB4MTINCiAgICBdKTsNCiAgICBleHBlY3QoaTEyOC5mcm9tQnl0ZXMoYXJyLCB0cnVlKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKG5ldyBpMTI4KDB4OTlBQUJCQ0NEREVFRkYxMiwgMHgxMTIyMzM0NDU1NjY3Nzg4KSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJCYXNpYyBPcGVyYXRpb25zIiwgKCkgPT4gew0KICBpdCgiU2hvdWxkIG51bWJlciBpcyB6ZXJvIDEiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4Llplcm87DQogICAgZXhwZWN0KGEuaXNaZXJvKCkpLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIGlzIHplcm8gMiIsICgpID0+IHsNCiAgICBsZXQgYSA9IGkxMjguT25lOw0KICAgIGV4cGVjdCghYS5pc1plcm8oKSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBudW1iZXIgYmluYXJ5IG5vdCIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyBpMTI4KDEsIDIpOw0KICAgIGV4cGVjdCh+YSkudG9TdHJpY3RFcXVhbChuZXcgaTEyOCh+MSwgfjIpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBudW1iZXIgdW5hcnkgcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgaTEyOCgxLCAyKTsNCiAgICBleHBlY3QoK2EpLnRvU3RyaWN0RXF1YWwoYSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIG5vbiBlbXB0eSIsICgpID0+IHsNCiAgICBsZXQgYSA9IGkxMjguT25lOw0KICAgIGV4cGVjdCghIWEpLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIGlzIGVtcHR5IDEiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4Llplcm87DQogICAgZXhwZWN0KCFhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG5lZygxKSA9PSAtMSIsICgpID0+IHsNCiAgICBsZXQgb25lID0gaTEyOC5PbmU7DQogICAgbGV0IG5lZyA9IG9uZS5uZWcoKTsNCiAgICBleHBlY3QoPHU2ND5uZWcubG8pLnRvQmUoPHU2ND4tMSk7DQogICAgZXhwZWN0KDx1NjQ+bmVnLmhpKS50b0JlKDx1NjQ+LTEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFicygtMSkgPT0gMSIsICgpID0+IHsNCiAgICBsZXQgb25lID0gaTEyOC5PbmU7DQogICAgbGV0IG5lZyA9IC1vbmU7DQogICAgZXhwZWN0KGkxMjguYWJzKG5lZykpLnRvU3RyaWN0RXF1YWwob25lKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBoYW5kbGUgaTEyOCgxKSArIGkxMjgoLTEpID0+IDAiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoMSk7DQogICAgbGV0IGIgPSBpMTI4LmZyb21JNjQoLTEpOw0KDQogICAgbGV0IHN1bSA9IGEgKyBiOw0KICAgIGV4cGVjdChzdW0uaXNaZXJvKCkpLnRvQmUoDQogICAgICB0cnVlLA0KICAgICAgIkV4cGVjdGVkIDEgKyAtMSA9PSAwIGZvciAxMjgtYml0IHNpZ25lZCBhcml0aG1ldGljIg0KICAgICk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgYWRkIHR3byBuZWdhdGl2ZSBudW1iZXJzIiwgKCkgPT4gew0KICAgIC8vIC0yICsgLTMgPSAtNQ0KICAgIGxldCBhID0gaTEyOC5mcm9tSTY0KC0yKTsNCiAgICBsZXQgYiA9IGkxMjguZnJvbUk2NCgtMyk7DQogICAgbGV0IHJlc3VsdCA9IGEgKyBiOw0KICAgIGxldCBleHBlY3RlZCA9IGkxMjguZnJvbUk2NCgtNSk7DQoNCiAgICBleHBlY3QocmVzdWx0LmxvKS50b0JlKGV4cGVjdGVkLmxvKTsNCiAgICBleHBlY3QocmVzdWx0LmhpKS50b0JlKGV4cGVjdGVkLmhpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWJ0cmFjdCBuZWdhdGl2ZSBmcm9tIHBvc2l0aXZlICg1IC0gKC0xKSA9PiA2KSIsICgpID0+IHsNCiAgICBsZXQgYSA9IGkxMjguZnJvbUk2NCg1KTsNCiAgICBsZXQgYiA9IGkxMjguZnJvbUk2NCgtMSk7DQogICAgbGV0IGRpZmYgPSBhIC0gYjsNCiAgICBsZXQgZXhwZWN0ZWQgPSBpMTI4LmZyb21JNjQoNik7DQoNCiAgICBleHBlY3QoZGlmZi5sbykudG9CZShleHBlY3RlZC5sbyk7DQogICAgZXhwZWN0KGRpZmYuaGkpLnRvQmUoZXhwZWN0ZWQuaGkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGhhbmRsZSAtMSAtIDEgPT4gLTIgcHJvcGVybHkiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoLTEpOw0KICAgIGxldCBiID0gaTEyOC5mcm9tSTY0KDEpOw0KICAgIGxldCBkaWZmID0gYSAtIGI7DQogICAgbGV0IGV4cGVjdGVkID0gaTEyOC5mcm9tSTY0KC0yKTsNCg0KICAgIGV4cGVjdChkaWZmLmxvKS50b0JlKGV4cGVjdGVkLmxvKTsNCiAgICBleHBlY3QoZGlmZi5oaSkudG9CZShleHBlY3RlZC5oaSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgdW5hcnkgbmVnYXRlIGEgcG9zaXRpdmUgbnVtYmVyIiwgKCkgPT4gew0KICAgIGxldCBhID0gaTEyOC5mcm9tSTY0KDEwKTsNCiAgICBsZXQgbmVnQSA9IC1hOw0KICAgIGxldCBleHBlY3RlZCA9IGkxMjguZnJvbUk2NCgtMTApOw0KDQogICAgZXhwZWN0KG5lZ0EubG8pLnRvQmUoZXhwZWN0ZWQubG8pOw0KICAgIGV4cGVjdChuZWdBLmhpKS50b0JlKGV4cGVjdGVkLmhpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB1bmFyeSBuZWdhdGUgemVybyA9PiAwIiwgKCkgPT4gew0KICAgIGxldCBhID0gaTEyOC5aZXJvOw0KICAgIGV4cGVjdCgtYSkudG9TdHJpY3RFcXVhbChpMTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCBsYXJnZSBwb3NpdGl2ZXMgd2l0aG91dCBvdmVyZmxvdyBpbiAxMjggYml0cyIsICgpID0+IHsNCiAgICBsZXQgeCA9IGkxMjguZnJvbUJpdHMoMHhmZmZmZmZmZiwgMHhmZmZmZmZmZiwgMCwgMCk7IC8vIH4yXjY0IC0gMQ0KICAgIGxldCB5ID0gaTEyOC5mcm9tSTY0KDEpOw0KICAgIGxldCBzdW0gPSB4ICsgeTsNCiAgICAvLyB+Ml42NCA9PiBsbz0wLCBoaT0xDQogICAgZXhwZWN0KHN1bS5sbykudG9CZSgwKTsNCiAgICBleHBlY3Qoc3VtLmhpKS50b0JlKDEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCBjYXVzaW5nIHNpZ24gYml0IGZsaXAgbmVnYXRpdmUgLT4gcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgLy8gLTEgPT4gbG89MHhGRkZGRkZGRkZGRkZGRkZGLCBoaT0weEZGRkZGRkZGRkZGRkZGRkYNCiAgICBsZXQgeCA9IG5ldyBpMTI4KDB4RkZGRkZGRkZGRkZGRkZGRiwgMHhGRkZGRkZGRkZGRkZGRkZGKTsNCiAgICBsZXQgeSA9IGkxMjguZnJvbUk2NCgyKTsNCiAgICBsZXQgcmVzdWx0ID0geCArIHk7DQoNCiAgICBleHBlY3QocmVzdWx0LmxvKS50b0JlKDEsICJTaG91bGQgYmUgMSBpbiBsbyIpOw0KICAgIGV4cGVjdChyZXN1bHQuaGkpLnRvQmUoMCwgIlNob3VsZCBiZSAwIGluIGhpIik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZG8gbm9ybWFsIGJpdHdpc2Ugb3BzIG9uIGkxMjgiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoMHhGRjAwRkYwMCk7DQogICAgbGV0IGIgPSBpMTI4LmZyb21JNjQoMHgwRjBGMEYwRik7DQoNCiAgICAvLyBPUiA9PiAweEZGMEZGRjBGDQogICAgbGV0IG9yUmVzdWx0ID0gaTEyOC5mcm9tSTY0KDB4RkYwRkZGMEYpOw0KICAgIGV4cGVjdChhIHwgYikudG9TdHJpY3RFcXVhbChvclJlc3VsdCk7DQoNCiAgICAvLyBBTkQgPT4gMHgwRjAwMEYwMA0KICAgIGxldCBhbmRSZXN1bHQgPSBpMTI4LmZyb21JNjQoMHgwRjAwMEYwMCk7DQogICAgZXhwZWN0KGEgJiBiKS50b1N0cmljdEVxdWFsKGFuZFJlc3VsdCk7DQoNCiAgICAvLyBYT1IgPT4gMHhGMDBGRjAwRg0KICAgIGxldCB4b3JSZXN1bHQgPSBpMTI4LmZyb21JNjQoMHhGMDBGRjAwRik7DQogICAgZXhwZWN0KGEgXiBiKS50b1N0cmljdEVxdWFsKHhvclJlc3VsdCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc2hpZnQgbGVmdCIsICgpID0+IHsNCiAgICAvLyBpMTI4KDEpIDw8IDYzID0+IGxvPTE8PDYzLCBoaT0wDQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoMSk7DQogICAgbGV0IHNoaWZ0ZWQgPSBhIDw8IDYzOw0KICAgIGV4cGVjdChzaGlmdGVkLmxvKS50b0JlKDB4ODAwMDAwMDAwMDAwMDAwMCk7DQogICAgZXhwZWN0KHNoaWZ0ZWQuaGkpLnRvQmUoMCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc2hpZnQgcmlnaHQgdW5zaWduZWQgKD4+PikiLCAoKSA9PiB7DQogICAgLy8gLTEgPT4gbG89MHhmZmZmZmZmZmZmZmZmZmZmLCBoaT0weGZmZmZmZmZmZmZmZmZmZmYNCiAgICAvLyAoPj4+IDY0KSA9PiBsbz0weGZmZmZmZmZmZmZmZmZmZmYsIGhpPTAgPT4gcGVyIHNocl91IGxvZ2ljDQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoLTEpOw0KICAgIGxldCBzaGlmdGVkID0gYSA+Pj4gNjQ7DQogICAgZXhwZWN0KHNoaWZ0ZWQubG8pLnRvQmUoMHhmZmZmZmZmZmZmZmZmZmZmKTsNCiAgICBleHBlY3Qoc2hpZnRlZC5oaSkudG9CZSgwKTsNCiAgfSk7DQp9KTsNCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vDQovLyBOZXcgLyBFeHRlbmRlZCBUZXN0cyBmb3IgRnVsbCBDb3ZlcmFnZQ0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vDQoNCmRlc2NyaWJlKCJDb25zdGFudHM6IFplcm8sIE9uZSwgTWluLCBNYXgiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgaGF2ZSBaZXJvID0gMCIsICgpID0+IHsNCiAgICBsZXQgeiA9IGkxMjguWmVybzsNCiAgICBleHBlY3Qoei5pc1plcm8oKSkudG9CZSh0cnVlKTsNCiAgICBleHBlY3Qoei5pc1BvcygpKS50b0JlKHRydWUpOyAvLyAwIGlzbid0IG5lZ2F0aXZlDQogICAgZXhwZWN0KHouaXNOZWcoKSkudG9CZShmYWxzZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgaGF2ZSBPbmUgPSAxIiwgKCkgPT4gew0KICAgIGxldCBvID0gaTEyOC5PbmU7DQogICAgZXhwZWN0KG8ubG8pLnRvQmUoMSk7DQogICAgZXhwZWN0KG8uaGkpLnRvQmUoMCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgaGF2ZSBNaW4gPCAwIiwgKCkgPT4gew0KICAgIGxldCBtID0gaTEyOC5NaW47DQogICAgZXhwZWN0KG0uaXNOZWcoKSkudG9CZSh0cnVlKTsNCiAgICBleHBlY3QobSA8IGkxMjguWmVybykudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBoYXZlIE1heCA+IDAiLCAoKSA9PiB7DQogICAgbGV0IG0gPSBpMTI4Lk1heDsNCiAgICBleHBlY3QobS5pc1BvcygpKS50b0JlKHRydWUpOw0KICAgIGV4cGVjdChtID4gaTEyOC5aZXJvKS50b0JlKHRydWUpOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiQ3JlYXRpb24gZnJvbSB2YXJpb3VzIG51bWVyaWMgdHlwZXMiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb21JNjQiLCAoKSA9PiB7DQogICAgbGV0IHZhbCA9IGkxMjguZnJvbUk2NCgtMTIzNDUpOw0KICAgIGV4cGVjdCh2YWwubG8pLnRvQmUoPHU2ND4tMTIzNDUpOw0KICAgIGV4cGVjdCh2YWwuaGkpLnRvQmUoLTEpOyAvLyBzaWduLWV4dGVuZGVkDQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb21VNjQiLCAoKSA9PiB7DQogICAgbGV0IHZhbCA9IGkxMjguZnJvbVU2NCgxMjM0NSk7DQogICAgZXhwZWN0KHZhbC5sbykudG9CZSgxMjM0NSk7DQogICAgZXhwZWN0KHZhbC5oaSkudG9CZSgwKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjcmVhdGUgZnJvbUkzMiIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tSTMyKC0xMjM0NSk7DQogICAgZXhwZWN0KHZhbC5sbykudG9CZSg8dTY0Pi0xMjM0NSk7DQogICAgZXhwZWN0KHZhbC5oaSkudG9CZSgtMSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb21VMzIiLCAoKSA9PiB7DQogICAgbGV0IHZhbCA9IGkxMjguZnJvbVUzMigxMjM0NTY3ODkpOw0KICAgIGV4cGVjdCh2YWwubG8pLnRvQmUoMTIzNDU2Nzg5KTsNCiAgICBleHBlY3QodmFsLmhpKS50b0JlKDApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tRjY0IHNtYWxsIiwgKCkgPT4gew0KICAgIGxldCB2YWwgPSBpMTI4LmZyb21GNjQoNDIuMCk7DQogICAgZXhwZWN0KHZhbC5sbykudG9CZSg0Mik7DQogICAgZXhwZWN0KHZhbC5oaSkudG9CZSgwKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjcmVhdGUgZnJvbUY2NCBuZWdhdGl2ZSIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tRjY0KC00Mi4wKTsNCiAgICBleHBlY3QodmFsLmxvKS50b0JlKDx1NjQ+LTQyKTsNCiAgICBleHBlY3QodmFsLmhpKS50b0JlKC0xKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjcmVhdGUgZnJvbUYzMiBzbWFsbCIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tRjMyKDEzLjApOw0KICAgIGV4cGVjdCh2YWwubG8pLnRvQmUoMTMpOw0KICAgIGV4cGVjdCh2YWwuaGkpLnRvQmUoMCk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJDcmVhdGlvbiBmcm9tIGkxMjgsIHUxMjgsIGkyNTYsIHUyNTYsIGZyb21CaXRzIiwgKCkgPT4gew0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tSTEyOCIsICgpID0+IHsNCiAgICBsZXQgb3JpZ2luYWwgPSBuZXcgaTEyOCgxMjM0LCA1Njc4KTsNCiAgICBsZXQgY29weSA9IGkxMjguZnJvbUkxMjgob3JpZ2luYWwpOw0KICAgIGV4cGVjdChjb3B5LmxvKS50b0JlKDEyMzQpOw0KICAgIGV4cGVjdChjb3B5LmhpKS50b0JlKDU2NzgpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tVTEyOCIsICgpID0+IHsNCiAgICBsZXQgdXZhbCA9IG5ldyB1MTI4KDk5OTksIDExMTEpOw0KICAgIGxldCBzdmFsID0gaTEyOC5mcm9tVTEyOCh1dmFsKTsNCiAgICBleHBlY3Qoc3ZhbC5sbykudG9CZSg5OTk5KTsNCiAgICBleHBlY3Qoc3ZhbC5oaSkudG9CZSg8aTY0PjExMTEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tSTI1NiAodHJ1bmNhdGlvbiB0ZXN0KSIsICgpID0+IHsNCiAgICBsZXQgYmlnID0gbmV3IGkyNTYoMHhDQ0JCQUE5OTg4Nzc2NjU1LCAweDExMjIzMzQ0NTU2Njc3ODgsIC0xLCAxMjM0NSk7DQogICAgLy8gZnJvbUkyNTYgdHJ1bmNhdGVzIHRvcCBiaXRzDQogICAgbGV0IHRydW5jYXRlZCA9IGkxMjguZnJvbUkyNTYoYmlnKTsNCiAgICBleHBlY3QodHJ1bmNhdGVkLmxvKS50b0JlKDB4Q0NCQkFBOTk4ODc3NjY1NSk7DQogICAgLy8gbG8yID0gaGkgb2YgaTEyOCA9IDB4MTEyMjMzNDQ1NTY2Nzc4OCB0cnVuY2F0ZWQgdG8gaTY0DQogICAgZXhwZWN0KHRydW5jYXRlZC5oaSkudG9CZSg8aTY0PjB4MTEyMjMzNDQ1NTY2Nzc4OCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb21VMjU2ICh0cnVuY2F0aW9uIHRlc3QpIiwgKCkgPT4gew0KICAgIGxldCBiaWd1ID0gbmV3IHUyNTYoMHhBQUFBQkJCQkNDQ0NERERELCAweDAxMjM0NTY3ODlBQkNERUYsIDAsIDQyKTsNCiAgICBsZXQgdHJ1bmNhdGVkID0gaTEyOC5mcm9tVTI1NihiaWd1KTsNCiAgICBleHBlY3QodHJ1bmNhdGVkLmxvKS50b0JlKDB4QUFBQUJCQkJDQ0NDRERERCk7DQogICAgZXhwZWN0KHRydW5jYXRlZC5oaSkudG9CZSg8aTY0PjB4MDEyMzQ1Njc4OUFCQ0RFRik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb21CaXRzIiwgKCkgPT4gew0KICAgIC8vIGZyb21CaXRzKGxvMSwgbG8yLCBoaTEsIGhpMikNCiAgICAvLyBsbyA9IGxvMSArIChsbzI8PDMyKSwgaGkgPSBoaTEgKyAoaGkyPDwzMikNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tQml0cygweDExMjIzMzQ0LCAweDU1NjY3Nzg4LCAweDk5QUFCQkNDLCAweERERUVGRjAwKTsNCiAgICBleHBlY3QodmFsLmxvKS50b0JlKA0KICAgICAgMHg1NTY2Nzc4OF8xMTIyMzM0NA0KICAgICk7DQogICAgZXhwZWN0KHZhbC5oaSkudG9CZSgNCiAgICAgIDB4RERFRUZGMDBfOTlBQUJCQ0MgYXMgaTY0DQogICAgKTsNCiAgfSk7DQp9KTsNCg0KZGVzY3JpYmUoImkxMjguZnJvbVN0cmluZyB0ZXN0cyIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBwYXJzZSBwb3NpdGl2ZSBkZWNpbWFsIiwgKCkgPT4gew0KICAgIGxldCB2YWwgPSBpMTI4LmZyb21TdHJpbmcoIjEyMzQ1Iik7DQogICAgZXhwZWN0KHZhbCkudG9TdHJpY3RFcXVhbChpMTI4LmZyb21JNjQoMTIzNDUpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwYXJzZSBuZWdhdGl2ZSBkZWNpbWFsIiwgKCkgPT4gew0KICAgIGxldCB2YWwgPSBpMTI4LmZyb21TdHJpbmcoIi05ODc2NSIpOw0KICAgIGV4cGVjdCh2YWwpLnRvU3RyaWN0RXF1YWwoaTEyOC5mcm9tSTY0KC05ODc2NSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBhcnNlIGhleCBzdHJpbmcgKHBvc2l0aXZlKSIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tU3RyaW5nKCJGRiIsIDE2KTsNCiAgICBleHBlY3QodmFsKS50b1N0cmljdEVxdWFsKGkxMjguZnJvbUk2NCgyNTUpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwYXJzZSBoZXggc3RyaW5nIChuZWdhdGl2ZSkiLCAoKSA9PiB7DQogICAgbGV0IHZhbCA9IGkxMjguZnJvbVN0cmluZygiLUZGIiwgMTYpOw0KICAgIGV4cGVjdCh2YWwpLnRvU3RyaWN0RXF1YWwoaTEyOC5mcm9tSTY0KC0yNTUpKTsNCiAgfSk7DQp9KTsNCg0KZGVzY3JpYmUoImkxMjguZnJvbTxUPih2YWx1ZSkgdGVzdHMiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb208Ym9vbD4iLCAoKSA9PiB7DQogICAgZXhwZWN0KGkxMjguZnJvbTxib29sPih0cnVlKSkudG9TdHJpY3RFcXVhbChpMTI4Lk9uZSk7DQogICAgZXhwZWN0KGkxMjguZnJvbTxib29sPihmYWxzZSkpLnRvU3RyaWN0RXF1YWwoaTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjcmVhdGUgZnJvbTxpOD4iLCAoKSA9PiB7DQogICAgZXhwZWN0KGkxMjguZnJvbTxpOD4oLTUpKS50b1N0cmljdEVxdWFsKGkxMjguZnJvbUk2NCgtNSkpOw0KICAgIGV4cGVjdChpMTI4LmZyb208aTg+KDUpKS50b1N0cmljdEVxdWFsKGkxMjguZnJvbUk2NCg1KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb208dTg+IiwgKCkgPT4gew0KICAgIGV4cGVjdChpMTI4LmZyb208dTg+KDI1NSkpLnRvU3RyaWN0RXF1YWwoaTEyOC5mcm9tSTY0KDI1NSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tPGkxNj4iLCAoKSA9PiB7DQogICAgZXhwZWN0KGkxMjguZnJvbTxpMTY+KC0zMDApKS50b1N0cmljdEVxdWFsKGkxMjguZnJvbUk2NCgtMzAwKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb208dTE2PiIsICgpID0+IHsNCiAgICBleHBlY3QoaTEyOC5mcm9tPHUxNj4oNjU1MzUpKS50b1N0cmljdEVxdWFsKGkxMjguZnJvbUk2NCg2NTUzNSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNyZWF0ZSBmcm9tPGkxMjg+IiwgKCkgPT4gew0KICAgIGxldCB4ID0gbmV3IGkxMjgoMHgxMTExMTExMSwgMHgyMjIyMjIyMik7DQogICAgbGV0IHkgPSBpMTI4LmZyb208aTEyOD4oeCk7DQogICAgZXhwZWN0KHkubG8pLnRvQmUoeC5sbyk7DQogICAgZXhwZWN0KHkuaGkpLnRvQmUoeC5oaSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY3JlYXRlIGZyb208ZjMyPiIsICgpID0+IHsNCiAgICBsZXQgeCA9IDEyMy4wIGFzIGYzMjsNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tPGYzMj4oeCk7DQogICAgZXhwZWN0KHZhbCkudG9TdHJpY3RFcXVhbChpMTI4LmZyb21JNjQoMTIzKSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJpc1BvcywgaXNOZWcgY292ZXJhZ2UiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgYmUgcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgbGV0IHggPSBpMTI4LmZyb21JNjQoMTAwKTsNCiAgICBleHBlY3QoeC5pc1BvcygpKS50b0JlKHRydWUpOw0KICAgIGV4cGVjdCh4LmlzTmVnKCkpLnRvQmUoZmFsc2UpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGJlIG5lZ2F0aXZlIiwgKCkgPT4gew0KICAgIGxldCB5ID0gaTEyOC5mcm9tSTY0KC01MCk7DQogICAgZXhwZWN0KHkuaXNQb3MoKSkudG9CZShmYWxzZSk7DQogICAgZXhwZWN0KHkuaXNOZWcoKSkudG9CZSh0cnVlKTsNCiAgfSk7DQp9KTsNCg0KZGVzY3JpYmUoInBvcGNudCwgY2x6LCBjdHogY292ZXJhZ2UiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgcG9wY250IG9mIHplcm8gPT4gMCIsICgpID0+IHsNCiAgICBleHBlY3QoaTEyOC5wb3BjbnQoaTEyOC5aZXJvKSkudG9CZSgwKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3BjbnQgb2YgZXhhbXBsZSA9PiBjb3JyZWN0IGJpdCBjb3VudCIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gbmV3IGkxMjgoMGIxMDEwLCAwKTsgLy8gMiBiaXRzIHNldA0KICAgIGV4cGVjdChpMTI4LnBvcGNudCh2YWwpKS50b0JlKDIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNseihaZXJvKSBoYW5kbGUgcHJvcGVybHkiLCAoKSA9PiB7DQogICAgLy8gVXN1YWxseSBjbHooMCkgPT4gMTI4IGlmIHRoZSBmYWxsYmFjayBpcyB0aGF0IDAgaGFzIDEyOCBsZWFkaW5nIHplcm8gYml0cw0KICAgIGxldCBjID0gaTEyOC5jbHooaTEyOC5aZXJvKTsNCiAgICBleHBlY3QoYykudG9CZSgxMjgsICJjbHooMCkgc2hvdWxkIGJlIDEyOCBpbiB0eXBpY2FsIDEyOC1iaXQgbG9naWMiKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjbHogd2l0aCBoaWdoIGJpdHMgc2V0IiwgKCkgPT4gew0KICAgIC8vIGUuZy4gbmV3IGkxMjgoMCwgMHg4MDAwMDAwMDAwMDAwMDAwKSA9PiBoaWdoZXN0IGJpdA0KICAgIGxldCB2YWwgPSBuZXcgaTEyOCgwLCAweDgwMDAwMDAwMDAwMDAwMDApOw0KICAgIGxldCBjID0gaTEyOC5jbHoodmFsKTsNCiAgICBleHBlY3QoYykudG9CZSgwLCAiTGVhZGluZyBiaXQgaXMgdGhlIHRvcG1vc3QgYml0IG9mIGhpID0+IDAiKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjdHooWmVybykgPT4gMTI4IHR5cGljYWxseSIsICgpID0+IHsNCiAgICAvLyBjdHooMCkgY2FuIGJlIDEyOCBhcyB3ZWxsDQogICAgbGV0IGMgPSBpMTI4LmN0eihpMTI4Llplcm8pOw0KICAgIGV4cGVjdChjKS50b0JlKDEyOCwgImN0eigwKSBzaG91bGQgYmUgMTI4IGluIHR5cGljYWwgMTI4LWJpdCBsb2dpYyIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGN0eiBleGFtcGxlIiwgKCkgPT4gew0KICAgIC8vIGUuZy4gbmV3IGkxMjgoMGIxMDAwMDAsIDApID0+IHRyYWlsaW5nIHplcm8gYml0cyA9IDUNCiAgICBsZXQgdmFsID0gaTEyOC5mcm9tSTY0KDEgPDwgNSk7DQogICAgZXhwZWN0KGkxMjguY3R6KHZhbCkpLnRvQmUoNSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJvcmQgY292ZXJhZ2UiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgcmV0dXJuIDAgZm9yIGVxIiwgKCkgPT4gew0KICAgIGxldCBhID0gaTEyOC5mcm9tSTY0KDEyMyk7DQogICAgbGV0IGIgPSBpMTI4LmZyb21JNjQoMTIzKTsNCiAgICBleHBlY3QoaTEyOC5vcmQoYSwgYikpLnRvQmUoMCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcmV0dXJuIC0xIGZvciBhPGIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoLTEwMCk7DQogICAgbGV0IGIgPSBpMTI4LmZyb21JNjQoNTApOw0KICAgIGV4cGVjdChpMTI4Lm9yZChhLCBiKSkudG9CZSgtMSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcmV0dXJuICsxIGZvciBhPmIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBpMTI4LmZyb21JNjQoMTAwMCk7DQogICAgbGV0IGIgPSBpMTI4LmZyb21JNjQoOTk5KTsNCiAgICBleHBlY3QoaTEyOC5vcmQoYSwgYikpLnRvQmUoMSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJ0b0J5dGVzLCB0b1N0YXRpY0J5dGVzLCB0b1VpbnQ4QXJyYXkgY292ZXJhZ2UiLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgcHJvZHVjZSBjb3JyZWN0IExFIGJ5dGVzIiwgKCkgPT4gew0KICAgIGxldCB2YWwgPSBuZXcgaTEyOCgweDg4Nzc2NjU1NDQzMzIyMTEsIDB4MTEyMjMzNDQ1NTY2Nzc4OCk7DQogICAgbGV0IGJ5dGVzID0gdmFsLnRvQnl0ZXMoZmFsc2UpOyAvLyBMRQ0KICAgIC8vIGxvID0gMTEgMjIgMzMgNDQgNTUgNjYgNzcgODgNCiAgICAvLyBoaSA9IDg4IDc3IDY2IDU1IDQ0IDMzIDIyIDExDQogICAgZXhwZWN0KGJ5dGVzLmxlbmd0aCkudG9CZSgxNik7DQogICAgZXhwZWN0KGJ5dGVzWzBdKS50b0JlKDB4MTEpOw0KICAgIGV4cGVjdChieXRlc1sxXSkudG9CZSgweDIyKTsNCiAgICBleHBlY3QoYnl0ZXNbOF0pLnRvQmUoMHg4OCk7DQogICAgZXhwZWN0KGJ5dGVzWzldKS50b0JlKDB4NzcpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHByb2R1Y2UgY29ycmVjdCBCRSBieXRlcyIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gbmV3IGkxMjgoMHg4ODc3NjY1NTQ0MzMyMjExLCAweDExMjIzMzQ0NTU2Njc3ODgpOw0KICAgIGxldCBieXRlcyA9IHZhbC50b0J5dGVzKHRydWUpOyAvLyBCRQ0KICAgIC8vIGhpID0+IDB4MTEyMjMzNDQ1NTY2Nzc4OCA9PiByZXZlcnNlZCBhcyBiaWctZW5kaWFuDQogICAgLy8gbG8gPT4gMHg4ODc3NjY1NTQ0MzMyMjExID0+IHJldmVyc2VkDQogICAgZXhwZWN0KGJ5dGVzWzBdKS50b0JlKDB4MTEpOw0KICAgIGV4cGVjdChieXRlc1sxXSkudG9CZSgweDIyKTsNCiAgICBleHBlY3QoYnl0ZXNbN10pLnRvQmUoMHg4OCk7DQogICAgZXhwZWN0KGJ5dGVzWzhdKS50b0JlKDB4ODgpOw0KICAgIGV4cGVjdChieXRlc1sxNV0pLnRvQmUoMHgxMSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcHJvZHVjZSBjb3JyZWN0IHRvU3RhdGljQnl0ZXMiLCAoKSA9PiB7DQogICAgbGV0IHZhbCA9IGkxMjguZnJvbUk2NCgweEFBQkJDQ0REKTsNCiAgICBsZXQgc3RhdCA9IHZhbC50b1N0YXRpY0J5dGVzKCk7IC8vIExFIGJ5IGRlZmF1bHQNCiAgICBleHBlY3Qoc3RhdC5sZW5ndGgpLnRvQmUoMTYpOw0KICAgIGV4cGVjdChzdGF0WzBdKS50b0JlKDB4REQpOw0KICAgIGV4cGVjdChzdGF0WzFdKS50b0JlKDB4Q0MpOw0KICAgIGV4cGVjdChzdGF0WzJdKS50b0JlKDB4QkIpOw0KICAgIGV4cGVjdChzdGF0WzNdKS50b0JlKDB4QUEpOw0KICAgIC8vIHRoZSByZXN0IHNob3VsZCBiZSB6ZXJvDQogIH0pOw0KDQogIGl0KCJTaG91bGQgcHJvZHVjZSBjb3JyZWN0IHRvVWludDhBcnJheSBCRSIsICgpID0+IHsNCiAgICBsZXQgdmFsID0gbmV3IGkxMjgoMHgwMDAwMDAwMDAwMDAwMDAxLCAweDAwMDAwMDAwMDAwMDAwMDIpOw0KICAgIGxldCBhcnIgPSB2YWwudG9VaW50OEFycmF5KHRydWUpOw0KICAgIGV4cGVjdChhcnIubGVuZ3RoKS50b0JlKDE2KTsNCiAgICAvLyBoaT0yID0+IGJpZy1lbmRpYW4gPT4gdG9wIDggYnl0ZXMgd2lsbCByZXByZXNlbnQgaGk9Mg0KICAgIGV4cGVjdChhcnJbMF0pLnRvQmUoMHgwMCk7DQogICAgZXhwZWN0KGFycls3XSkudG9CZSgweDAyKTsNCiAgICAvLyBsbz0xID0+IGxhc3QgOCBieXRlcw0KICAgIGV4cGVjdChhcnJbOF0pLnRvQmUoMHgwMCk7DQogICAgZXhwZWN0KGFyclsxNV0pLnRvQmUoMHgwMSk7DQogIH0pOw0KfSk7DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/u128.spec.ts": "aW1wb3J0IHsgdTEyOCB9IGZyb20gJy4uL2ludGVnZXInOw0KaW1wb3J0IHsgYXJyYXlUb1VpbnQ4QXJyYXkgfSBmcm9tICIuL3V0aWxzIjsNCg0KZGVzY3JpYmUoJ0F1ZGl0IGZpeGVzJywgKCkgPT4gew0KICBpdCgidGVzdCByZW0xMCAxIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMiwgMCk7DQogICAgZXhwZWN0KHUxMjgucmVtMTAoYSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMiwgMCkpOw0KICB9KTsNCg0KICBpdCgidGVzdCByZW0xMCAyIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMTYyMjI0OTU1NTc1NzEyNTkwMDYsIDE4MDkyMzgyNTI2NjI0OTQ0NjAxKTsNCiAgICBleHBlY3QodTEyOC5yZW0xMChhKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgyLCAwKSk7DQogIH0pOw0KDQogIGl0KCJ0ZXN0IG9yZCIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDExODYyNzMyOTMyMzM5NjcwNzMyLCAwKTsNCiAgICBsZXQgYiA9IG5ldyB1MTI4KDExNzkxODcwMzAxMzI0Njg0NDM5LCAxMDAzOTYwNTMyODkzMzA0NjY5OCk7DQogICAgZXhwZWN0KHUxMjgub3JkKGEsIGIpKS50b0JlKC0xKTsNCiAgfSk7DQoNCiAgaXQoInRlc3QgbXVsZGl2IiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMTUxNjg1OTQxMDM5NzIxNDIyMTEsIDEzMTEyOTkzOTg0MzQ3MDQ1MDAxKTsNCiAgICBsZXQgYiA9IG5ldyB1MTI4KDMzMzY1MTczMjcsIDApOw0KICAgIGxldCBjID0gbmV3IHUxMjgoMjkzMjE3NTUyNTU4MzY4NzkzNSwgMTA2OTIxODI0NTUwMzA1MTk0NDEpOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCBiLCBjKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCg0MDkxOTM2NDk4LCAwKSk7DQogIH0pOw0KDQogIGl0KCJ0ZXN0IHNxciIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDE3NDQ4NDYxMzA1Mzc5MjI1ODI3LCAxNDc2ODAyNjM2MTI3NjM0MDQ4Nik7DQogICAgZXhwZWN0KCh1MTI4LnNxcihhKSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMTIxMTM3OTQ4NTIwNDE5Njc5NDUsDQogICAgICAxODM0MjU0NDkzNDM1MzI4OTUzMCkpOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiU3RyaW5nIENvbnZlcnNpb24iLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY29udmVydCB0byBkZWNpbWFsIHN0cmluZyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAyNDg1MTY2NTQ5NjU5NzE5MjgsIDUpOw0KICAgIGV4cGVjdCgnMTAyNDgyMjM3MDIzNTEzNzMwMDA4JykudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKCkpOw0KICAgIGV4cGVjdCgnNThlM2EwYjk5NDVlYmRiZDgnKS50b1N0cmljdEVxdWFsKGEudG9TdHJpbmcoMTYpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRlY2ltYWwgc3RyaW5nIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk1heDsNCiAgICBleHBlY3QoJzM0MDI4MjM2NjkyMDkzODQ2MzQ2MzM3NDYwNzQzMTc2ODIxMTQ1NScpLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygpKTsNCiAgICBleHBlY3QoJ2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmJykudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKDE2KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byBkZWNpbWFsIHN0cmluZyAzIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIGV4cGVjdCgnMCcpLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygpKTsNCiAgICBleHBlY3QoJzAnKS50b1N0cmljdEVxdWFsKGEudG9TdHJpbmcoMTYpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRlY2ltYWwgc3RyaW5nIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4LmZyb20oOTApOw0KICAgIGV4cGVjdCgnOTAnKS50b1N0cmljdEVxdWFsKGEudG9TdHJpbmcoKSk7DQogICAgZXhwZWN0KCc1YScpLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygxNikpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZGVjaW1hbCBzdHJpbmcgNSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KHU2NC5NQVhfVkFMVUUpOw0KICAgIGV4cGVjdCgnMTg0NDY3NDQwNzM3MDk1NTE2MTUnKS50b1N0cmljdEVxdWFsKGEudG9TdHJpbmcoKSk7DQogICAgZXhwZWN0KCdmZmZmZmZmZmZmZmZmZmZmJykudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKDE2KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byBkZWNpbWFsIHN0cmluZyA2IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgodTY0Lk1BWF9WQUxVRSAtIDEsIHU2NC5NQVhfVkFMVUUgLSAxKTsNCiAgICBleHBlY3QoJzM0MDI4MjM2NjkyMDkzODQ2MzQ0NDkyNzg2MzM1ODA1ODY1OTgzOCcpLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygpKTsNCiAgICBleHBlY3QoJ2ZmZmZmZmZmZmZmZmZmZmVmZmZmZmZmZmZmZmZmZmZlJykudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKDE2KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgc3RyaW5nIDEiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnJykpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gZGVjaW1hbCBzdHJpbmcgMiIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKCcwJykpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gZGVjaW1hbCBzdHJpbmcgMyIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKCcxMjM0NTY3ODknKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgxMjM0NTY3ODkpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gZGVjaW1hbCBzdHJpbmcgNCIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKCczNDAyODIzNjY5MjA5Mzg0NjM0NjMzNzQ2MDc0MzE3NjgyMTE0NTUnKSkudG9TdHJpY3RFcXVhbCh1MTI4Lk1heCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgc3RyaW5nIDUiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnLTEyMzQ1Njc4OScpKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSgtMTIzNDU2Nzg5KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgc3RyaW5nIDYiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnKzEyMzQ1Njc4OScpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDEyMzQ1Njc4OSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBkZWNpbWFsIHN0cmluZyA3IiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb21TdHJpbmcoJzEyMzQ1Njc4OScsIDEwKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgxMjM0NTY3ODkpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gZGVjaW1hbCBzdHJpbmcgd2l0aCBsZWFkaW5nIHplcm9zIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJzAxJykpLnRvU3RyaWN0RXF1YWwodTEyOC5PbmUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBkZWNpbWFsIHN0cmluZyB3aXRoIGxlYWRpbmcgemVyb3MgYW5kIHBsdXMiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnKzAwMDEnKSkudG9TdHJpY3RFcXVhbCh1MTI4Lk9uZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgd2l0aCBpbnZhbGlkIGNoYXJzIHN0cmluZyAxIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJzAwMDAwMTIzYWJjJykpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMTIzKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgd2l0aCBpbnZhbGlkIGNoYXJzIHN0cmluZyAyIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJ3gwMDAwMDEyM2FiYycpKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgd2l0aCBpbnZhbGlkIGNoYXJzIHN0cmluZyAzIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJy14JykpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gZGVjaW1hbCB3aXRoIGludmFsaWQgY2hhcnMgc3RyaW5nIDQiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnLS0wMTIzNCcpKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgd2l0aCBpbnZhbGlkIGNoYXJzIHN0cmluZyA1IiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJzEyM1x1MzAxMicpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDEyMykpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBkZWNpbWFsIHdpdGggaW52YWxpZCBjaGFycyBzdHJpbmcgNiIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKFN0cmluZy5mcm9tQ29kZVBvaW50KDB4MTAwMDApKSkudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBkZWNpbWFsIHdpdGggaW52YWxpZCBjaGFycyBzdHJpbmcgNyIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKCd7MDEyMycpKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGRlY2ltYWwgd2l0aCBpbnZhbGlkIGNoYXJzIHN0cmluZyA4IiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJy8wMTIzJykpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gaGV4IHN0cmluZyIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tU3RyaW5nKCcxMjM0NTZhYmNkZWYnLCAxNikpDQogICAgICAudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgweDEyMzQ1NkFCQ0RFRikpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBtaXhlZCBjYXNlIGhleCBzdHJpbmciLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguZnJvbSgnMHhhYmNkZWZBQkNERUYnKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDB4QUJDREVGQUJDREVGKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIG9jdGFsIHN0cmluZyIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5mcm9tKCcwbzAxMjM0NTY3JykpDQogICAgICAudG9TdHJpY3RFcXVhbCh1MTI4LmZyb20oMG8wMTIzNDU2NykpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBiaW5hcnkgc3RyaW5nIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmZyb20oJzBiMTAxMDEwMTAxMDEwMTAxMDEwMTAnKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKHUxMjguZnJvbSgwYjEwMTAxMDEwMTAxMDEwMTAxMDEwKSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJCdWZmZXIgQ29udmVyc2lvbiIsICgpID0+IHsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBMaXR0bGUgRW5kaWFuIDEiLCAoKSA9PiB7DQogICAgdmFyIGFycjogdThbXSA9IFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsDQogICAgICAweDk5LCAweEFBLCAweEJCLCAweENDLCAweERELCAweEVFLCAweEZGLCAweDEyDQogICAgXTsNCiAgICBleHBlY3QodTEyOC5mcm9tQnl0ZXMoYXJyKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDB4ODg3NzY2NTU0NDMzMjIxMSwgMHgxMkZGRUVERENDQkJBQTk5KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGJ5dGVzIExpdHRsZSBFbmRpYW4gMiIsICgpID0+IHsNCiAgICB2YXIgYXJyID0gYXJyYXlUb1VpbnQ4QXJyYXkoWw0KICAgICAgMHgxMSwgMHgyMiwgMHgzMywgMHg0NCwgMHg1NSwgMHg2NiwgMHg3NywgMHg4OCwNCiAgICAgIDB4OTksIDB4QUEsIDB4QkIsIDB4Q0MsIDB4REQsIDB4RUUsIDB4RkYsIDB4MTINCiAgICBdKTsNCiAgICBleHBlY3QodTEyOC5mcm9tQnl0ZXMoYXJyKSkNCiAgICAgIC50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDB4ODg3NzY2NTU0NDMzMjIxMSwgMHgxMkZGRUVERENDQkJBQTk5KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGJ5dGVzIEJpZyBFbmRpYW4gMSIsICgpID0+IHsNCiAgICB2YXIgYXJyOiB1OFtdID0gWw0KICAgICAgMHgxMSwgMHgyMiwgMHgzMywgMHg0NCwgMHg1NSwgMHg2NiwgMHg3NywgMHg4OCwNCiAgICAgIDB4OTksIDB4QUEsIDB4QkIsIDB4Q0MsIDB4REQsIDB4RUUsIDB4RkYsIDB4MTINCiAgICBdOw0KICAgIGV4cGVjdCh1MTI4LmZyb21CeXRlcyhhcnIsIHRydWUpKQ0KICAgICAgLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHg5OUFBQkJDQ0RERUVGRjEyLCAweDExMjIzMzQ0NTU2Njc3ODgpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gYnl0ZXMgQmlnIEVuZGlhbiAyIiwgKCkgPT4gew0KICAgIHZhciBhcnIgPSBhcnJheVRvVWludDhBcnJheShbDQogICAgICAweDExLCAweDIyLCAweDMzLCAweDQ0LCAweDU1LCAweDY2LCAweDc3LCAweDg4LA0KICAgICAgMHg5OSwgMHhBQSwgMHhCQiwgMHhDQywgMHhERCwgMHhFRSwgMHhGRiwgMHgxMg0KICAgIF0pOw0KICAgIGV4cGVjdCh1MTI4LmZyb21CeXRlcyhhcnIsIHRydWUpKQ0KICAgICAgLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHg5OUFBQkJDQ0RERUVGRjEyLCAweDExMjIzMzQ0NTU2Njc3ODgpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGJ5dGVzIExpdHRlIEVuZGlhbiAxIiwgKCkgPT4gew0KICAgIC8vIHZhciBhOiB1OFtdID0gKG5ldyB1MTI4KDB4ODg3NzY2NTU0NDMzMjIxMSwgMHgxMmZmZWVkZGNjYmJhYTk5KSkudG9CeXRlcygpOw0KICAgIHZhciB1ID0gbmV3IHUxMjgoMHg4ODc3NjY1NTQ0MzMyMjExLCAweDEyRkZFRUREQ0NCQkFBOTkpOw0KICAgIGxldCBhID0gdS50b0J5dGVzKCk7DQogICAgZXhwZWN0KA0KICAgICAgYVswXSA9PSAweDExICYmIGFbMV0gPT0gMHgyMiAmJiBhWzJdID09IDB4MzMgJiYgYVszXSA9PSAweDQ0ICYmDQogICAgICBhWzRdID09IDB4NTUgJiYgYVs1XSA9PSAweDY2ICYmIGFbNl0gPT0gMHg3NyAmJiBhWzddID09IDB4ODggJiYNCiAgICAgIGFbOF0gPT0gMHg5OSAmJiBhWzldID09IDB4QUEgJiYgYVsxMF0gPT0gMHhCQiAmJiBhWzExXSA9PSAweENDICYmDQogICAgICBhWzEyXSA9PSAweEREICYmIGFbMTNdID09IDB4RUUgJiYgYVsxNF0gPT0gMHhGRiAmJiBhWzE1XSA9PSAweDEyDQogICAgKS50b0JlKHRydWUpOw0KDQogICAgew0KICAgICAgbGV0IGEgPSB1LnRvU3RhdGljQnl0ZXMoKTsNCiAgICAgIGV4cGVjdCgNCiAgICAgICAgYVswXSA9PSAweDExICYmIGFbMV0gPT0gMHgyMiAmJiBhWzJdID09IDB4MzMgJiYgYVszXSA9PSAweDQ0ICYmDQogICAgICAgIGFbNF0gPT0gMHg1NSAmJiBhWzVdID09IDB4NjYgJiYgYVs2XSA9PSAweDc3ICYmIGFbN10gPT0gMHg4OCAmJg0KICAgICAgICBhWzhdID09IDB4OTkgJiYgYVs5XSA9PSAweEFBICYmIGFbMTBdID09IDB4QkIgJiYgYVsxMV0gPT0gMHhDQyAmJg0KICAgICAgICBhWzEyXSA9PSAweEREICYmIGFbMTNdID09IDB4RUUgJiYgYVsxNF0gPT0gMHhGRiAmJiBhWzE1XSA9PSAweDEyDQogICAgICApLnRvQmUodHJ1ZSk7DQogICAgfQ0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gYnl0ZXMgTGl0dGUgRW5kaWFuIDIiLCAoKSA9PiB7DQogICAgLy8gdmFyIGE6IHU4W10gPSAobmV3IHUxMjgoMHg4ODc3NjY1NTQ0MzMyMjExLCAweDEyZmZlZWRkY2NiYmFhOTkpKS50b0J5dGVzKCk7DQogICAgdmFyIHUgPSBuZXcgdTEyOCgweDg4Nzc2NjU1NDQzMzIyMTEsIDB4MTJGRkVFRERDQ0JCQUE5OSk7DQogICAgdmFyIGEgPSB1LnRvVWludDhBcnJheSgpOw0KICAgIGV4cGVjdCgNCiAgICAgIGFbMF0gPT0gMHgxMSAmJiBhWzFdID09IDB4MjIgJiYgYVsyXSA9PSAweDMzICYmIGFbM10gPT0gMHg0NCAmJg0KICAgICAgYVs0XSA9PSAweDU1ICYmIGFbNV0gPT0gMHg2NiAmJiBhWzZdID09IDB4NzcgJiYgYVs3XSA9PSAweDg4ICYmDQogICAgICBhWzhdID09IDB4OTkgJiYgYVs5XSA9PSAweEFBICYmIGFbMTBdID09IDB4QkIgJiYgYVsxMV0gPT0gMHhDQyAmJg0KICAgICAgYVsxMl0gPT0gMHhERCAmJiBhWzEzXSA9PSAweEVFICYmIGFbMTRdID09IDB4RkYgJiYgYVsxNV0gPT0gMHgxMg0KICAgICkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGJ5dGVzIEJpZyBFbmRpYW4gMSIsICgpID0+IHsNCiAgICB2YXIgdSA9IG5ldyB1MTI4KDB4OTlBQUJCQ0NEREVFRkYxMiwgMHgxMTIyMzM0NDU1NjY3Nzg4KTsNCiAgICB2YXIgYSA9IHUudG9CeXRlcyh0cnVlKTsNCiAgICBleHBlY3QoDQogICAgICBhWzBdID09IDB4MTEgJiYgYVsxXSA9PSAweDIyICYmIGFbMl0gPT0gMHgzMyAmJiBhWzNdID09IDB4NDQgJiYNCiAgICAgIGFbNF0gPT0gMHg1NSAmJiBhWzVdID09IDB4NjYgJiYgYVs2XSA9PSAweDc3ICYmIGFbN10gPT0gMHg4OCAmJg0KICAgICAgYVs4XSA9PSAweDk5ICYmIGFbOV0gPT0gMHhBQSAmJiBhWzEwXSA9PSAweEJCICYmIGFbMTFdID09IDB4Q0MgJiYNCiAgICAgIGFbMTJdID09IDB4REQgJiYgYVsxM10gPT0gMHhFRSAmJiBhWzE0XSA9PSAweEZGICYmIGFbMTVdID09IDB4MTINCiAgICApLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byBieXRlcyBCaWcgRW5kaWFuIDIiLCAoKSA9PiB7DQogICAgdmFyIHUgPSBuZXcgdTEyOCgweDk5QUFCQkNDRERFRUZGMTIsIDB4MTEyMjMzNDQ1NTY2Nzc4OCk7DQogICAgdmFyIGEgPSB1LnRvVWludDhBcnJheSh0cnVlKTsNCiAgICBleHBlY3QoDQogICAgICBhWzBdID09IDB4MTEgJiYgYVsxXSA9PSAweDIyICYmIGFbMl0gPT0gMHgzMyAmJiBhWzNdID09IDB4NDQgJiYNCiAgICAgIGFbNF0gPT0gMHg1NSAmJiBhWzVdID09IDB4NjYgJiYgYVs2XSA9PSAweDc3ICYmIGFbN10gPT0gMHg4OCAmJg0KICAgICAgYVs4XSA9PSAweDk5ICYmIGFbOV0gPT0gMHhBQSAmJiBhWzEwXSA9PSAweEJCICYmIGFbMTFdID09IDB4Q0MgJiYNCiAgICAgIGFbMTJdID09IDB4REQgJiYgYVsxM10gPT0gMHhFRSAmJiBhWzE0XSA9PSAweEZGICYmIGFbMTVdID09IDB4MTINCiAgICApLnRvQmUodHJ1ZSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJCYXNpYyBUeXBlIENvbnZlcnNpb24iLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGludGVnZXIgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguZnJvbSgtMSk7DQogICAgZXhwZWN0KGEubG8pLnRvQmUodTY0Lk1BWF9WQUxVRSk7DQogICAgZXhwZWN0KGEuaGkpLnRvQmUodTY0Lk1BWF9WQUxVRSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGludGVnZXIgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguZnJvbUkzMigtMSk7DQogICAgZXhwZWN0KGEubG8pLnRvQmUodTY0Lk1BWF9WQUxVRSk7DQogICAgZXhwZWN0KGEuaGkpLnRvQmUodTY0Lk1BWF9WQUxVRSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byB1aW5zaWduZWQgbG9uZyBpbnQgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguTWF4Ow0KICAgIGV4cGVjdChhLmFzPHU2ND4oKSkudG9CZSh1NjQuTUFYX1ZBTFVFKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIHNpZ25lZCBsb25nIGludCAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5mcm9tKC0xMjM0NTY3ODkpOw0KICAgIGV4cGVjdChhLmFzPGk2ND4oKSkudG9CZSgtMTIzNDU2Nzg5KTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIHNpZ25lZCBsb25nIGludCAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5NYXg7DQogICAgZXhwZWN0KGEuYXM8aTY0PigpKS50b0JlKDxpNjQ+LTEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gdW5zaWduZWQgYnl0ZSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguTWF4Ow0KICAgIGV4cGVjdChhLmFzPHU4PigpKS50b0JlKDB4RkYpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIDEiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Llplcm87DQogICAgZXhwZWN0KGEuYXM8ZjY0PigpKS50b0JlKDAuMCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byBkb3VibGUgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguT25lOw0KICAgIGV4cGVjdChhLmFzPGY2ND4oKSkudG9CZSgxLjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIDMiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgzMzMzMyk7DQogICAgZXhwZWN0KGEuYXM8ZjY0PigpKS50b0JlKDMzMzMzLjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIG1heCBzYWZlIGxvbmcgaW50ZWdlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDkwMDcxOTkyNTQ3NDA5OTEpOw0KICAgIGV4cGVjdChhLmFzPGY2ND4oKSkudG9CZSg5MDA3MTk5MjU0NzQwOTkxLjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgbWF4aW11bSB0byBkb3VibGUiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk1heDsNCiAgICBleHBlY3QoYS5hczxmNjQ+KCkpLnRvQmUoMzQwMjgyMzY2OTIwOTM4NDYzNDYzMzc0NjA3NDMxNzY4MjExNDU1LjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxIDw8IDU0KTsNCiAgICBleHBlY3QoYS5hczxmNjQ+KCkpLnRvQmUoMTgwMTQzOTg1MDk0ODE5ODQuMCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29udmVydCB0byBkb3VibGUgNSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEgPDwgNTUpOw0KICAgIGV4cGVjdChhLmFzPGY2ND4oKSkudG9CZSgzNjAyODc5NzAxODk2Mzk3MC4wKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRvdWJsZSA2IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMSA8PCA1Nik7DQogICAgZXhwZWN0KGEuYXM8ZjY0PigpKS50b0JlKDcyMDU3NTk0MDM3OTI3OTQwLjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIDciLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxIDw8IDU3KTsNCiAgICBleHBlY3QoYS5hczxmNjQ+KCkpLnRvQmUoMTQ0MTE1MTg4MDc1ODU1ODcwLjApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZG91YmxlIDgiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxIDw8IDYzKTsNCiAgICBleHBlY3QoYS5hczxmNjQ+KCkpLnRvQmUoOTIyMzM3MjAzNjg1NDc3NjAwMC4wKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRvdWJsZSA5IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgodTY0Lk1BWF9WQUxVRSk7DQogICAgZXhwZWN0KGEuYXM8ZjY0PigpKS50b0JlKDE4NDQ2NzQ0MDczNzA5NTUyMDAwLjApOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiQmFzaWMgT3BlcmF0aW9ucyIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBudW1iZXIgaXMgemVybyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIGV4cGVjdChhLmlzWmVybygpKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBpcyB6ZXJvIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk9uZTsNCiAgICBleHBlY3QoIWEuaXNaZXJvKCkpLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIGJpbmFyeSBub3QiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxLCAyKTsNCiAgICBleHBlY3QofmEpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgofjEsIH4yKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIHVuYXJ5IHBvc2l0aXZlIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMSwgMik7DQogICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwoK2EpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBub24gZW1wdHkiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk9uZTsNCiAgICBleHBlY3QoISFhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBpcyBlbXB0eSAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIGV4cGVjdCghYSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBiaW5hcnkgb3IgbnVtYmVycyIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDEyMyk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgxMTEsIDIyMik7DQogICAgdmFyIHIgPSBuZXcgdTEyOCgwIHwgMTExLCAxMjMgfCAyMjIpOw0KICAgIGV4cGVjdChhIHwgYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiB8IGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgYmluYXJ5IHhvciBudW1iZXJzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTExLCAxMjMpOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMTExLCAwKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDExMSBeIDExMSwgMTIzIF4gMCk7DQogICAgZXhwZWN0KGEgXiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiIF4gYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBiaW5hcnkgYW5kIG51bWJlcnMiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgweEZGMDAsIDEyMyk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgweDAwRkYsIDIzNCk7DQogICAgdmFyIHIgPSBuZXcgdTEyOCgweEZGMDAgJiAweDAwRkYsIDEyMyAmIDIzNCk7DQogICAgZXhwZWN0KGEgJiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICYgYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBlcXVhbCB0d28gbnVtYmVycyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAyNTUpOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMTAwLCAyNTUpOw0KICAgIGV4cGVjdChhID09IGIpLnRvQmUodHJ1ZSk7DQogICAgZXhwZWN0KGIgPT0gYSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBlcXVhbCB0d28gbnVtYmVycyAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMSwgdTY0Lk1BWF9WQUxVRSk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgxLCB1NjQuTUFYX1ZBTFVFKTsNCiAgICBleHBlY3QoYSA9PSBiKS50b0JlKHRydWUpOw0KICAgIGV4cGVjdChiID09IGEpLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbm9uIGVxdWFsIHR3byBudW1iZXJzIDEiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxLCAxKTsNCiAgICB2YXIgYiA9IG5ldyB1MTI4KDEsIDApOw0KICAgIGV4cGVjdChhICE9IGIpLnRvQmUodHJ1ZSk7DQogICAgZXhwZWN0KGIgIT0gYSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBub24gZXF1YWwgdHdvIG51bWJlcnMgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDIpOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMiwgMCk7DQogICAgZXhwZWN0KGEgIT0gYikudG9CZSh0cnVlKTsNCiAgICBleHBlY3QoYiAhPSBhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbXBhcmUgbGVzcyB0d28gbnVtYmVycyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIHZhciBiID0gbmV3IHUxMjgoNTAsIDEwMCk7DQogICAgZXhwZWN0KGIgPCBhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbXBhcmUgbGVzcyB0d28gbnVtYmVycyAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIGV4cGVjdCghKGIgPCBhKSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb21wYXJlIGxlc3MgdHdvIG51bWJlcnMgMyIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguT25lOw0KICAgIHZhciBiID0gdTEyOC5NYXg7DQogICAgZXhwZWN0KGEgPCBiKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbXBhcmUgbGVzcyBvciBlcXVhbCB0d28gbnVtYmVycyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIHZhciBiID0gbmV3IHUxMjgoNTAsIDEwMCk7DQogICAgZXhwZWN0KGIgPD0gYSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb21wYXJlIGxlc3Mgb3IgZXF1YWwgdHdvIG51bWJlcnMgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEwMCwgMTAwKTsNCiAgICB2YXIgYiA9IG5ldyB1MTI4KDEwMCwgMTAwKTsNCiAgICBleHBlY3QoYiA8PSBhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbXBhcmUgZ3JlYXRlciB0d28gbnVtYmVycyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIHZhciBiID0gbmV3IHUxMjgoNTAsIDEwMCk7DQogICAgZXhwZWN0KGEgPiBiKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbXBhcmUgZ3JlYXRlciB0d28gbnVtYmVycyAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMTAwLCAxMDApOw0KICAgIGV4cGVjdCghKGEgPiBiKSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb21wYXJlIGdyZWF0ZXIgb3IgZXF1YWwgdHdvIG51bWJlcnMgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEwMCwgMTAwKTsNCiAgICB2YXIgYiA9IG5ldyB1MTI4KDUwLCAxMDApOw0KICAgIGV4cGVjdChhID49IGIpLnRvU3RyaWN0RXF1YWwodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY29tcGFyZSBncmVhdGVyIG9yIGVxdWFsIHR3byBudW1iZXJzIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMDAsIDEwMCk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgxMDAsIDEwMCk7DQogICAgZXhwZWN0KGEgPj0gYikudG9TdHJpY3RFcXVhbCh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBhZGQgdHdvIG51bWJlcnMgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEwMCwgMjU1KTsNCiAgICB2YXIgYiA9IG5ldyB1MTI4KDI1NSwgMTAwKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDM1NSwgMzU1KTsNCiAgICBleHBlY3QoYSArIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKyBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCB0d28gbnVtYmVycyAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5mcm9tKC0yKTsNCiAgICB2YXIgYiA9IHUxMjguT25lOw0KICAgIHZhciByID0gdTEyOC5NYXg7DQogICAgZXhwZWN0KGEgKyBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICsgYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBhZGQgdHdvIG51bWJlcnMgMyIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KHU2NC5NQVhfVkFMVUUpOw0KICAgIHZhciBiID0gdTEyOC5PbmU7DQogICAgdmFyIHIgPSBuZXcgdTEyOCgwLCAxKTsNCiAgICBleHBlY3QoYSArIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKyBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCB0d28gbnVtYmVycyB3aXRoIG93ZXJmbG93IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgodTY0Lk1BWF9WQUxVRSwgdTY0Lk1BWF9WQUxVRSk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgxLCAxKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDAsIDEpOw0KICAgIGV4cGVjdChhICsgYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiArIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3VidHJhY3QgdHdvIG51bWJlcnMiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgzNTUsIDM1NSk7DQogICAgdmFyIGIgPSBuZXcgdTEyOCgxMDAsIDI1NSk7DQogICAgdmFyIHIgPSBuZXcgdTEyOCgyNTUsIDEwMCk7DQogICAgZXhwZWN0KGEgLSBiKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHN1YiBbMCwgMF0gYW5kIFsxLCAxXSIsICgpID0+IHsNCiAgICBjb25zdCBtYXggPSB1NjQuTUFYX1ZBTFVFOw0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIHZhciBiID0gbmV3IHUxMjgoMSwgMSk7DQogICAgdmFyIHIgPSBuZXcgdTEyOChtYXgsIG1heCAtIDEpOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWIgWzAsIDBdIGFuZCBbbWF4LCBtYXhdIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIHZhciBiID0gdTEyOC5NYXg7DQogICAgdmFyIHIgPSB1MTI4Lk9uZTsNCiAgICBleHBlY3QoYSAtIGIpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3ViIFttYXgsIG1heF0gYW5kIFsxLCAwXSIsICgpID0+IHsNCiAgICBjb25zdCBtYXggPSB1NjQuTUFYX1ZBTFVFOw0KICAgIHZhciBhID0gdTEyOC5NYXg7DQogICAgdmFyIGIgPSB1MTI4Lk9uZTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KG1heCAtIDEsIG1heCk7DQogICAgZXhwZWN0KGEgLSBiKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHN1YiBbMSwgMl0gYW5kIFttYXggLSAxLCBtYXggLSAyXSIsICgpID0+IHsNCiAgICBjb25zdCBtYXggPSB1NjQuTUFYX1ZBTFVFOw0KICAgIHZhciBhID0gbmV3IHUxMjgoMSwgMik7DQogICAgdmFyIGIgPSBuZXcgdTEyOChtYXggLSAxLCBtYXggLSAyKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDMsIDQpOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWJ0cmFjdCBmcm9tIHplcm8gZXF1YWwgbmVnYXRpdmUgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAwLCAyNTUpOw0KICAgIGV4cGVjdDx1MTI4Pih1MTI4Llplcm8gLSBhKS50b1N0cmljdEVxdWFsKC1hKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBsZWZ0IHNoaWZ0IG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxLCAwKTsNCiAgICBleHBlY3QoYSA8PCA2NSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgwLCAyKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcmV0dXJuIHplcm8gaWYgc2hpZnQgYmlnZ2VyIHRoYW4gMTI4IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMSwgMCk7DQogICAgZXhwZWN0KGEgPDwgKDY1ICsgMTI4KSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgwLCAwKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgaW52YXJpYW50IGxlZnQgc2hpZnQgemVybyBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxLCAxKTsNCiAgICBleHBlY3QoYSA8PCAwKS50b1N0cmljdEVxdWFsKGEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHJpZ2h0IHNoaWZ0IG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgwLCAxMDApOw0KICAgIGV4cGVjdChhID4+IDY1KS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDUwKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcGVyaW9kaWMgcmlnaHQgc2hpZnQgb25lIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDEwMCk7DQogICAgZXhwZWN0KGEgPj4gKDY1ICsgMTI4KSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCg1MCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGludmFyaWFudCByaWdodCBzaGlmdCB6ZXJvIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEsIDEpOw0KICAgIGV4cGVjdChhID4+IDApLnRvU3RyaWN0RXF1YWwoYSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgaW52YXJpYW50IHJvdGF0ZSBsZWZ0IHdpdGggemVybyBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxLCAxKTsNCiAgICBleHBlY3QodTEyOC5yb3RsKGEsIDApKS50b1N0cmljdEVxdWFsKGEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGludmFyaWFudCByb3RhdGUgcmlnaHQgd2l0aCB6ZXJvIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEsIDEpOw0KICAgIGV4cGVjdCh1MTI4LnJvdHIoYSwgMCkpLnRvU3RyaWN0RXF1YWwoYSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3dhcCBsby9oaSB3aXRoIGxlZnQgcm90YXRpb24gd2l0aCA2NCBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMjM0NTY3ODksIDk4NzY1NDMyMSk7DQogICAgdmFyIHIgPSBuZXcgdTEyOCg5ODc2NTQzMjEsIDEyMzQ1Njc4OSk7DQogICAgZXhwZWN0KHUxMjgucm90bChhLCA2NCkpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3dhcCBsby9oaSB3aXRoIHJpZ2h0IHJvdGF0aW9uIHdpdGggNjQgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTIzNDU2Nzg5LCA5ODc2NTQzMjEpOw0KICAgIHZhciByID0gbmV3IHUxMjgoOTg3NjU0MzIxLCAxMjM0NTY3ODkpOw0KICAgIGV4cGVjdCh1MTI4LnJvdHIoYSwgNjQpKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGxlZnQgcm90YXRpb24gd2l0aCAxIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDEpOw0KICAgIHZhciByID0gbmV3IHUxMjgoMCwgMik7DQogICAgZXhwZWN0KHUxMjgucm90bChhLCAxKSkudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QodTEyOC5yb3RsKGEsIDEpKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSgiMzY4OTM0ODgxNDc0MTkxMDMyMzIiKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcmlnaHQgcm90YXRpb24gd2l0aCAxIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEsIDApOw0KICAgIHZhciByID0gbmV3IHUxMjgoMCwgOTIyMzM3MjAzNjg1NDc3NTgwOCk7DQogICAgZXhwZWN0KHUxMjgucm90cihhLCAxKSkudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QodTEyOC5yb3RyKGEsIDEpKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSgiMTcwMTQxMTgzNDYwNDY5MjMxNzMxNjg3MzAzNzE1ODg0MTA1NzI4IikpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGxlZnQgcm90YXRpb24gd2l0aCAzMiBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMjM0NTY3ODksIDk4NzY1NDMyMSk7DQogICAgdmFyIHIgPSBuZXcgdTEyOCg1MzAyNDI4NzEyMjQxNzI1NDQsIDQyNDE5NDMwMDg0NDgwODYwMTYpOw0KICAgIGV4cGVjdCh1MTI4LnJvdGwoYSwgMzIpKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHJpZ2h0IHJvdGF0aW9uIHdpdGggMzIgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTIzNDU2Nzg5LCA5ODc2NTQzMjEpOw0KICAgIHZhciByID0gbmV3IHUxMjgoNDI0MTk0MzAwODQ0ODA4NjAxNiwgNTMwMjQyODcxMjI0MTcyNTQ0KTsNCiAgICBleHBlY3QodTEyOC5yb3RyKGEsIDMyKSkudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QodTEyOC5yb3RyKGEsIDMyKSkudG9TdHJpY3RFcXVhbCh1MTI4LmZyb20oIjk3ODEyNTQ1NDIzODEyNDE4MjA3NTI4NjYyNDczMDYxMTcxMjAiKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbGVmdCByb3RhdGlvbiB3aXRoIDE2IG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEyMzQ1Njc4OSwgOTg3NjU0MzIxKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDgwOTA4NjQxMjM5MDQsIDY0NzI2OTEzNTgxMDU2KTsNCiAgICBleHBlY3QodTEyOC5yb3RsKGEsIDE2KSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCByaWdodCByb3RhdGlvbiB3aXRoIDE2IG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEyMzQ1Njc4OSwgOTg3NjU0MzIxKTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDc1NDM4MTA4NTA4MjIyOTMzMzksIDE0Nzc3NzE3NzUyMjg2MTY1NzI2KTsNCiAgICBleHBlY3QodTEyOC5yb3RyKGEsIDE2KSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBsZWZ0IHJvdGF0aW9uIHdpdGggOTcgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTIzNDU2Nzg5LCA5ODc2NTQzMjEpOw0KICAgIHZhciByID0gbmV3IHUxMjgoODQ4Mzg4NjAxNjg5NjE3MjAzMiwgMTA2MDQ4NTc0MjQ0ODM0NTA4OCk7DQogICAgZXhwZWN0KHUxMjgucm90bChhLCA5NykpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcmlnaHQgcm90YXRpb24gd2l0aCA5NyBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMjM0NTY3ODksIDk4NzY1NDMyMSk7DQogICAgdmFyIHIgPSBuZXcgdTEyOCgyNjUxMjE0MzU2MTIwODYyNzIsIDIxMjA5NzE1MDQyMjQwNDMwMDgpOw0KICAgIGV4cGVjdCh1MTI4LnJvdHIoYSwgOTcpKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bHRpcGx5IHR3byBudW1iZXJzIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5mcm9tKDQzNTQ1NDUzNDUyKTsNCiAgICB2YXIgYiA9IHUxMjguZnJvbSgyMzUzNDU0MzU0KTsNCiAgICB2YXIgciA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU0OTY1OTcxOTI4LCA1KTsNCiAgICBleHBlY3QoYSAqIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKiBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bHRpcGx5IHR3byBudW1iZXJzIDEiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk1heDsNCiAgICB2YXIgYiA9IHUxMjguT25lOw0KICAgIHZhciByID0gYTsNCiAgICBleHBlY3QoYSAqIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKiBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bHRpcGx5IHR3byBudW1iZXJzIHdpdGggb3ZlcmZsb3cgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDEpOw0KICAgIGV4cGVjdChhICogYSkudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bHRpcGx5IHR3byBudW1iZXJzIHdpdGggb3ZlcmZsb3cgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEsIDEpOw0KICAgIGV4cGVjdChhICogYSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgxLCAyKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbmVnYXRpdmUgbnVtYmVyIDEiLCAoKSA9PiB7DQogICAgZXhwZWN0KC1uZXcgdTEyOCgyKSkudG9TdHJpY3RFcXVhbCh1MTI4LmZyb20oLTIpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBuZWdhdGl2ZSBudW1iZXIgMiIsICgpID0+IHsNCiAgICBleHBlY3Q8dTEyOD4oLXUxMjguTWF4KS50b1N0cmljdEVxdWFsKHUxMjguT25lKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwcmVmaXggaW5jcmVtZW50IG51bWJlciAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMTAyNDg1MTY2NTQ5NjU5NzE5MjgsIDUpOw0KICAgICsrYTsNCiAgICBleHBlY3QoYSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOSwgNSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHByZWZpeCBpbmNyZW1lbnQgbnVtYmVyIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgweEZGRkZGRkZGRkZGRkZGRkYsIDApOw0KICAgICsrYTsNCiAgICBleHBlY3QoYSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgwLCAxKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcHJlZml4IGluY3JlbWVudCBudW1iZXIgMyIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguWmVybzsNCiAgICArK2E7DQogICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwodTEyOC5PbmUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHByZWZpeCBpbmNyZW1lbnQgbnVtYmVyIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCg8dTY0Pi0yLCA8dTY0Pi0xKTsNCiAgICArK2E7DQogICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwodTEyOC5NYXgpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHByZWZpeCBkZWNyZW1lbnQgbnVtYmVyIDEiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQogICAgLS1hOw0KICAgIGV4cGVjdChhKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDEwMjQ4NTE2NjU0OTY1OTcxOTI3LCA1KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcHJlZml4IGRlY3JlbWVudCBudW1iZXIgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDEpOw0KICAgIC0tYTsNCiAgICBleHBlY3QoYSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgweEZGRkZGRkZGRkZGRkZGRkYsIDApKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3N0Zml4IGluY3JlbWVudCBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgweEZGRkZGRkZGRkZGRkZGRkYsIDApOw0KICAgIHZhciB0ID0gYSsrOw0KICAgIGV4cGVjdCh0KS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDB4RkZGRkZGRkZGRkZGRkZGRiwgMCkpOw0KICAgIGV4cGVjdChhKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDAsIDEpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3N0Zml4IGRlY3JlbWVudCBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgwLCAxKTsNCiAgICB2YXIgdCA9IGEtLTsNCiAgICBleHBlY3QodCkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgwLCAxKSk7DQogICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHhGRkZGRkZGRkZGRkZGRkZGLCAwKSk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJFeHBvbmVudGlvbiBPcGVyYXRpb24iLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgcG93ZXIgb2YgemVybyB3aXRoIHplcm8gcmV0dXJuIG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Llplcm87DQogICAgZXhwZWN0KGEgKiogMCkudG9TdHJpY3RFcXVhbCh1MTI4Lk9uZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG93ZXIgb2Ygb25lIHdpdGggbmVnYXRpdmUgcmV0dXJuIG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk9uZTsNCiAgICBleHBlY3QoYSAqKiAtMikudG9TdHJpY3RFcXVhbCh1MTI4Lk9uZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG93ZXIgb2YgbmVnYXRpdmUgcmV0dXJuIHplcm8gbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoLTEsIC0xKTsNCiAgICBleHBlY3QoYSAqKiAtMikudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIHplcm8gcmV0dXJuIG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgtMSwgLTEpOw0KICAgIGV4cGVjdChhICoqIDApLnRvU3RyaWN0RXF1YWwodTEyOC5PbmUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFueSBwb3dlciBmb3IgemVybyByZXR1cm4gbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIGV4cGVjdChhICoqIDEwKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogICAgZXhwZWN0KGEgKiogMSkudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICAgIGV4cGVjdChhICoqIDIpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiBvbmUgcmV0dXJuIHNhbWUgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoLTEsIC0xKTsNCiAgICBleHBlY3QoYSAqKiAxKS50b1N0cmljdEVxdWFsKGEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIHR3byByZXR1cm4gc3F1YXJlZCBudW1iZXIgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEpOw0KICAgIGV4cGVjdCgoYSAqKiAyKSkudG9TdHJpY3RFcXVhbCgoYSAqIGEpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiB0d28gcmV0dXJuIHNxdWFyZWQgbnVtYmVyIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgweEZGRkZGRkZGKTsNCiAgICBleHBlY3QoKGEgKiogMikpLnRvU3RyaWN0RXF1YWwoKGEgKiBhKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG93ZXIgb2YgdHdvIHJldHVybiBzcXVhcmVkIG51bWJlciAzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMHhGRkZGKTsNCiAgICBleHBlY3QoKGEgKiogMikpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoPHU2ND4weEZGRkYgKiA8dTY0PjB4RkZGRikpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIHR3byByZXR1cm4gc3F1YXJlZCBudW1iZXIgNCIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDB4RkZGRiAtIDEpOw0KICAgIGV4cGVjdCgoYSAqKiAyKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgoMHhGRkZGIC0gMSkgKiAoMHhGRkZGIC0gMSkpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiB0d28gcmV0dXJuIHNxdWFyZWQgbnVtYmVyIHdpdGggb3ZlcmZsb3ciLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgwLCAxKTsNCiAgICBleHBlY3QoKGEgKiogMikpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiB0d28gcmV0dXJuIHNxdWFyZWQgbnVtYmVyIHdpdGggb3ZlcmZsb3cgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDAsIDMpOw0KICAgIGV4cGVjdCgoYSAqKiAyKSkudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIHRocmVlIHJldHVybiBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgweEZGRkYpOw0KICAgIGV4cGVjdCgoYSAqKiAzKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgweEZGRkQwMDAyRkZGRikpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIHRocmVlIHJldHVybiBudW1iZXIgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEyMzQ1Njc4KTsNCiAgICBleHBlY3QoKGEgKiogMykpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHgwMTdGRUM1MEUwNDUwOUI4LCAweDY2KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG93ZXIgb2YgdGhyZWUgcmV0dXJuIG51bWJlciAzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMSA8PCAyMCk7DQogICAgZXhwZWN0KChhICoqIDQpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDAsIDB4MTAwMDApKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiB0aHJlZSByZXR1cm4gbnVtYmVyIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgoMSA8PCA0MCkgKyAxKTsNCiAgICBleHBlY3QoKGEgKiogMykpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHgwMDAwMDMwMDAwMDAwMDAxLCAweDEwMDAwMDAwMDAzMDAwMCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIGZvdXIgcmV0dXJuIG51bWJlciA1IiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMCwgMSk7DQogICAgZXhwZWN0KChhICoqIDQpKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG93ZXIgb2YgMTggcmV0dXJuIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDEyMyk7DQogICAgZXhwZWN0KChhICoqIDE4KSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgweEI4QzNGOUJCRDQ5RTNDRDksIDB4MUYzRDE5NkYyQzJBRjI2QSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvd2VyIG9mIDEyNyByZXR1cm4gbnVtYmVyIDEiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgyKTsNCiAgICBleHBlY3QoKGEgKiogMTI3KSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgwLCAweDgwMDAwMDAwMDAwMDAwMDApKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiAxMjcgcmV0dXJuIG51bWJlciAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMyk7DQogICAgZXhwZWN0KChhICoqIDEyNykpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMHgyQUMwQjE4MDgzODIyOEFCLCAweDRDMUQ4NTI5QTkyOTRCQ0MpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3dlciBvZiAxMjggcmV0dXJuIHplcm8gbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoMik7DQogICAgZXhwZWN0KChhICoqIDEyOCkpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzcXJ0IHplcm8gbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTEyOC5aZXJvOw0KICAgIGV4cGVjdCh1MTI4LnNxcnQoYSkpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzcXJ0IG9uZSBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MTI4Lk9uZTsNCiAgICBleHBlY3QodTEyOC5zcXJ0KGEpKS50b1N0cmljdEVxdWFsKHUxMjguT25lKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzcXJ0IHRocmVlIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDMpOw0KICAgIGV4cGVjdCh1MTI4LnNxcnQoYSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHNxcnQgZm91ciBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCg0KTsNCiAgICBleHBlY3QodTEyOC5zcXJ0KGEpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDIpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzcXJ0IGZpdmUgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoNSk7DQogICAgZXhwZWN0KHUxMjguc3FydChhKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgyKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3FydCBzaXggbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoNSk7DQogICAgZXhwZWN0KHUxMjguc3FydChhKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgyKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3FydCBuaW5lIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDkpOw0KICAgIGV4cGVjdCh1MTI4LnNxcnQoYSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMykpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHNxcnQgNjQgbnVtYmVyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUxMjgoNjQpOw0KICAgIGV4cGVjdCh1MTI4LnNxcnQoYSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoOCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHNxcnQgMTAwMCBudW1iZXIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTEyOCgxMDAwKTsNCiAgICBleHBlY3QodTEyOC5zcXJ0KGEpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDMxKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3FydCAweDMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzIHZhbHVlIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MTI4KDB4MzMzMzMzMzMzMzMzMzMzMywgMHgzMzMzMzMzMzMzMzMzMzMzKTsNCiAgICBleHBlY3QodTEyOC5zcXJ0KGEpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDB4NzI3Qzk3MTZGRkI3NjRENSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHNxcnQgbWF4IHZhbHVlIG51bWJlciIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUxMjguTWF4Ow0KICAgIGV4cGVjdCh1MTI4LnNxcnQoYSkpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgodTY0Lk1BWF9WQUxVRSkpOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiQmluYXJ5IE9wZXJhdGlvbiBDb3VudCIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBwb3Bjb3VudCAxIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LnBvcGNudCh1MTI4Llplcm8pKS50b0JlKDApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvcGNvdW50IDIiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjgucG9wY250KG5ldyB1MTI4KDEpKSkudG9CZSgxKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBwb3Bjb3VudCAzIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LnBvcGNudChuZXcgdTEyOCgxLCAxKSkpLnRvQmUoMik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgcG9wY291bnQgNCIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5wb3BjbnQobmV3IHUxMjgoMCwgMSkpKS50b0JlKDEpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHBvcGNvdW50IDUiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjgucG9wY250KG5ldyB1MTI4KC0xLCAtMSkpKS50b0JlKDEyOCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY291bnQgbGVhZGluZyB6ZXJvcyAxIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmNseih1MTI4Llplcm8pKS50b0JlKDEyOCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY291bnQgbGVhZGluZyB6ZXJvcyAyIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmNseih1MTI4Lk9uZSkpLnRvQmUoMTI3KTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb3VudCBsZWFkaW5nIHplcm9zIDMiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguY2x6KG5ldyB1MTI4KDAsIDEpKSkudG9CZSg2Myk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY291bnQgbGVhZGluZyB6ZXJvcyA0IiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmNseihuZXcgdTEyOCgtMSwgLTEpKSkudG9CZSgwKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb3VudCB0cmFpbGluZyB6ZXJvcyAxIiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmN0eih1MTI4Llplcm8pKS50b0JlKDEyOCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgY291bnQgdHJhaWxpbmcgemVyb3MgMiIsICgpID0+IHsNCiAgICBleHBlY3QodTEyOC5jdHoodTEyOC5PbmUpKS50b0JlKDApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvdW50IHRyYWlsaW5nIHplcm9zIDMiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguY3R6KG5ldyB1MTI4KDIpKSkudG9CZSgxKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb3VudCB0cmFpbGluZyB6ZXJvcyA0IiwgKCkgPT4gew0KICAgIGV4cGVjdCh1MTI4LmN0eihuZXcgdTEyOCgwLCAxKSkpLnRvQmUoNjQpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvdW50IHRyYWlsaW5nIHplcm9zIDUiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguY3R6KG5ldyB1MTI4KC0xLCAtMSkpKS50b0JlKDApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvdW50IHRyYWlsaW5nIHplcm9zIDYiLCAoKSA9PiB7DQogICAgZXhwZWN0KHUxMjguY3R6KG5ldyB1MTI4KDAsIDB4ODAwMDAwMDAwMDAwMDAwMCkpKS50b0JlKDEyNyk7DQogIH0pOw0KfSk7DQoNCmRlc2NyaWJlKCJEaXZpc2lvbiBBbmQgTW9kIE9wZXJhdGlvbiIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBkaXZpZGUgdHdvIG51bWJlcnMgd2l0aG91dCByZW1haW5kZXIgMSIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU3MzE5NDI2MjgyLCA1KTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSgyMzUzNDU0MzU0KTsNCiAgICBleHBlY3QoYSAvIGIpLnRvU3RyaWN0RXF1YWwodTEyOC5mcm9tKDQzNTQ1NDUzNDUzKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2aWRlIHR3byBudW1iZXJzIHdpdGhvdXQgcmVtYWluZGVyIDIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQogICAgbGV0IGIgPSB1MTI4LmZyb20oNDM1NDU0NTM0NTIpOw0KICAgIGV4cGVjdChhIC8gYikudG9TdHJpY3RFcXVhbCh1MTI4LmZyb20oMjM1MzQ1NDM1NCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGRpdmlkZSB0d28gbnVtYmVycyB3aXRob3V0IHJlbWFpbmRlciAzIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMzE1MjY1MjY2NjIwODE3MzU2OCwgMik7DQogICAgbGV0IGIgPSB1MTI4LmZyb20oNDM1NDU0NTM0NTMxMik7DQogICAgZXhwZWN0KGEgLyBiKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSg5MTk2NDAwKSk7DQogIH0pOw0KDQogIC8vIHJlZ3Jlc3Npb24NCiAgaXQoIlNob3VsZCBkaXZpZGUgdHdvIG51bWJlcnMgd2l0aG91dCByZW1haW5kZXIgNCIsICgpID0+IHsNCiAgICBsZXQgYSA9IHUxMjguZnJvbSgnOTgwMTQyNzgwNTU0MjAxODg2OTc1MDEwMDAwMDAwMCcpOw0KICAgIGxldCBiID0gdTEyOC5mcm9tKDEwKTsNCiAgICBleHBlY3QoYSAvIGIpLnRvU3RyaWN0RXF1YWwodTEyOC5mcm9tKCc5ODAxNDI3ODA1NTQyMDE4ODY5NzUwMTAwMDAwMDAnKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2aWRlIHR3byBudW1iZXJzIHdpdGggcmVtYWluZGVyIDEiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCgzMTUyNjUyNjY2MjA4MTczNTY4LCAyKTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSg0MzU0MzUzNDUzNDUzNCk7DQogICAgZXhwZWN0KGEgLyBiKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSg5MTk2ODApKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBkaXZpZGUgdHdvIG51bWJlcnMgd2l0aCByZW1haW5kZXIgMiIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDMxNTI2NTI2NjYyMDgxNzgsIDApOw0KICAgIGxldCBiID0gdTEyOC5mcm9tKDQzNTQzNTM0NTM0NTM0KTsNCiAgICBleHBlY3QoYSAvIGIpLnRvU3RyaWN0RXF1YWwodTEyOC5mcm9tKDcyKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2aWRlIHplcm8gd2l0aCBudW1iZXIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSB1MTI4Llplcm87DQogICAgbGV0IGIgPSBuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQogICAgZXhwZWN0KGEgLyBiKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2aWRlIG51bWJlciB3aXRoIG9uZSIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU0OTY1OTcxOTI4LCA1KTsNCiAgICBsZXQgYiA9IHUxMjguT25lOw0KICAgIGV4cGVjdChhIC8gYikudG9TdHJpY3RFcXVhbChhKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtb2QgdHdvIG51bWJlcnMgd2l0aG91dCByZW1haW5kZXIgMSIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU3MzE5NDI2MjgyLCA1KTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSgyMzUzNDU0MzU0KTsNCiAgICBleHBlY3QoYSAlIGIpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtb2QgdHdvIG51bWJlcnMgd2l0aG91dCByZW1haW5kZXIgMiIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU0OTY1OTcxOTI4LCA1KTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSg0MzU0NTQ1MzQ1Mik7DQogICAgZXhwZWN0KGEgJSBiKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbW9kIHR3byBudW1iZXJzIHdpdGggcmVtYWluZGVyIDEiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCgzMTUyNjUyNjY2MjA4MTczNTY4LCAyKTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSg0MzU0MzUzNDUzNDUzNCk7DQogICAgZXhwZWN0KGEgJSBiKS50b1N0cmljdEVxdWFsKHUxMjguZnJvbSgyMjk3MjkwNzA0NzY4MCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG1vZCB0d28gbnVtYmVycyB3aXRoIHJlbWFpbmRlciAyIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMzE1MjY1MjY2NjIwODE3OCk7DQogICAgbGV0IGIgPSB1MTI4LmZyb20oNDM1NDM1MzQ1MzQ1MzQpOw0KICAgIGV4cGVjdChhICUgYikudG9TdHJpY3RFcXVhbCh1MTI4LmZyb20oMTc1MTgxNzk3MjE3MzApKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtb2QgdHdvIG51bWJlcnMgd2l0aCByZW1haW5kZXIgMyIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDk4Nzc3NTk4MzAzMjQ3NDA1NSwgNTQyMTAxMDg2MjQyNzUyNzU5MSk7DQogICAgbGV0IGIgPSBuZXcgdTEyOCgxMDAwMDAwMDAwMDExMTExKTsNCiAgICBleHBlY3QoYSAlIGIpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMzQ0MzMyMTA5ODY2Njc5KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbW9kIG51bWJlciB3aXRoIG9uZSIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDEwMjQ4NTE2NjU0OTY1OTcxOTI4LCA1KTsNCiAgICBsZXQgYiA9IHUxMjguT25lOw0KICAgIGV4cGVjdChhICUgYikudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG1vZCBudW1iZXIgd2l0aCB0d28iLCAoKSA9PiB7DQogICAgbGV0IGEgPSB1MTI4LmZyb20oMTkpOw0KICAgIGxldCBiID0gdTEyOC5mcm9tKDIpOw0KICAgIGV4cGVjdChhICUgYikudG9TdHJpY3RFcXVhbCh1MTI4Lk9uZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbW9kIG51bWJlciB3aXRoIGZvdXIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSB1MTI4LmZyb20oMTExKTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSg0KTsNCiAgICBleHBlY3QoYSAlIGIpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMykpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG1vZCBudW1iZXIgd2l0aCAxMjgiLCAoKSA9PiB7DQogICAgbGV0IGEgPSB1MTI4LmZyb20oNCk7DQogICAgbGV0IGIgPSB1MTI4LmZyb20oMTI4KTsNCiAgICBleHBlY3QoYSAlIGIpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoNCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG1vZCBudW1iZXIgc2FtZSBudW1iZXIgMSIsICgpID0+IHsNCiAgICBsZXQgYSA9IHUxMjguZnJvbSg4KTsNCiAgICBsZXQgYiA9IHUxMjguZnJvbSg4KTsNCiAgICBleHBlY3QoYSAlIGIpLnRvU3RyaWN0RXF1YWwodTEyOC5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtb2QgbnVtYmVyIHNhbWUgbnVtYmVyIDIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQogICAgZXhwZWN0KGEgJSBhKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2aWRlIHR3byBzYW1lIG51bWJlcnMiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCgxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQogICAgZXhwZWN0KGEgLyBhKS50b1N0cmljdEVxdWFsKHUxMjguT25lKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtb2QgbnVtYmVyIHNhbWUgbWF4IHZhbHVlIiwgKCkgPT4gew0KICAgIGxldCBhID0gdTEyOC5NYXg7DQogICAgZXhwZWN0KGEgJSBhKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgZGl2IG51bWJlciBzYW1lIG1heCB2YWx1ZSIsICgpID0+IHsNCiAgICBsZXQgYSA9IHUxMjguTWF4Ow0KICAgIGV4cGVjdChhIC8gYSkudG9TdHJpY3RFcXVhbCh1MTI4Lk9uZSk7DQogIH0pOw0KDQp9KTsNCg0KZGVzY3JpYmUoIk11bHRpcGx5IGFuZCBEaXZpc2lvbiB3aXRob3V0IE92ZXJmbG93IiwgKCkgPT4gew0KICBpdCgiU2hvdWxkIG11bGRpdiByZXR1cm4gemVybyAxIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMTAyNDg1MTY2NTQ5NjU5NzE5MjgsIDUpOw0KICAgIGxldCBiID0gbmV3IHUxMjgoMjI5NzI5MDcwNDc2ODApOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCB1MTI4Llplcm8sIGIpKS50b1N0cmljdEVxdWFsKHUxMjguWmVybyk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsZGl2IHJldHVybiB6ZXJvIDIiLCAoKSA9PiB7DQogICAgbGV0IGEgPSB1MTI4Llplcm87DQogICAgbGV0IGIgPSBuZXcgdTEyOCgyMjk3MjkwNzA0NzY4MCk7DQogICAgZXhwZWN0KHUxMjgubXVsZGl2KGEsIHUxMjguT25lLCBiKSkudG9TdHJpY3RFcXVhbCh1MTI4Llplcm8pOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bGRpdiBzYW1lIG51bWJlciAxIiwgKCkgPT4gew0KICAgIGxldCBhID0gbmV3IHUxMjgoMTAyNDg1MTY2NTQ5NjU5NzE5MjgsIDUpOw0KICAgIGxldCBiID0gbmV3IHUxMjgoMjI5NzI5MDcwNDc2ODApOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCBiLCBiKSkudG9TdHJpY3RFcXVhbChhKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWxkaXYgc2FtZSBudW1iZXIgMiIsICgpID0+IHsNCiAgICBsZXQgYSA9IHUxMjguTWF4Ow0KICAgIGxldCBiID0gbmV3IHUxMjgoLTEpOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCBiLCBiKSkudG9TdHJpY3RFcXVhbChhKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWxkaXYgc2FtZSBudW1iZXIgMyIsICgpID0+IHsNCiAgICBsZXQgbWF4ID0gdTEyOC5NYXg7DQogICAgZXhwZWN0KHUxMjgubXVsZGl2KG1heCwgbWF4LCBtYXgpKS50b1N0cmljdEVxdWFsKG1heCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsZGl2IHNtYWxsIGFyZ3VtZW50cyB3aXRob3V0IG92ZXJmbG93IDY0LWJpdHMiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCg0OTg0MTk4NDA1MTY1MTUxMjMpOw0KICAgIGxldCBiID0gbmV3IHUxMjgoNjEzMjE5ODQxOTg3ODA0NjEzMik7DQogICAgbGV0IGMgPSBuZXcgdTEyOCg5MTU2NDk4MTQ1MTM1MTA5ODQzKTsNCiAgICBleHBlY3QodTEyOC5tdWxkaXYoYSwgYiwgYykpLnRvU3RyaWN0RXF1YWwobmV3IHUxMjgoMzMzNzk2NzUzOTU2MTA5OTkzKSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsZGl2IHNtYWxsIGFyZ3VtZW50cyB3aXRoIG92ZXJmbG93IDY0LWJpdHMiLCAoKSA9PiB7DQogICAgbGV0IGEgPSBuZXcgdTEyOCg5MjIzMzcyMDMyNTU5ODA4NTEyKTsNCiAgICBsZXQgYiA9IG5ldyB1MTI4KDkyMjMzNzIwMzY4NTQ3NzU4MDcpOw0KICAgIGxldCBjID0gbmV3IHUxMjgoMTIpOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCBiLCBjKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCgxMTUyOTIxNTA0NjQyNjM4MzcwMSwgMzg0MzA3MTY4MDIzMzI1MzU0KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsZGl2IHdpdGggc21hbGwgYiBhbmQgaHVnZSBjIiwgKCkgPT4gew0KICAgIC8vIEZJWE1FOiB0aGlzIGZhaWxlZCENCg0KICAgIGxldCBhID0gbmV3IHUxMjgoOTIyMzM3MjAzMjU1OTgwODUxMiwgMTIzNDU2KTsNCiAgICBsZXQgYiA9IG5ldyB1MTI4KDEyMzQ1Nik7DQogICAgbGV0IGMgPSBuZXcgdTEyOCgweEZGRkZGRkZGRkZGRkZGRkYsIDEyMzQ1Nik7DQogICAgZXhwZWN0KHUxMjgubXVsZGl2KGEsIGIsIGMpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDEyMzQ1NSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bGRpdiBiaWcgYXJndW1lbnRzIHdpdGggb3ZlcmZsb3cgMTI4LWJpdHMgMSIsICgpID0+IHsNCiAgICBsZXQgYSA9IG5ldyB1MTI4KDE3MzY4NTI1NjQ0MjAwMTEyNDQ5LCAyNDQ2MTQpOw0KICAgIGxldCBiID0gbmV3IHUxMjgoNDAxNzU4MDE4OTI0ODc3MzY5MywgMTI2OTkpOw0KICAgIGxldCBjID0gbmV3IHUxMjgoMzQzNDUxNSk7DQogICAgZXhwZWN0KHUxMjgubXVsZGl2KGEsIGIsIGMpKS50b1N0cmljdEVxdWFsKG5ldyB1MTI4KDEyNzcwMDQxMTE3MTExNzkwNjU0LCA4Njg0MTI4ODQyMTg5ODA2MTI4KSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsZGl2IGJpZyBhcmd1bWVudHMgd2l0aCBvdmVyZmxvdyAxMjgtYml0cyAyIiwgKCkgPT4gew0KICAgIGxldCBhID0gdTEyOC5NYXg7DQogICAgbGV0IGIgPSBuZXcgdTEyOCgweDdGRkZGRkZGRkZGRkZGRkYsIDB4ODExMTExMTExMTExMTExMSk7DQogICAgbGV0IGMgPSBuZXcgdTEyOCgweDMzMzMzMzMzMzMzMzMzMzMpOw0KICAgIGV4cGVjdCh1MTI4Lm11bGRpdihhLCBiLCBjKSkudG9TdHJpY3RFcXVhbChuZXcgdTEyOCg5MjIzMzcyMDM2ODU0Nzc1ODAzLCAzODQzMDcxNjgyMDIyODIzMjIpKTsNCiAgfSk7DQp9KTsNCg0KZGVzY3JpYmUoIlRocm93YWJsZSIsICgpID0+IHsNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIHN0cmluZyB3aXRoIHVuc3VwcG9ydGVkIHJhZGl4IDEiLCAoKSA9PiB7DQogICAgZXhwZWN0KCgpID0+IHsNCiAgICAgICEodTEyOC5mcm9tU3RyaW5nKCcwMDAwJywgMSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIHN0cmluZyB3aXRoIHVuc3VwcG9ydGVkIHJhZGl4IDIiLCAoKSA9PiB7DQogICAgZXhwZWN0KCgpID0+IHsNCiAgICAgICEodTEyOC5mcm9tU3RyaW5nKCcxMjM0JywgMzcpKTsNCiAgICB9KS50b1Rocm93KCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgdGhyb3cgZnJvbSBieXRlcyB3aXRoIG51bGwgMSIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlcyhjaGFuZ2V0eXBlPHU4W10+KG51bGwpKSk7DQogICAgfSkudG9UaHJvdygpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHRocm93IGZyb20gYnl0ZXMgd2l0aCBudWxsIDIiLCAoKSA9PiB7DQogICAgZXhwZWN0KCgpID0+IHsNCiAgICAgICEodTEyOC5mcm9tQnl0ZXMoY2hhbmdldHlwZTx1OFtdPihudWxsKSwgdHJ1ZSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggMSIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczx1OFtdPihbXSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggMiIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczx1OFtdPihbXSwgdHJ1ZSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggMyIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczx1OFtdPihbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3XSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggNCIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczx1OFtdPihbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3XSwgdHJ1ZSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggNSIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczxVaW50OEFycmF5PihuZXcgVWludDhBcnJheSgwKSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggNiIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgISh1MTI4LmZyb21CeXRlczxVaW50OEFycmF5PihuZXcgVWludDhBcnJheSgwKSwgdHJ1ZSkpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyBmcm9tIGJ5dGVzIHdpdGggd3JvbmcgYnl0ZSBhcnJheSBsZW5ndGggNyIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgbGV0IGFyciA9IG5ldyBVaW50OEFycmF5KDE4KTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTg7IGkrKykgew0KICAgICAgICBhcnJbaV0gPSA8dTg+aTsNCiAgICAgIH0NCiAgICAgICEodTEyOC5mcm9tQnl0ZXM8VWludDhBcnJheT4oYXJyKSk7DQogICAgfSkudG9UaHJvdygpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHRocm93IGZyb20gYnl0ZXMgd2l0aCB3cm9uZyBieXRlIGFycmF5IGxlbmd0aCA4IiwgKCkgPT4gew0KICAgIGV4cGVjdCgoKSA9PiB7DQogICAgICBsZXQgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTgpOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxODsgaSsrKSB7DQogICAgICAgIGFycltpXSA9IDx1OD5pOw0KICAgICAgfQ0KICAgICAgISh1MTI4LmZyb21CeXRlczxVaW50OEFycmF5PihhcnIsIHRydWUpKTsNCiAgICB9KS50b1Rocm93KCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgdGhyb3cgd2hlbiBkaXZpZGUgbnVtYmVyIGJ5IHplcm8iLCAoKSA9PiB7DQogICAgZXhwZWN0KCgpID0+IHsNCiAgICAgIGxldCBhID0gbmV3IHUxMjgoMSwgMSk7DQogICAgICAhKGEgLyB1MTI4Llplcm8pOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyB3aGVuIG1vZCBudW1iZXIgYnkgemVybyIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgbGV0IGEgPSBuZXcgdTEyOCgxLCAxKTsNCiAgICAgICEoYSAlIHUxMjguWmVybyk7DQogICAgfSkudG9UaHJvdygpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHRocm93IHdoZW4gZGl2IGRpdmlkZXIgYW5kIGRpdmlzb3IgaXMgemVybyIsICgpID0+IHsNCiAgICBleHBlY3QoKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MTI4Llplcm87DQogICAgICAhKGEgLyBhKTsNCiAgICB9KS50b1Rocm93KCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgdGhyb3cgd2hlbiBtb2QgZGl2aWRlciBhbmQgZGl2aXNvciBpcyB6ZXJvIiwgKCkgPT4gew0KICAgIGV4cGVjdCgoKSA9PiB7DQogICAgICBsZXQgYSA9IHUxMjguWmVybzsNCiAgICAgICEoYSAlIGEpOw0KICAgIH0pLnRvVGhyb3coKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCB0aHJvdyB3aGVuIGRpdmlkZSBudW1iZXIgYnkgemVybyBmb3IgbXVsZGl2IiwgKCkgPT4gew0KICAgIGV4cGVjdCgoKSA9PiB7DQogICAgICBsZXQgYSA9IG5ldyB1MTI4KDEsIDEpOw0KICAgICAgISh1MTI4Lm11bGRpdihhLCBhLCB1MTI4Llplcm8pKTsNCiAgICB9KS50b1Rocm93KCk7DQogIH0pOw0KfSk7DQo=",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/u256.spec.ts": "aW1wb3J0IHsgdTEyOCwgdTI1NiB9IGZyb20gIi4uL2ludGVnZXIiOw0KDQpkZXNjcmliZSgiU3RyaW5nIENvbnZlcnNpb24iLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY29udmVydCB0byBkZWNpbWFsIHN0cmluZyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUyNTYoMTAyNDg1MTY2NTQ5NjU5NzE5MjgsIDUsIDAsIDApOw0KICAgIGV4cGVjdCgiMTAyNDgyMjM3MDIzNTEzNzMwMDA4IikudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKCkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gZGVjaW1hbCBzdHJpbmcgMiIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MjU2KDEsIDEsIDEsIDEpOw0KICAgIGV4cGVjdCgNCiAgICAgICI2Mjc3MTAxNzM1Mzg2NjgwNzY0MTc2MDcxNzkwMTI4NjA0ODc5NTg0MTc2Nzk1OTY5NTEyMjc1OTY5IiwNCiAgICApLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRlY2ltYWwgc3RyaW5nIDMiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Lk1heDsNCiAgICBleHBlY3QoDQogICAgICAiMTE1NzkyMDg5MjM3MzE2MTk1NDIzNTcwOTg1MDA4Njg3OTA3ODUzMjY5OTg0NjY1NjQwNTY0MDM5NDU3NTg0MDA3OTEzMTI5NjM5OTM1IiwNCiAgICApLnRvU3RyaWN0RXF1YWwoYS50b1N0cmluZygpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGRlY2ltYWwgc3RyaW5nIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Llplcm87DQogICAgZXhwZWN0KCIwIikudG9TdHJpY3RFcXVhbChhLnRvU3RyaW5nKCkpOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiQnVmZmVyIENvbnZlcnNpb24iLCAoKSA9PiB7DQogIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGJ5dGVzIExpdHRsZSBFbmRpYW4gMSIsICgpID0+IHsNCiAgICB2YXIgYXJyOiB1OFtdID0gWw0KICAgICAgMHgxMSwgMHgyMiwgMHgzMywgMHg0NCwgMHg1NSwgMHg2NiwgMHg3NywgMHg4OCwgMHg5OSwgMHhhYSwgMHhiYiwgMHhjYywNCiAgICAgIDB4ZGQsIDB4ZWUsIDB4ZmYsIDB4MTIsIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsDQogICAgICAweDk5LCAweGFhLCAweGJiLCAweGNjLCAweGRkLCAweGVlLCAweGZmLCAweDEyLA0KICAgIF07DQogICAgZXhwZWN0KHUyNTYuZnJvbUJ5dGVzKGFycikpLnRvU3RyaWN0RXF1YWwoDQogICAgICBuZXcgdTI1NigNCiAgICAgICAgMHg4ODc3NjY1NTQ0MzMyMjExLA0KICAgICAgICAweDEyZmZlZWRkY2NiYmFhOTksDQogICAgICAgIDB4ODg3NzY2NTU0NDMzMjIxMSwNCiAgICAgICAgMHgxMmZmZWVkZGNjYmJhYTk5LA0KICAgICAgKSwNCiAgICApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBMaXR0bGUgRW5kaWFuIDIiLCAoKSA9PiB7DQogICAgdmFyIGFycjogdThbXSA9IFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsIDB4OTksIDB4YWEsIDB4YmIsIDB4Y2MsDQogICAgICAweGRkLCAweGVlLCAweGZmLCAweDEyLCAweDExLCAweDIyLCAweDMzLCAweDQ0LCAweDU1LCAweDY2LCAweDc3LCAweDg4LA0KICAgICAgMHg5OSwgMHhhYSwgMHhiYiwgMHhjYywgMHhkZCwgMHhlZSwgMHhmZiwgMHgxMiwNCiAgICBdOw0KDQogICAgZXhwZWN0KHUyNTYuZnJvbUJ5dGVzKGFycikpLnRvU3RyaWN0RXF1YWwoDQogICAgICBuZXcgdTI1NigNCiAgICAgICAgMHg4ODc3NjY1NTQ0MzMyMjExLA0KICAgICAgICAweDEyZmZlZWRkY2NiYmFhOTksDQogICAgICAgIDB4ODg3NzY2NTU0NDMzMjIxMSwNCiAgICAgICAgMHgxMmZmZWVkZGNjYmJhYTk5LA0KICAgICAgKSwNCiAgICApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBCaWcgRW5kaWFuIDEiLCAoKSA9PiB7DQogICAgdmFyIGFycjogdThbXSA9IFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsIDB4OTksIDB4YWEsIDB4YmIsIDB4Y2MsDQogICAgICAweGRkLCAweGVlLCAweGZmLCAweDEyLCAweDExLCAweDIyLCAweDMzLCAweDQ0LCAweDU1LCAweDY2LCAweDc3LCAweDg4LA0KICAgICAgMHg5OSwgMHhhYSwgMHhiYiwgMHhjYywgMHhkZCwgMHhlZSwgMHhmZiwgMHgxMiwNCiAgICBdOw0KDQogICAgZXhwZWN0KHUyNTYuZnJvbUJ5dGVzKGFyciwgdHJ1ZSkpLnRvU3RyaWN0RXF1YWwoDQogICAgICBuZXcgdTI1NigNCiAgICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgICAweDExMjIzMzQ0NTU2Njc3ODgsDQogICAgICAgIDB4OTlhYWJiY2NkZGVlZmYxMiwNCiAgICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICAgKSwNCiAgICApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBieXRlcyBCaWcgRW5kaWFuIDIiLCAoKSA9PiB7DQogICAgdmFyIGFycjogdThbXSA9IFsNCiAgICAgIDB4MTEsIDB4MjIsIDB4MzMsIDB4NDQsIDB4NTUsIDB4NjYsIDB4NzcsIDB4ODgsIDB4OTksIDB4YWEsIDB4YmIsIDB4Y2MsDQogICAgICAweGRkLCAweGVlLCAweGZmLCAweDEyLCAweDExLCAweDIyLCAweDMzLCAweDQ0LCAweDU1LCAweDY2LCAweDc3LCAweDg4LA0KICAgICAgMHg5OSwgMHhhYSwgMHhiYiwgMHhjYywgMHhkZCwgMHhlZSwgMHhmZiwgMHgxMiwNCiAgICBdOw0KDQogICAgZXhwZWN0KHUyNTYuZnJvbUJ5dGVzKGFyciwgdHJ1ZSkpLnRvU3RyaWN0RXF1YWwoDQogICAgICBuZXcgdTI1NigNCiAgICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgICAweDExMjIzMzQ0NTU2Njc3ODgsDQogICAgICAgIDB4OTlhYWJiY2NkZGVlZmYxMiwNCiAgICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICAgKSwNCiAgICApOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGNvbnZlcnQgdG8gYnl0ZXMgTGl0dGUgRW5kaWFuIDEiLCAoKSA9PiB7DQogICAgdmFyIHUgPSBuZXcgdTI1NigNCiAgICAgIDB4ODg3NzY2NTU0NDMzMjIxMSwNCiAgICAgIDB4MTJmZmVlZGRjY2JiYWE5OSwNCiAgICAgIDB4ODg3NzY2NTU0NDMzMjIxMSwNCiAgICAgIDB4MTJmZmVlZGRjY2JiYWE5OSwNCiAgICApOw0KICAgIGxldCBhID0gdS50b0J5dGVzKCk7DQogICAgZXhwZWN0KA0KICAgICAgYVswXSA9PSAweDExICYmDQogICAgICBhWzFdID09IDB4MjIgJiYNCiAgICAgIGFbMl0gPT0gMHgzMyAmJg0KICAgICAgYVszXSA9PSAweDQ0ICYmDQogICAgICBhWzRdID09IDB4NTUgJiYNCiAgICAgIGFbNV0gPT0gMHg2NiAmJg0KICAgICAgYVs2XSA9PSAweDc3ICYmDQogICAgICBhWzddID09IDB4ODggJiYNCiAgICAgIGFbOF0gPT0gMHg5OSAmJg0KICAgICAgYVs5XSA9PSAweGFhICYmDQogICAgICBhWzEwXSA9PSAweGJiICYmDQogICAgICBhWzExXSA9PSAweGNjICYmDQogICAgICBhWzEyXSA9PSAweGRkICYmDQogICAgICBhWzEzXSA9PSAweGVlICYmDQogICAgICBhWzE0XSA9PSAweGZmICYmDQogICAgICBhWzE1XSA9PSAweDEyICYmDQogICAgICBhWzE2XSA9PSAweDExICYmDQogICAgICBhWzE3XSA9PSAweDIyICYmDQogICAgICBhWzE4XSA9PSAweDMzICYmDQogICAgICBhWzE5XSA9PSAweDQ0ICYmDQogICAgICBhWzIwXSA9PSAweDU1ICYmDQogICAgICBhWzIxXSA9PSAweDY2ICYmDQogICAgICBhWzIyXSA9PSAweDc3ICYmDQogICAgICBhWzIzXSA9PSAweDg4ICYmDQogICAgICBhWzI0XSA9PSAweDk5ICYmDQogICAgICBhWzI1XSA9PSAweGFhICYmDQogICAgICBhWzI2XSA9PSAweGJiICYmDQogICAgICBhWzI3XSA9PSAweGNjICYmDQogICAgICBhWzI4XSA9PSAweGRkICYmDQogICAgICBhWzI5XSA9PSAweGVlICYmDQogICAgICBhWzMwXSA9PSAweGZmICYmDQogICAgICBhWzMxXSA9PSAweDEyLA0KICAgICkudG9CZSh0cnVlKTsNCg0KICAgIHsNCiAgICAgIGxldCBhID0gdS50b1N0YXRpY0J5dGVzKCk7DQogICAgICBleHBlY3QoDQogICAgICAgIGFbMF0gPT0gMHgxMSAmJg0KICAgICAgICBhWzFdID09IDB4MjIgJiYNCiAgICAgICAgYVsyXSA9PSAweDMzICYmDQogICAgICAgIGFbM10gPT0gMHg0NCAmJg0KICAgICAgICBhWzRdID09IDB4NTUgJiYNCiAgICAgICAgYVs1XSA9PSAweDY2ICYmDQogICAgICAgIGFbNl0gPT0gMHg3NyAmJg0KICAgICAgICBhWzddID09IDB4ODggJiYNCiAgICAgICAgYVs4XSA9PSAweDk5ICYmDQogICAgICAgIGFbOV0gPT0gMHhhYSAmJg0KICAgICAgICBhWzEwXSA9PSAweGJiICYmDQogICAgICAgIGFbMTFdID09IDB4Y2MgJiYNCiAgICAgICAgYVsxMl0gPT0gMHhkZCAmJg0KICAgICAgICBhWzEzXSA9PSAweGVlICYmDQogICAgICAgIGFbMTRdID09IDB4ZmYgJiYNCiAgICAgICAgYVsxNV0gPT0gMHgxMiAmJg0KICAgICAgICBhWzE2XSA9PSAweDExICYmDQogICAgICAgIGFbMTddID09IDB4MjIgJiYNCiAgICAgICAgYVsxOF0gPT0gMHgzMyAmJg0KICAgICAgICBhWzE5XSA9PSAweDQ0ICYmDQogICAgICAgIGFbMjBdID09IDB4NTUgJiYNCiAgICAgICAgYVsyMV0gPT0gMHg2NiAmJg0KICAgICAgICBhWzIyXSA9PSAweDc3ICYmDQogICAgICAgIGFbMjNdID09IDB4ODggJiYNCiAgICAgICAgYVsyNF0gPT0gMHg5OSAmJg0KICAgICAgICBhWzI1XSA9PSAweGFhICYmDQogICAgICAgIGFbMjZdID09IDB4YmIgJiYNCiAgICAgICAgYVsyN10gPT0gMHhjYyAmJg0KICAgICAgICBhWzI4XSA9PSAweGRkICYmDQogICAgICAgIGFbMjldID09IDB4ZWUgJiYNCiAgICAgICAgYVszMF0gPT0gMHhmZiAmJg0KICAgICAgICBhWzMxXSA9PSAweDEyLA0KICAgICAgKS50b0JlKHRydWUpOw0KICAgIH0NCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGJ5dGVzIExpdHRlIEVuZGlhbiAyIiwgKCkgPT4gew0KICAgIHZhciB1ID0gbmV3IHUyNTYoDQogICAgICAweDg4Nzc2NjU1NDQzMzIyMTEsDQogICAgICAweDEyZmZlZWRkY2NiYmFhOTksDQogICAgICAweDg4Nzc2NjU1NDQzMzIyMTEsDQogICAgICAweDEyZmZlZWRkY2NiYmFhOTksDQogICAgKTsNCiAgICB2YXIgYSA9IHUudG9VaW50OEFycmF5KCk7DQogICAgZXhwZWN0KA0KICAgICAgYVswXSA9PSAweDExICYmDQogICAgICBhWzFdID09IDB4MjIgJiYNCiAgICAgIGFbMl0gPT0gMHgzMyAmJg0KICAgICAgYVszXSA9PSAweDQ0ICYmDQogICAgICBhWzRdID09IDB4NTUgJiYNCiAgICAgIGFbNV0gPT0gMHg2NiAmJg0KICAgICAgYVs2XSA9PSAweDc3ICYmDQogICAgICBhWzddID09IDB4ODggJiYNCiAgICAgIGFbOF0gPT0gMHg5OSAmJg0KICAgICAgYVs5XSA9PSAweGFhICYmDQogICAgICBhWzEwXSA9PSAweGJiICYmDQogICAgICBhWzExXSA9PSAweGNjICYmDQogICAgICBhWzEyXSA9PSAweGRkICYmDQogICAgICBhWzEzXSA9PSAweGVlICYmDQogICAgICBhWzE0XSA9PSAweGZmICYmDQogICAgICBhWzE1XSA9PSAweDEyICYmDQogICAgICBhWzE2XSA9PSAweDExICYmDQogICAgICBhWzE3XSA9PSAweDIyICYmDQogICAgICBhWzE4XSA9PSAweDMzICYmDQogICAgICBhWzE5XSA9PSAweDQ0ICYmDQogICAgICBhWzIwXSA9PSAweDU1ICYmDQogICAgICBhWzIxXSA9PSAweDY2ICYmDQogICAgICBhWzIyXSA9PSAweDc3ICYmDQogICAgICBhWzIzXSA9PSAweDg4ICYmDQogICAgICBhWzI0XSA9PSAweDk5ICYmDQogICAgICBhWzI1XSA9PSAweGFhICYmDQogICAgICBhWzI2XSA9PSAweGJiICYmDQogICAgICBhWzI3XSA9PSAweGNjICYmDQogICAgICBhWzI4XSA9PSAweGRkICYmDQogICAgICBhWzI5XSA9PSAweGVlICYmDQogICAgICBhWzMwXSA9PSAweGZmICYmDQogICAgICBhWzMxXSA9PSAweDEyLA0KICAgICkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGJ5dGVzIEJpZyBFbmRpYW4gMSIsICgpID0+IHsNCiAgICB2YXIgdSA9IG5ldyB1MjU2KA0KICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICk7DQogICAgdmFyIGEgPSB1LnRvQnl0ZXModHJ1ZSk7DQogICAgZXhwZWN0KA0KICAgICAgYVswXSA9PSAweDExICYmDQogICAgICBhWzFdID09IDB4MjIgJiYNCiAgICAgIGFbMl0gPT0gMHgzMyAmJg0KICAgICAgYVszXSA9PSAweDQ0ICYmDQogICAgICBhWzRdID09IDB4NTUgJiYNCiAgICAgIGFbNV0gPT0gMHg2NiAmJg0KICAgICAgYVs2XSA9PSAweDc3ICYmDQogICAgICBhWzddID09IDB4ODggJiYNCiAgICAgIGFbOF0gPT0gMHg5OSAmJg0KICAgICAgYVs5XSA9PSAweGFhICYmDQogICAgICBhWzEwXSA9PSAweGJiICYmDQogICAgICBhWzExXSA9PSAweGNjICYmDQogICAgICBhWzEyXSA9PSAweGRkICYmDQogICAgICBhWzEzXSA9PSAweGVlICYmDQogICAgICBhWzE0XSA9PSAweGZmICYmDQogICAgICBhWzE1XSA9PSAweDEyICYmDQogICAgICBhWzE2XSA9PSAweDExICYmDQogICAgICBhWzE3XSA9PSAweDIyICYmDQogICAgICBhWzE4XSA9PSAweDMzICYmDQogICAgICBhWzE5XSA9PSAweDQ0ICYmDQogICAgICBhWzIwXSA9PSAweDU1ICYmDQogICAgICBhWzIxXSA9PSAweDY2ICYmDQogICAgICBhWzIyXSA9PSAweDc3ICYmDQogICAgICBhWzIzXSA9PSAweDg4ICYmDQogICAgICBhWzI0XSA9PSAweDk5ICYmDQogICAgICBhWzI1XSA9PSAweGFhICYmDQogICAgICBhWzI2XSA9PSAweGJiICYmDQogICAgICBhWzI3XSA9PSAweGNjICYmDQogICAgICBhWzI4XSA9PSAweGRkICYmDQogICAgICBhWzI5XSA9PSAweGVlICYmDQogICAgICBhWzMwXSA9PSAweGZmICYmDQogICAgICBhWzMxXSA9PSAweDEyLA0KICAgICkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBjb252ZXJ0IHRvIGJ5dGVzIEJpZyBFbmRpYW4gMiIsICgpID0+IHsNCiAgICB2YXIgdSA9IG5ldyB1MjU2KA0KICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICAgMHg5OWFhYmJjY2RkZWVmZjEyLA0KICAgICAgMHgxMTIyMzM0NDU1NjY3Nzg4LA0KICAgICk7DQogICAgdmFyIGEgPSB1LnRvVWludDhBcnJheSh0cnVlKTsNCiAgICBleHBlY3QoDQogICAgICBhWzBdID09IDB4MTEgJiYNCiAgICAgIGFbMV0gPT0gMHgyMiAmJg0KICAgICAgYVsyXSA9PSAweDMzICYmDQogICAgICBhWzNdID09IDB4NDQgJiYNCiAgICAgIGFbNF0gPT0gMHg1NSAmJg0KICAgICAgYVs1XSA9PSAweDY2ICYmDQogICAgICBhWzZdID09IDB4NzcgJiYNCiAgICAgIGFbN10gPT0gMHg4OCAmJg0KICAgICAgYVs4XSA9PSAweDk5ICYmDQogICAgICBhWzldID09IDB4YWEgJiYNCiAgICAgIGFbMTBdID09IDB4YmIgJiYNCiAgICAgIGFbMTFdID09IDB4Y2MgJiYNCiAgICAgIGFbMTJdID09IDB4ZGQgJiYNCiAgICAgIGFbMTNdID09IDB4ZWUgJiYNCiAgICAgIGFbMTRdID09IDB4ZmYgJiYNCiAgICAgIGFbMTVdID09IDB4MTIgJiYNCiAgICAgIGFbMTZdID09IDB4MTEgJiYNCiAgICAgIGFbMTddID09IDB4MjIgJiYNCiAgICAgIGFbMThdID09IDB4MzMgJiYNCiAgICAgIGFbMTldID09IDB4NDQgJiYNCiAgICAgIGFbMjBdID09IDB4NTUgJiYNCiAgICAgIGFbMjFdID09IDB4NjYgJiYNCiAgICAgIGFbMjJdID09IDB4NzcgJiYNCiAgICAgIGFbMjNdID09IDB4ODggJiYNCiAgICAgIGFbMjRdID09IDB4OTkgJiYNCiAgICAgIGFbMjVdID09IDB4YWEgJiYNCiAgICAgIGFbMjZdID09IDB4YmIgJiYNCiAgICAgIGFbMjddID09IDB4Y2MgJiYNCiAgICAgIGFbMjhdID09IDB4ZGQgJiYNCiAgICAgIGFbMjldID09IDB4ZWUgJiYNCiAgICAgIGFbMzBdID09IDB4ZmYgJiYNCiAgICAgIGFbMzFdID09IDB4MTIsDQogICAgKS50b0JlKHRydWUpOw0KICB9KTsNCn0pOw0KDQpkZXNjcmliZSgiQmFzaWMgT3BlcmF0aW9ucyIsICgpID0+IHsNCiAgaXQoIlNob3VsZCBudW1iZXIgaXMgemVybyAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTI1Ni5aZXJvOw0KICAgIGV4cGVjdChhLmlzWmVybygpKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBpcyB6ZXJvIDIiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Lk9uZTsNCiAgICBleHBlY3QoIWEuaXNaZXJvKCkpLnRvQmUodHJ1ZSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIGJpbmFyeSBub3QiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1NigxLCAyLCAzLCA0KTsNCiAgICBleHBlY3QofmEpLnRvU3RyaWN0RXF1YWwobmV3IHUyNTYofjEsIH4yLCB+MywgfjQpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBudW1iZXIgdW5hcnkgcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1NigxLCAyLCAzLCA0KTsNCiAgICBleHBlY3QoK2EpLnRvU3RyaWN0RXF1YWwoYSk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIHVuYXJ5IG5lZ2F0aXZlIHplcm8gZXF1YWwgdG8gemVybyIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuWmVybzsNCiAgICBleHBlY3QoLWEpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBudW1iZXIgdW5hcnkgbmVnYXRpdmUgb25lIGVxdWFsIHRvIG1heCIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuT25lOw0KICAgIGV4cGVjdCgtYSkudG9TdHJpY3RFcXVhbCh1MjU2Lk1heCk7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbnVtYmVyIHVuYXJ5IG5lZ2F0aXZlIG1heCBlcXVhbCB0byBvbmUiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Lk1heDsNCiAgICBleHBlY3QoLWEpLnRvU3RyaWN0RXF1YWwodTI1Ni5PbmUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciB1bmFyeSBuZWdhdGl2ZSBbbWF4LCAwLCBtYXgsIDBdIGVxdWFsIHRvIFsxLCBtYXgsIDAsIG1heF0iLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1Nih1NjQuTUFYX1ZBTFVFLCAwLCB1NjQuTUFYX1ZBTFVFLCAwKTsNCiAgICBleHBlY3QoLWEpLnRvU3RyaWN0RXF1YWwobmV3IHUyNTYoMSwgdTY0Lk1BWF9WQUxVRSwgMCwgdTY0Lk1BWF9WQUxVRSkpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBub24gZW1wdHkiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Lk9uZTsNCiAgICBleHBlY3QoISFhKS50b0JlKHRydWUpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG51bWJlciBpcyBlbXB0eSAxIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTI1Ni5aZXJvOw0KICAgIGV4cGVjdCghYSkudG9CZSh0cnVlKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBiaW5hcnkgb3IgbnVtYmVycyIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MjU2KDEsIDMsIDAsIDQpOw0KICAgIHZhciBiID0gbmV3IHUyNTYoMiwgNCwgMywgMyk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigxIHwgMiwgMyB8IDQsIDAgfCAzLCA0IHwgMyk7DQogICAgZXhwZWN0KGEgfCBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiIHwgYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBiaW5hcnkgeG9yIG51bWJlcnMiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1NigxLCAzLCAwLCA0KTsNCiAgICB2YXIgYiA9IG5ldyB1MjU2KDIsIDQsIDMsIDMpOw0KICAgIHZhciByID0gbmV3IHUyNTYoMSBeIDIsIDMgXiA0LCAwIF4gMywgNCBeIDMpOw0KICAgIGV4cGVjdChhIF4gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiBeIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgYmluYXJ5IGFuZCBudW1iZXJzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUyNTYoMSwgMywgMCwgNCk7DQogICAgdmFyIGIgPSBuZXcgdTI1NigyLCA0LCAzLCAzKTsNCiAgICB2YXIgciA9IG5ldyB1MjU2KDEgJiAyLCAzICYgNCwgMCAmIDMsIDQgJiAzKTsNCiAgICBleHBlY3QoYSAmIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgJiBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCBbMSwgMCwgMCwgMF0gYW5kIFttYXgsIDAsIDAsIDBdIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTI1Ni5PbmU7DQogICAgdmFyIGIgPSBuZXcgdTI1Nih1NjQuTUFYX1ZBTFVFLCAwLCAwLCAwKTsNCiAgICB2YXIgciA9IG5ldyB1MjU2KDAsIDEsIDAsIDApOw0KICAgIGV4cGVjdChhICsgYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiArIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgYWRkIFsxLCAwLCAwLCAwXSBhbmQgW21heCwgbWF4LCAwLCAwXSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuT25lOw0KICAgIHZhciBiID0gbmV3IHUyNTYodTY0Lk1BWF9WQUxVRSwgdTY0Lk1BWF9WQUxVRSwgMCwgMCk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigwLCAwLCAxLCAwKTsNCiAgICBleHBlY3QoYSArIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKyBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCBbMSwgMCwgMCwgMF0gYW5kIFttYXgsIG1heCwgbWF4LCAwXSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuT25lOw0KICAgIHZhciBiID0gbmV3IHUyNTYodTY0Lk1BWF9WQUxVRSwgdTY0Lk1BWF9WQUxVRSwgdTY0Lk1BWF9WQUxVRSwgMCk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigwLCAwLCAwLCAxKTsNCiAgICBleHBlY3QoYSArIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKyBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIGFkZCBbMSwgMSwgMSwgMV0gYW5kIFttYXggLSAxLCBtYXggLSAxLCBtYXggLSAxLCBtYXggLSAxXSIsICgpID0+IHsNCiAgICBjb25zdCBvbmU6IHU2NCA9IDE7DQogICAgY29uc3QgcHJlID0gdTY0Lk1BWF9WQUxVRSAtIDE7DQogICAgdmFyIGEgPSBuZXcgdTI1NihvbmUsIG9uZSwgb25lLCBvbmUpOw0KICAgIHZhciBiID0gbmV3IHUyNTYocHJlLCBwcmUsIHByZSwgcHJlKTsNCiAgICB2YXIgciA9IHUyNTYuTWF4Ow0KICAgIGV4cGVjdChhICsgYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiArIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3ViIG9uZSBtaW51cyBvbmUiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Lk9uZTsNCiAgICB2YXIgYiA9IGE7DQogICAgdmFyIHIgPSB1MjU2Llplcm87DQogICAgZXhwZWN0KGEgLSBiKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIHN1YiBbMiwgMiwgMiwgMl0gYW5kIFsxLCAxLCAxLCAxXSIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MjU2KDIsIDIsIDIsIDIpOw0KICAgIHZhciBiID0gbmV3IHUyNTYoMSwgMSwgMSwgMSk7DQogICAgdmFyIHIgPSBiOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWIgW21heCwgbWF4LCBtYXgsIG1heF0gYW5kIFsxLCAyLCAzLCA0XSIsICgpID0+IHsNCiAgICBjb25zdCBtYXggPSB1NjQuTUFYX1ZBTFVFOw0KICAgIHZhciBhID0gdTI1Ni5NYXg7DQogICAgdmFyIGIgPSBuZXcgdTI1NigxLCAyLCAzLCA0KTsNCiAgICB2YXIgciA9IG5ldyB1MjU2KG1heCAtIDEsIG1heCAtIDIsIG1heCAtIDMsIG1heCAtIDQpOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWIgWzAsIDAsIDAsIDBdIGFuZCBbMSwgMSwgMSwgMV0iLCAoKSA9PiB7DQogICAgY29uc3QgbWF4ID0gdTY0Lk1BWF9WQUxVRTsNCiAgICB2YXIgYSA9IHUyNTYuWmVybzsNCiAgICB2YXIgYiA9IG5ldyB1MjU2KDEsIDEsIDEsIDEpOw0KICAgIHZhciByID0gbmV3IHUyNTYobWF4LCBtYXggLSAxLCBtYXggLSAxLCBtYXggLSAxKTsNCiAgICBleHBlY3QoYSAtIGIpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgc3ViIFswLCAwLCAwLCAwXSBhbmQgW21heCwgbWF4LCBtYXgsIG1heF0iLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2Llplcm87DQogICAgdmFyIGIgPSB1MjU2Lk1heDsNCiAgICB2YXIgciA9IHUyNTYuT25lOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWIgW21heCwgbWF4LCBtYXgsIG1heF0gYW5kIFsxLCAwLCAwLCAwXSIsICgpID0+IHsNCiAgICBjb25zdCBtYXggPSB1NjQuTUFYX1ZBTFVFOw0KICAgIHZhciBhID0gdTI1Ni5NYXg7DQogICAgdmFyIGIgPSB1MjU2Lk9uZTsNCiAgICB2YXIgciA9IG5ldyB1MjU2KG1heCAtIDEsIG1heCwgbWF4LCBtYXgpOw0KICAgIGV4cGVjdChhIC0gYikudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBzdWIgWzEsIDIsIDMsIDRdIGFuZCBbbWF4IC0gMSwgbWF4IC0gMiwgbWF4IC0gMywgbWF4IC0gNF0iLCAoKSA9PiB7DQogICAgY29uc3QgbWF4ID0gdTY0Lk1BWF9WQUxVRTsNCiAgICB2YXIgYSA9IG5ldyB1MjU2KDEsIDIsIDMsIDQpOw0KICAgIHZhciBiID0gbmV3IHUyNTYobWF4IC0gMSwgbWF4IC0gMiwgbWF4IC0gMywgbWF4IC0gNCk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigzLCA0LCA2LCA4KTsNCiAgICBleHBlY3QoYSAtIGIpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsdGlwbHkgdHdvIHUyNTYgbnVtYmVycyIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuZnJvbSgzKTsNCiAgICB2YXIgYiA9IHUyNTYuZnJvbSgzKTsNCiAgICB2YXIgciA9IHUyNTYuZnJvbSg5KTsNCg0KICAgIGV4cGVjdChhICogYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiAqIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsdGlwbHkgdHdvIHUyNTYgbnVtYmVycyIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuZnJvbSg0MzU0NTQ1MzQ1Mik7DQogICAgdmFyIGIgPSB1MjU2LmZyb20oMjM1MzQ1NDM1NCk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigxMDI0ODUxNjY1NDk2NTk3MTkyOCwgNSk7DQoNCiAgICBleHBlY3QoYSAqIGIpLnRvU3RyaWN0RXF1YWwocik7DQogICAgZXhwZWN0KGIgKiBhKS50b1N0cmljdEVxdWFsKHIpOw0KICB9KTsNCg0KICBpdCgiU2hvdWxkIG11bHRpcGx5IHR3byB1MjU2IG51bWJlcnMgLSAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gdTI1Ni5mcm9tKDExKTsNCiAgICB2YXIgYiA9IG5ldyB1MjU2KDAsIDIpOw0KICAgIHZhciByID0gbmV3IHUyNTYoMCwgMjIpOw0KDQogICAgZXhwZWN0KGEgKiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICogYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB0d28gdTI1NiBudW1iZXJzIC0gMyIsICgpID0+IHsNCiAgICB2YXIgYSA9IG5ldyB1MjU2KDAsIDMpOw0KICAgIHZhciBiID0gbmV3IHUyNTYoMCwgMCwgMyk7DQogICAgdmFyIHIgPSBuZXcgdTI1NigwLCAwLCAwLCA5KTsNCg0KICAgIGV4cGVjdChhICogYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiAqIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsdGlwbHkgdHdvIHUyNTYgbnVtYmVycyAtIDQiLCAoKSA9PiB7DQogICAgdmFyIGEgPSB1MjU2LmZyb20obmV3IHUxMjgoMTQwODM4NDc3NzM4MzcyNjU2MTgsIDY2OTI2MDU5NDIpKTsNCiAgICB2YXIgYiA9IHUyNTYuZnJvbShuZXcgdTEyOCgxODQ0NDY2NTE0MTUyNzUxNDI4OSwgNTM1NDA4NDgwMikpOw0KICAgIHZhciByID0gbmV3IHUyNTYoDQogICAgICA1NjU5NjM5MjIyNTU2MzE2NDY2LA0KICAgICAgNDQ3NDcyMDMwOTc0ODQ2ODM5MSwNCiAgICAgIDE3Mzg2MDM1Njk2OTA3MTY3MjYyLA0KICAgICAgMSwNCiAgICApOw0KDQogICAgZXhwZWN0KGEgKiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICogYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB1MjU2IG51bWJlcnMgYnkgMSIsICgpID0+IHsNCiAgICB2YXIgYSA9IHUyNTYuTWF4Ow0KICAgIHZhciBiID0gdTI1Ni5PbmU7DQogICAgdmFyIHIgPSBhOw0KICAgIGV4cGVjdChhICogYikudG9TdHJpY3RFcXVhbChyKTsNCiAgICBleHBlY3QoYiAqIGEpLnRvU3RyaWN0RXF1YWwocik7DQogIH0pOw0KDQogIGl0KCJTaG91bGQgbXVsdGlwbHkgdTI1NiBudW1iZXJzIGJ5IDAiLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1Nig1NjU2NDY2LCA0NDc0Nzg0NjgzOTEsIDE3Mzg2OTA3MTY3MjYyLCAxKTsNCiAgICB2YXIgYiA9IHUyNTYuWmVybzsNCiAgICB2YXIgciA9IGI7DQogICAgZXhwZWN0KGEgKiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICogYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB0d28gdTI1NiBudW1iZXJzIHdpdGggb3ZlcmZsb3ciLCAoKSA9PiB7DQogICAgdmFyIGEgPSBuZXcgdTI1NigwLCAwLCAxKTsNCiAgICBleHBlY3QoYSAqIGEpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB0d28gdTI1NiBudW1iZXJzIHdpdGggb3ZlcmZsb3cgLSAyIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUyNTYoMSwgMCwgMSk7DQogICAgZXhwZWN0KGEgKiBhKS50b1N0cmljdEVxdWFsKG5ldyB1MjU2KDEsIDAsIDIpKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB0d28gdTI1NiBudW1iZXJzIHdpdGggb3ZlcmZsb3cgLSAzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUyNTYoNiwgMCwgMCwgNDIwKTsNCiAgICB2YXIgYiA9IG5ldyB1MjU2KDAsIDcsIDAsIDApOw0KICAgIHZhciByID0gbmV3IHUyNTYoMCwgNDIsIDAsIDApOw0KDQogICAgZXhwZWN0KGEgKiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICogYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgaXQoIlNob3VsZCBtdWx0aXBseSB0d28gdTI1NiBudW1iZXJzIHdpdGggb3ZlcmZsb3cgLSAzIiwgKCkgPT4gew0KICAgIHZhciBhID0gbmV3IHUyNTYoMiwgNjY2LCA2NjYsIDY2Nik7DQogICAgdmFyIGIgPSBuZXcgdTI1NigwLCAwLCAwLCAzKTsNCiAgICB2YXIgciA9IG5ldyB1MjU2KDAsIDAsIDAsIDYpOw0KDQogICAgZXhwZWN0KGEgKiBiKS50b1N0cmljdEVxdWFsKHIpOw0KICAgIGV4cGVjdChiICogYSkudG9TdHJpY3RFcXVhbChyKTsNCiAgfSk7DQoNCiAgLy8gcmlnaHQgc2hpZnQgdGVzdHMNCiAgZGVzY3JpYmUoIlJpZ2h0IFNoaWZ0IE9wZXJhdGlvbnMiLCAoKSA9PiB7DQogICAgaXQoIlNob3VsZCBzaGlmdCAwID4+IDEiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuWmVybzsNCiAgICAgIGV4cGVjdChhID4+IDEpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMCA+PiA2NCIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5aZXJvOw0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMSA+PiAxIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMSk7DQogICAgICAvLyBmaXhlZDowDQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuWmVybyk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEgPj4gNjQiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxKTsNCiAgICAgIC8vIGZpeGVkOjANCiAgICAgIGV4cGVjdChhID4+IDY0KS50b1N0cmljdEVxdWFsKHUyNTYuWmVybyk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEwID4+IDEiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMCk7DQogICAgICAvLyBmaXhlZDo1DQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbSg1KSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEwID4+IDY0IiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTApOw0KICAgICAgLy8gZml4ZWQ6MA0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMTAwID4+IDEiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMDApOw0KICAgICAgLy8gZml4ZWQ6NTANCiAgICAgIGV4cGVjdChhID4+IDEpLnRvU3RyaWN0RXF1YWwodTI1Ni5mcm9tKDUwKSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEwMCA+PiA2NCIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDEwMCk7DQogICAgICAvLyBmaXhlZDowDQogICAgICBleHBlY3QoYSA+PiA2NCkudG9TdHJpY3RFcXVhbCh1MjU2Llplcm8pOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBzaGlmdCAxMDAwID4+IDEiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMDAwKTsNCiAgICAgIC8vIGZpeGVkOjUwMA0KICAgICAgZXhwZWN0KGEgPj4gMSkudG9TdHJpY3RFcXVhbCh1MjU2LmZyb20oNTAwKSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEwMDAgPj4gNjQiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMDAwKTsNCiAgICAgIC8vIGZpeGVkOjANCiAgICAgIGV4cGVjdChhID4+IDY0KS50b1N0cmljdEVxdWFsKHUyNTYuWmVybyk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDEyMzQ1Njc4OTAgPj4gMSIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDEyMzQ1Njc4OTApOw0KICAgICAgLy8gZml4ZWQ6NjE3MjgzOTQ1DQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbSg2MTcyODM5NDUpKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMTIzNDU2Nzg5MCA+PiA2NCIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDEyMzQ1Njc4OTApOw0KICAgICAgLy8gZml4ZWQ6MA0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgNDI5NDk2NzI5NiA+PiAxIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oNDI5NDk2NzI5Nik7DQogICAgICAvLyBmaXhlZDoyMTQ3NDgzNjQ4DQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbSgyMTQ3NDgzNjQ4KSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDQyOTQ5NjcyOTYgPj4gNjQiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSg0Mjk0OTY3Mjk2KTsNCiAgICAgIC8vIGZpeGVkOjANCiAgICAgIGV4cGVjdChhID4+IDY0KS50b1N0cmljdEVxdWFsKHUyNTYuWmVybyk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDkyMjMzNzIwMzY4NTQ3NzU4MDggPj4gMSIsICgpID0+IHsNCiAgICAgIC8vIFRoaXMgZml0cyBpbiA2NCBiaXRzDQogICAgICBsZXQgYSA9IHUyNTYuZnJvbVU2NCg5MjIzMzcyMDM2ODU0Nzc1ODA4KTsNCiAgICAgIC8vIGZpeGVkOjQ2MTE2ODYwMTg0MjczODc5MDQNCiAgICAgIGV4cGVjdChhID4+IDEpLnRvU3RyaWN0RXF1YWwodTI1Ni5mcm9tVTY0KDQ2MTE2ODYwMTg0MjczODc5MDQpKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgOTIyMzM3MjAzNjg1NDc3NTgwOCA+PiA2NCIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tVTY0KDkyMjMzNzIwMzY4NTQ3NzU4MDgpOw0KICAgICAgLy8gZml4ZWQ6MA0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICB9KTsNCg0KICAgIC8vIEZvciB2YWx1ZXMgbGFyZ2VyIHRoYW4gNjQgYml0cywgdXNlIGZyb21TdHJpbmcgd2l0aCBhIGRlY2ltYWwgcmVwcmVzZW50YXRpb24uDQogICAgLy8gRXhhbXBsZTogMTg0NDY3NDQwNzM3MDk1NTE2MTYgKDJeNjQpIGRvZXMgbm90IGZpdCBpbiA2NCBiaXRzLCBzbyB3ZSBtdXN0IHVzZSBmcm9tU3RyaW5nLg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMTg0NDY3NDQwNzM3MDk1NTE2MTYgPj4gMSIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tU3RyaW5nKCIxODQ0Njc0NDA3MzcwOTU1MTYxNiIpOyAvLyAyXjY0DQogICAgICAvLyBmaXhlZDo5MjIzMzcyMDM2ODU0Nzc1ODA4DQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbVN0cmluZygiOTIyMzM3MjAzNjg1NDc3NTgwOCIpKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgMTg0NDY3NDQwNzM3MDk1NTE2MTYgPj4gNjQiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbVN0cmluZygiMTg0NDY3NDQwNzM3MDk1NTE2MTYiKTsgLy8gMl42NA0KICAgICAgLy8gZml4ZWQ6MQ0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5PbmUpOw0KICAgIH0pOw0KDQogICAgLy8gQW5vdGhlciBsYXJnZSB0ZXN0DQogICAgaXQoIlNob3VsZCBzaGlmdCAzNjg5MzQ4ODE0NzQxOTEwMzIzMiA+PiAxIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb21TdHJpbmcoIjM2ODkzNDg4MTQ3NDE5MTAzMjMyIik7IC8vIDJeNjUNCiAgICAgIC8vIGZpeGVkOjE4NDQ2NzQ0MDczNzA5NTUxNjE2DQogICAgICBleHBlY3QoYSA+PiAxKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbVN0cmluZygiMTg0NDY3NDQwNzM3MDk1NTE2MTYiKSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IDM2ODkzNDg4MTQ3NDE5MTAzMjMyID4+IDY0IiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb21TdHJpbmcoIjM2ODkzNDg4MTQ3NDE5MTAzMjMyIik7IC8vIDJeNjUNCiAgICAgIC8vIGZpeGVkOjINCiAgICAgIGV4cGVjdChhID4+IDY0KS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbSgyKSk7DQogICAgfSk7DQoNCiAgICAvLyBMYXJnZXIgc2hpZnRzDQogICAgaXQoIlNob3VsZCBzaGlmdCAxMjY3NjUwNjAwMjI4MjI5NDAxNDk2NzAzMjA1Mzc2ID4+IDY0IiwgKCkgPT4gew0KICAgICAgLy8gMTI2NzY1MDYwMDIyODIyOTQwMTQ5NjcwMzIwNTM3NiA9IDJeMTAwLCBhIHZlcnkgbGFyZ2UgbnVtYmVyDQogICAgICBsZXQgYSA9IHUyNTYuZnJvbVN0cmluZygiMTI2NzY1MDYwMDIyODIyOTQwMTQ5NjcwMzIwNTM3NiIpOw0KICAgICAgLy8gZml4ZWQ6IDY4NzE5NDc2NzM2ICgyXjM2KQ0KICAgICAgZXhwZWN0KGEgPj4gNjQpLnRvU3RyaWN0RXF1YWwodTI1Ni5mcm9tKDY4NzE5NDc2NzM2KSk7DQogICAgfSk7DQogIH0pOw0KDQogIGRlc2NyaWJlKCJBZGRpdGlvbmFsIFRlc3RzIGZvciBGdWxsIENvdmVyYWdlIiwgKCkgPT4gew0KICAgIGRlc2NyaWJlKCJmcm9tU3RyaW5nIFRlc3RzIiwgKCkgPT4gew0KICAgICAgaXQoIlNob3VsZCBwYXJzZSBhIHNtYWxsIGRlY2ltYWwgc3RyaW5nIiwgKCkgPT4gew0KICAgICAgICBleHBlY3QodTI1Ni5mcm9tU3RyaW5nKCIxMjMiKSkudG9TdHJpY3RFcXVhbCh1MjU2LmZyb20oMTIzKSk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBwYXJzZSBhIGxhcmdlIGRlY2ltYWwgc3RyaW5nIChqdXN0IGJlbG93IDJeNjQpIiwgKCkgPT4gew0KICAgICAgICAvLyAyXjY0IC0gMSA9IDE4NDQ2NzQ0MDczNzA5NTUxNjE1DQogICAgICAgIGxldCBkZWNTdHIgPSAiMTg0NDY3NDQwNzM3MDk1NTE2MTUiOw0KICAgICAgICBleHBlY3QodTI1Ni5mcm9tU3RyaW5nKGRlY1N0cikpLnRvU3RyaWN0RXF1YWwoDQogICAgICAgICAgdTI1Ni5mcm9tU3RyaW5nKCIxODQ0Njc0NDA3MzcwOTU1MTYxNSIsIDEwKSwNCiAgICAgICAgKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIHBhcnNlIHplcm8gZGVjaW1hbCBzdHJpbmciLCAoKSA9PiB7DQogICAgICAgIGV4cGVjdCh1MjU2LmZyb21TdHJpbmcoIjAiKSkudG9TdHJpY3RFcXVhbCh1MjU2Llplcm8pOw0KICAgICAgICBleHBlY3QodTI1Ni5mcm9tU3RyaW5nKCIwMDAwIikpLnRvU3RyaWN0RXF1YWwodTI1Ni5aZXJvKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIHBhcnNlIGEgbGFyZ2UgZGVjaW1hbCBzdHJpbmcgKGp1c3QgYmVsb3cgMl4xMjgpIiwgKCkgPT4gew0KICAgICAgICAvLyAyXjEyOCAtIDEgPSAzNDAyODIzNjY5MjA5Mzg0NjM0NjMzNzQ2MDc0MzE3NjgyMTE0NTUNCiAgICAgICAgbGV0IGRlY1N0ciA9ICIzNDAyODIzNjY5MjA5Mzg0NjM0NjMzNzQ2MDc0MzE3NjgyMTE0NTUiOw0KICAgICAgICBsZXQgdmFsID0gdTI1Ni5mcm9tU3RyaW5nKGRlY1N0cik7DQogICAgICAgIC8vIFRoaXMgaXMgdGhlIGxhcmdlc3QgMTI4LWJpdCBudW1iZXIsIGZpdHMgY29tZm9ydGFibHkgaW4gdTI1Ng0KICAgICAgICAvLyBKdXN0IGEgc2FuaXR5IGNoZWNrOiB2YWwgc2hvdWxkIG5vdCBiZSB6ZXJvDQogICAgICAgIGV4cGVjdCghdmFsLmlzWmVybygpKS50b0JlKHRydWUpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgcGFyc2UgYSBzbWFsbCBoZXggc3RyaW5nIiwgKCkgPT4gew0KICAgICAgICBleHBlY3QodTI1Ni5mcm9tU3RyaW5nKCJGRiIsIDE2KSkudG9TdHJpY3RFcXVhbCh1MjU2LmZyb20oMjU1KSk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBwYXJzZSBhIGxhcmdlIGhleCBzdHJpbmcgKHUyNTYgbWF4KSIsICgpID0+IHsNCiAgICAgICAgbGV0IG1heEhleCA9DQogICAgICAgICAgImZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYiOw0KICAgICAgICBleHBlY3QodTI1Ni5mcm9tU3RyaW5nKG1heEhleCwgMTYpKS50b1N0cmljdEVxdWFsKHUyNTYuTWF4KTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIGZhaWwgb24gaW52YWxpZCBkZWNpbWFsIGRpZ2l0IiwgKCkgPT4gew0KICAgICAgICBleHBlY3QoKCkgPT4gew0KICAgICAgICAgIHUyNTYuZnJvbVN0cmluZygiMTJhIik7DQogICAgICAgIH0pLnRvVGhyb3coIkludmFsaWQgZGVjaW1hbCBkaWdpdCIpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgZmFpbCBvbiBpbnZhbGlkIGhleCBkaWdpdCIsICgpID0+IHsNCiAgICAgICAgZXhwZWN0KCgpID0+IHsNCiAgICAgICAgICB1MjU2LmZyb21TdHJpbmcoIkciLCAxNik7DQogICAgICAgIH0pLnRvVGhyb3coIkludmFsaWQgaGV4YWRlY2ltYWwgZGlnaXQiKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAgZGVzY3JpYmUoIkNvbnZlcnNpb24gZnJvbSB2YXJpb3VzIHR5cGVzIiwgKCkgPT4gew0KICAgICAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gaTY0IG5lZ2F0aXZlIiwgKCkgPT4gew0KICAgICAgICBsZXQgdmFsID0gaTY0KC0xMjMpOw0KICAgICAgICBsZXQgdSA9IHUyNTYuZnJvbUk2NCh2YWwpOw0KICAgICAgICAvLyBzaWduLWV4dGVuZGVkOiBzaG91bGQgaGF2ZSBoaTIsIGhpMSwgbG8yID0gYWxsIG9uZXMgaWYgbmVnYXRpdmUNCiAgICAgICAgZXhwZWN0KHUuaGkyKS50b0JlKC0xKTsNCiAgICAgICAgZXhwZWN0KHUuaGkxKS50b0JlKC0xKTsNCiAgICAgICAgZXhwZWN0KHUubG8yKS50b0JlKC0xKTsNCiAgICAgICAgZXhwZWN0KHUubG8xKS50b0JlKDB4ZmZmZmZmZmZmZmZmZmY4NSk7IC8vIDIncyBjb21wbGVtZW50IG9mIC0xMjMNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBpNjQgcG9zaXRpdmUiLCAoKSA9PiB7DQogICAgICAgIGxldCB2YWwgPSBpNjQoMTIzKTsNCiAgICAgICAgbGV0IHUgPSB1MjU2LmZyb21JNjQodmFsKTsNCiAgICAgICAgZXhwZWN0KHUuaGkyKS50b0JlKDApOw0KICAgICAgICBleHBlY3QodS5oaTEpLnRvQmUoMCk7DQogICAgICAgIGV4cGVjdCh1LmxvMikudG9CZSgwKTsNCiAgICAgICAgZXhwZWN0KHUubG8xKS50b0JlKDEyMyk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gdTY0IiwgKCkgPT4gew0KICAgICAgICBsZXQgdmFsID0gPHU2ND45ODc2NTQzMjEwOw0KICAgICAgICBsZXQgdSA9IHUyNTYuZnJvbVU2NCh2YWwpOw0KICAgICAgICBleHBlY3QodS5sbzEpLnRvQmUoOTg3NjU0MzIxMCk7DQogICAgICAgIGV4cGVjdCh1LmlzWmVybygpKS50b0JlKGZhbHNlKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBpMzIgbmVnYXRpdmUiLCAoKSA9PiB7DQogICAgICAgIGxldCB2YWwgPSBpMzIoLTQyKTsNCiAgICAgICAgbGV0IHUgPSB1MjU2LmZyb21JMzIodmFsKTsNCiAgICAgICAgLy8gc2lnbi1leHRlbmRlZCBpMzIgc2hvdWxkIGZpbGwgYWxsIGhpZ2hlciBiaXRzDQogICAgICAgIGV4cGVjdCh1LmhpMikudG9CZSgtMSk7DQogICAgICAgIGV4cGVjdCh1LmhpMSkudG9CZSgtMSk7DQogICAgICAgIGV4cGVjdCh1LmxvMikudG9CZSgtMSk7DQogICAgICAgIC8vIGxvdyBwYXJ0IHNob3VsZCBiZSAyJ3MgY29tcGxlbWVudCBvZiA0MiBpbiA2NC1iaXQNCiAgICAgICAgZXhwZWN0KHUubG8xKS50b0JlKDB4ZmZmZmZmZmZmZmZmZmZkNik7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBjb252ZXJ0IGZyb20gdTMyIiwgKCkgPT4gew0KICAgICAgICBsZXQgdmFsID0gPHUzMj40MjsNCiAgICAgICAgbGV0IHUgPSB1MjU2LmZyb21VMzIodmFsKTsNCiAgICAgICAgZXhwZWN0KHUubG8xKS50b0JlKDQyKTsNCiAgICAgICAgZXhwZWN0KHUuaXNaZXJvKCkpLnRvQmUoZmFsc2UpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgY29udmVydCBmcm9tIGY2NCIsICgpID0+IHsNCiAgICAgICAgLy8gTm90ZTogVGhpcyBjb252ZXJzaW9uIGlzIGxpbWl0ZWQgYW5kIG5vdCBmdWxseSBhY2N1cmF0ZSBmb3IgbGFyZ2UgdmFsdWVzDQogICAgICAgIGxldCB2YWwgPSA8ZjY0PjEyMy4wOw0KICAgICAgICBsZXQgdSA9IHUyNTYuZnJvbUY2NCh2YWwpOw0KICAgICAgICBleHBlY3QodS5sbzEpLnRvQmUoMTIzKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIGNvbnZlcnQgZnJvbSBmMzIiLCAoKSA9PiB7DQogICAgICAgIGxldCB2YWwgPSA8ZjMyPjEyMy4wOw0KICAgICAgICBsZXQgdSA9IHUyNTYuZnJvbUYzMih2YWwpOw0KICAgICAgICBleHBlY3QodS5sbzEpLnRvQmUoMTIzKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAgZGVzY3JpYmUoIkNvbXBhcmlzb24gVGVzdHMiLCAoKSA9PiB7DQogICAgICBpdCgiU2hvdWxkIHRlc3QgZXEgYW5kIG5lIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMDApOw0KICAgICAgICBsZXQgYiA9IHUyNTYuZnJvbSgxMDApOw0KICAgICAgICBsZXQgYyA9IHUyNTYuZnJvbSgxMDEpOw0KICAgICAgICBleHBlY3QoYSA9PSBiKS50b0JlKHRydWUpOw0KICAgICAgICBleHBlY3QoYSAhPSBiKS50b0JlKGZhbHNlKTsNCiAgICAgICAgZXhwZWN0KGEgPT0gYykudG9CZShmYWxzZSk7DQogICAgICAgIGV4cGVjdChhICE9IGMpLnRvQmUodHJ1ZSk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCB0ZXN0IGx0IGFuZCBndCIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTAwMCk7DQogICAgICAgIGxldCBiID0gdTI1Ni5mcm9tKDk5OSk7DQogICAgICAgIGxldCBjID0gdTI1Ni5mcm9tKDEwMDApOw0KICAgICAgICBleHBlY3QoYSA+IGIpLnRvQmUodHJ1ZSk7DQogICAgICAgIGV4cGVjdChhIDwgYikudG9CZShmYWxzZSk7DQogICAgICAgIGV4cGVjdChhIDwgYykudG9CZShmYWxzZSk7DQogICAgICAgIGV4cGVjdChhID4gYykudG9CZShmYWxzZSk7DQogICAgICAgIGV4cGVjdChiIDwgYSkudG9CZSh0cnVlKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIHRlc3QgbGUgYW5kIGdlIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbSg1MDApOw0KICAgICAgICBsZXQgYiA9IHUyNTYuZnJvbSg1MDApOw0KICAgICAgICBsZXQgYyA9IHUyNTYuZnJvbSg1MDEpOw0KICAgICAgICBleHBlY3QoYSA8PSBiKS50b0JlKHRydWUpOw0KICAgICAgICBleHBlY3QoYSA+PSBiKS50b0JlKHRydWUpOw0KICAgICAgICBleHBlY3QoYSA8PSBjKS50b0JlKHRydWUpOw0KICAgICAgICBleHBlY3QoYSA+PSBjKS50b0JlKGZhbHNlKTsNCiAgICAgICAgZXhwZWN0KGMgPD0gYSkudG9CZShmYWxzZSk7DQogICAgICAgIGV4cGVjdChjID49IGEpLnRvQmUodHJ1ZSk7DQogICAgICB9KTsNCiAgICB9KTsNCg0KICAgIGRlc2NyaWJlKCJCaXQgQ291bnRpbmcgRnVuY3Rpb25zIiwgKCkgPT4gew0KICAgICAgaXQoIlNob3VsZCB0ZXN0IHBvcGNudCIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMGIxMDExKTsgLy8gcG9wY250ID0gMyBiaXRzIHNldA0KICAgICAgICBleHBlY3QodTI1Ni5wb3BjbnQoYSkpLnRvQmUoMyk7DQogICAgICAgIGxldCBiID0gdTI1Ni5NYXg7DQogICAgICAgIC8vIHBvcGNudCBvZiBtYXggaXMgMjU2IGJpdHMgc2V0DQogICAgICAgIGV4cGVjdCh1MjU2LnBvcGNudChiKSkudG9CZSgyNTYpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgdGVzdCBjbHoiLCAoKSA9PiB7DQogICAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDEpOw0KICAgICAgICAvLyBjbHogZm9yIGEgc2luZ2xlIDEgYml0IGF0IHRoZSBsb3dlc3QgcG9zaXRpb246IDI1NQ0KICAgICAgICBleHBlY3QodTI1Ni5jbHooYSkpLnRvQmUoMjU1KTsNCiAgICAgICAgbGV0IGIgPSB1MjU2Lk1heDsNCiAgICAgICAgLy8gY2x6IG9mIG1heCAoYWxsIGJpdHMgc2V0KSA9IDANCiAgICAgICAgZXhwZWN0KHUyNTYuY2x6KGIpKS50b0JlKDApOw0KICAgICAgICBsZXQgYyA9IHUyNTYuZnJvbVN0cmluZygiMTg0NDY3NDQwNzM3MDk1NTE2MTYiKTsgLy8gMl42NA0KICAgICAgICAvLyBjbHooMl42NCkgPSAyNTYgLSA2NSA9IDE5MSBzaW5jZSBoaWdoZXN0IGJpdCBpcyBhdCBwb3NpdGlvbiA2NCAoMC1iYXNlZCkNCiAgICAgICAgZXhwZWN0KHUyNTYuY2x6KGMpKS50b0JlKDE5MSk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCB0ZXN0IGN0eiIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTYpOyAvLyBiaW5hcnk6IDEwMDAwLCBjdHogPSA0DQogICAgICAgIGV4cGVjdCh1MjU2LmN0eihhKSkudG9CZSg0KTsNCiAgICAgICAgbGV0IGIgPSB1MjU2Lk1heDsNCiAgICAgICAgLy8gY3R6IG9mIG1heCAoYWxsIGJpdHMgc2V0KSA9IDANCiAgICAgICAgZXhwZWN0KHUyNTYuY3R6KGIpKS50b0JlKDApOw0KICAgICAgICBsZXQgYyA9IHUyNTYuZnJvbVN0cmluZygiMzY4OTM0ODgxNDc0MTkxMDMyMzIiKTsgLy8gMl42NQ0KICAgICAgICAvLyBjdHooMl42NSkgPSA2NQ0KICAgICAgICBleHBlY3QodTI1Ni5jdHooYykpLnRvQmUoNjUpOw0KICAgICAgfSk7DQogICAgfSk7DQoNCiAgICBkZXNjcmliZSgiQ29udmVyc2lvbiB0byBTbWFsbGVyIFR5cGVzIiwgKCkgPT4gew0KICAgICAgaXQoIlNob3VsZCBjb252ZXJ0IHRvVTY0ICh0cnVuY2F0ZSBoaWdoZXIgYml0cykiLCAoKSA9PiB7DQogICAgICAgIGxldCBhID0gdTI1Ni5mcm9tU3RyaW5nKCIxODQ0Njc0NDA3MzcwOTU1MTYxNiIpOyAvLyAyXjY0DQogICAgICAgIC8vIHRvVTY0IHRydW5jYXRlcyB0byBsb3dlciA2NCBiaXRzIC0+IDANCiAgICAgICAgZXhwZWN0KGEudG9VNjQoKSkudG9CZSgwKTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIGNvbnZlcnQgdG9JNjQiLCAoKSA9PiB7DQogICAgICAgIGxldCBhID0gdTI1Ni5mcm9tSTY0KC0xMjMpOw0KICAgICAgICAvLyB0b0k2NCByZXR1cm5zIHNpZ25lZCA2NC1iaXQgaW50ZWdlcg0KICAgICAgICAvLyBpZiB3ZSBzaWduLWV4dGVuZGVkIC0xMjMgcHJvcGVybHksIHRvSTY0IHNob3VsZCBiZSAtMTIzDQogICAgICAgIGV4cGVjdChhLnRvSTY0KCkpLnRvQmUoLTEyMyk7DQoNCiAgICAgICAgbGV0IGIgPSB1MjU2LmZyb20oMTIzKTsNCiAgICAgICAgZXhwZWN0KGIudG9JNjQoKSkudG9CZSgxMjMpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgY29udmVydCB0b1UzMiAodHJ1bmNhdGUgbG93ZXIgYml0cykiLCAoKSA9PiB7DQogICAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDB4ZmZmZmZmZmZmZmZmKTsgLy8gbGFyZ2UgbnVtYmVyDQogICAgICAgIC8vIFUzMiB0cnVuY2F0aW9uIHRha2VzIHRoZSBsb3dlciAzMiBiaXRzDQogICAgICAgIC8vIDB4RkZGRkZGRkZGRkZGICYgMHhGRkZGRkZGRiA9IDB4RkZGRkZGRkYgPSA0Mjk0OTY3Mjk1DQogICAgICAgIGV4cGVjdChhLnRvVTMyKCkpLnRvQmUoMHhmZmZmZmZmZik7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBjb252ZXJ0IHRvSTMyIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbUk2NCgtMSk7DQogICAgICAgIC8vIHRvSTMyIHNob3VsZCByZXR1cm4gLTENCiAgICAgICAgZXhwZWN0KGEudG9JMzIoKSkudG9CZSgtMSk7DQoNCiAgICAgICAgbGV0IGIgPSB1MjU2LmZyb20oMHhmZmZmZmZmZik7DQogICAgICAgIC8vIHNpZ25lZCAzMi1iaXQgaW50ZXJwcmV0YXRpb24gb2YgMHhGRkZGRkZGRiBpcyAtMQ0KICAgICAgICBleHBlY3QoYi50b0kzMigpKS50b0JlKC0xKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KDQogICAgZGVzY3JpYmUoIkluY3JlbWVudCBhbmQgRGVjcmVtZW50IiwgKCkgPT4gew0KICAgICAgaXQoIlNob3VsZCBwcmUtaW5jcmVtZW50IiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbSg5OSk7DQogICAgICAgICsrYTsNCiAgICAgICAgZXhwZWN0KGEudG9VNjQoKSkudG9CZSgxMDApOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgcHJlLWRlY3JlbWVudCIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTAwKTsNCiAgICAgICAgLS1hOw0KICAgICAgICBleHBlY3QoYS50b1U2NCgpKS50b0JlKDk5KTsNCiAgICAgIH0pOw0KDQogICAgICBpdCgiU2hvdWxkIHBvc3QtaW5jcmVtZW50IiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbSgyMDApOw0KICAgICAgICBsZXQgYiA9IGErKzsNCiAgICAgICAgZXhwZWN0KGIudG9VNjQoKSkudG9CZSgyMDApOw0KICAgICAgICBleHBlY3QoYS50b1U2NCgpKS50b0JlKDIwMSk7DQogICAgICB9KTsNCg0KICAgICAgaXQoIlNob3VsZCBwb3N0LWRlY3JlbWVudCIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMzAwKTsNCiAgICAgICAgbGV0IGIgPSBhLS07DQogICAgICAgIGV4cGVjdChiLnRvVTY0KCkpLnRvQmUoMzAwKTsNCiAgICAgICAgZXhwZWN0KGEudG9VNjQoKSkudG9CZSgyOTkpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgb3ZlcmZsb3cgb24gaW5jcmVtZW50aW5nIG1heCIsICgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2Lk1heDsNCiAgICAgICAgKythOyAvLyB3cmFwcyB0byB6ZXJvDQogICAgICAgIGV4cGVjdChhLmlzWmVybygpKS50b0JlKHRydWUpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgdW5kZXJmbG93IG9uIGRlY3JlbWVudGluZyB6ZXJvIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuWmVybzsNCiAgICAgICAgLS1hOyAvLyB3cmFwcyB0byBtYXgNCiAgICAgICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwodTI1Ni5NYXgpOw0KICAgICAgfSk7DQogICAgfSk7DQoNCiAgICBkZXNjcmliZSgiQWRkaXRpb25hbCBTaGlmdHMiLCAoKSA9PiB7DQogICAgICBpdCgiU2hvdWxkIHNoaWZ0IGEgbGFyZ2UgbnVtYmVyIGJ5IDEyNyBiaXRzIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuZnJvbVN0cmluZygiMTAwMDAwMDAwMDAwMDAwMDAwMDAwIik7IC8vIEp1c3QgYSBsYXJnZSBkZWMgbnVtYmVyDQogICAgICAgIGxldCBzaGlmdGVkID0gYSA+PiAxMjc7DQogICAgICAgIC8vIFNoaWZ0aW5nIGJ5IDEyNyBiaXRzIGlzIGFsbW9zdCBjbGVhcmluZyBvdXQgYWxsIGJpdHMsIGxpa2VseSB6ZXJvIHVubGVzcyB2ZXJ5IGxhcmdlDQogICAgICAgIC8vIEp1c3QgZW5zdXJlIGl0IGRvZXNuJ3QgY3Jhc2g6DQogICAgICAgIC8vIEZvciBzYW5pdHksIHdlIGtub3cgdGhhdCBzaGlmdGluZyBieSAxMjcgPiA2NCBtZWFucyBwb3NzaWJseSBqdXN0IHRvcCBiaXRzIHJlbWFpbi4NCiAgICAgICAgZXhwZWN0KHNoaWZ0ZWQudG9VNjQoKSkudG9CZUxlc3NUaGFuT3JFcXVhbChhLnRvVTY0KCkpOw0KICAgICAgfSk7DQoNCiAgICAgIGl0KCJTaG91bGQgc2hpZnQgbWF4IGJ5IDI1NSBiaXRzIiwgKCkgPT4gew0KICAgICAgICBsZXQgYSA9IHUyNTYuTWF4Ow0KICAgICAgICAvLyBzaGlmdGluZyBieSAyNTUgYml0cyBsZWF2ZXMgb25seSB0aGUgdG9wbW9zdCBiaXQgaWYgYW55DQogICAgICAgIGxldCBzaGlmdGVkID0gYSA+PiAyNTU7DQogICAgICAgIC8vIEZvciB1MjU2Lk1heCwgc2hpZnRpbmcgcmlnaHQgYnkgMjU1IGxlYXZlcyAxDQogICAgICAgIGV4cGVjdChzaGlmdGVkKS50b1N0cmljdEVxdWFsKHUyNTYuT25lKTsNCiAgICAgIH0pOw0KICAgIH0pOw0KICB9KTsNCg0KICBkZXNjcmliZSgiUG90ZW50aWFsIEV4cGxvaXRzIGFuZCBWdWxuZXJhYmlsaXRpZXMiLCAoKSA9PiB7DQogICAgLy8gZnJvbVN0cmluZyB2dWxuZXJhYmlsaXRpZXMNCiAgICBpdCgiU2hvdWxkIHRocm93IHdpdGggdW5zdXBwb3J0ZWQgcmFkaXgiLCAoKSA9PiB7DQogICAgICBleHBlY3QoKCkgPT4gew0KICAgICAgICB1MjU2LmZyb21TdHJpbmcoIjEyMyIsIDgpOyAvLyBvbmx5IDEwIG9yIDE2IGFyZSBhbGxvd2VkDQogICAgICB9KS50b1Rocm93KCJyYWRpeCBtdXN0IGJlIDEwIG9yIDE2Iik7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHRocm93IHdpdGggaW52YWxpZCBkZWNpbWFsIGlucHV0IChub3QgYSBkaWdpdCkiLCAoKSA9PiB7DQogICAgICBleHBlY3QoKCkgPT4gew0KICAgICAgICB1MjU2LmZyb21TdHJpbmcoIjEyeCIsIDEwKTsNCiAgICAgIH0pLnRvVGhyb3coIkludmFsaWQgZGVjaW1hbCBkaWdpdCIpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCB0aHJvdyB3aXRoIGludmFsaWQgaGV4IGlucHV0IChpbnZhbGlkIGhleCBjaGFyKSIsICgpID0+IHsNCiAgICAgIGV4cGVjdCgoKSA9PiB7DQogICAgICAgIHUyNTYuZnJvbVN0cmluZygiZzEiLCAxNik7DQogICAgICB9KS50b1Rocm93KCJJbnZhbGlkIGhleGFkZWNpbWFsIGRpZ2l0Iik7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIGhhbmRsZSBleHRyZW1lbHkgbGFyZ2UgZGVjaW1hbCBpbnB1dCB3aXRob3V0IGNyYXNoaW5nIiwgKCkgPT4gew0KICAgICAgLy8gVGhpcyBzdHJpbmcgcmVwcmVzZW50cyBhIHZlcnkgbGFyZ2UgZGVjaW1hbCBudW1iZXIgKG11Y2ggbGFyZ2VyIHRoYW4gMl4yNTYpDQogICAgICBsZXQgbGFyZ2VTdHIgPSAiOSIucmVwZWF0KDUwMCk7IC8vIDUwMC1kaWdpdCBudW1iZXINCiAgICAgIGxldCB2YWwgPSB1MjU2LmZyb21TdHJpbmcobGFyZ2VTdHIsIDEwKTsNCiAgICAgIC8vIENoZWNrIHRoYXQgaXQgZG9lc24ndCBjcmFzaCBvciBoYW5nLiBSZXN1bHQgc2hvdWxkIGJlIGEgdmFsaWQgbnVtYmVyICh0cnVuY2F0ZWQgbW9kIDJeMjU2KS4NCiAgICAgIGV4cGVjdCh2YWwpLnRvQmVUcnV0aHkoKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgaGFuZGxlIGV4dHJlbWVseSBsYXJnZSBoZXggaW5wdXQgd2l0aG91dCBjcmFzaGluZyIsICgpID0+IHsNCiAgICAgIC8vIFZlcnkgbGFyZ2UgaGV4IHN0cmluZw0KICAgICAgbGV0IGxhcmdlSGV4ID0gImYiLnJlcGVhdCg1MTIpOyAvLyA1MTIgaGV4IGNoYXJzID0gMjA0OCBiaXRzLCBzdGlsbCBqdXN0IHRydW5jYXRlZA0KICAgICAgbGV0IHZhbCA9IHUyNTYuZnJvbVN0cmluZyhsYXJnZUhleCwgMTYpOw0KICAgICAgZXhwZWN0KHZhbCkudG9CZVRydXRoeSgpOw0KICAgIH0pOw0KDQogICAgLy8gSW5jcmVtZW50L0RlY3JlbWVudCB2dWxuZXJhYmlsaXRpZXMNCiAgICBpdCgiU2hvdWxkIG92ZXJmbG93IGluY3JlbWVudCB1MjU2Lk1heCB3aXRob3V0IGNyYXNoaW5nIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2Lk1heDsNCiAgICAgICsrYTsNCiAgICAgIC8vIFNob3VsZCB3cmFwIHRvIHplcm8NCiAgICAgIGV4cGVjdChhLmlzWmVybygpKS50b0JlKHRydWUpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCB1bmRlcmZsb3cgZGVjcmVtZW50IHUyNTYuWmVybyB3aXRob3V0IGNyYXNoaW5nIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2Llplcm87DQogICAgICAtLWE7DQogICAgICAvLyBTaG91bGQgd3JhcCB0byB1MjU2Lk1heA0KICAgICAgZXhwZWN0KGEpLnRvU3RyaWN0RXF1YWwodTI1Ni5NYXgpOw0KICAgIH0pOw0KDQogICAgLy8gU2lnbmVkIGNvbnZlcnNpb24gdnVsbmVyYWJpbGl0aWVzDQogICAgaXQoIlNob3VsZCBjb3JyZWN0bHkgc2lnbi1leHRlbmQgbGFyZ2UgbmVnYXRpdmUgaTY0IiwgKCkgPT4gew0KICAgICAgLy8gRm9yIGV4YW1wbGUsIC0xIGluIGk2NCBzaG91bGQgYmVjb21lIGEgZnVsbHkgc2lnbi1leHRlbmRlZCB1MjU2DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbUk2NCgtMSk7DQogICAgICAvLyBDaGVjayB0b3Agd29yZHMgYWxsIC0xIGFuZCBsbzEgPSAweEZGRkZGRkZGRkZGRkZGRkYNCiAgICAgIGV4cGVjdChhLmhpMikudG9CZSg8dTY0Pi0xKTsNCiAgICAgIGV4cGVjdChhLmhpMSkudG9CZSg8dTY0Pi0xKTsNCiAgICAgIGV4cGVjdChhLmxvMikudG9CZSg8dTY0Pi0xKTsNCiAgICAgIGV4cGVjdChhLmxvMSkudG9CZSg8dTY0Pi0xKTsNCiAgICB9KTsNCg0KICAgIC8vIEVuc3VyZSBubyBpbmZpbml0ZSBsb29wcyBvciBzbG93ZG93bnMNCiAgICBpdCgiU2hvdWxkIG5vdCBoYW5nIG9yIGJlY29tZSBzbG93IG9uIGxhcmdlIGZyb21TdHJpbmcgaW5wdXQiLCAoKSA9PiB7DQogICAgICAvLyBWZXJ5IGxhcmdlIGRlY2ltYWwgc3RyaW5nDQogICAgICBsZXQgZ2lhbnRTdHIgPSAiMSIgKyAiMCIucmVwZWF0KDEwMDAwKTsgLy8gYSAxIGZvbGxvd2VkIGJ5IDEwLDAwMCB6ZXJvcw0KICAgICAgbGV0IHZhbCA9IHUyNTYuZnJvbVN0cmluZyhnaWFudFN0ciwgMTApOw0KICAgICAgLy8gQWxzbyB2ZXJpZnkgYSB2YWxpZCByZXN1bHQNCiAgICAgIGV4cGVjdCh2YWwpLnRvQmVUcnV0aHkoKTsNCiAgICB9KTsNCiAgfSk7DQoNCiAgZGVzY3JpYmUoIkRpdmlzaW9uIChkaXYpIFRlc3RzIiwgKCkgPT4gew0KICAgIGl0KCJTaG91bGQgZGl2aWRlIGJ5IDEgYW5kIHJldHVybiB0aGUgc2FtZSBudW1iZXIiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMjM0NTY3ODkpOw0KICAgICAgZXhwZWN0KGEgLyB1MjU2Lk9uZSkudG9TdHJpY3RFcXVhbChhKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgZGl2aWRlIHplcm8gYnkgYW55IG5vbi16ZXJvIG51bWJlciBhbmQgcmV0dXJuIHplcm8iLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuWmVybzsNCiAgICAgIGxldCBiID0gdTI1Ni5mcm9tKDEwKTsNCiAgICAgIGV4cGVjdChhIC8gYikudG9TdHJpY3RFcXVhbCh1MjU2Llplcm8pOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBkaXZpZGUgc21hbGxlciBudW1iZXIgYnkgbGFyZ2VyIG9uZSBhbmQgcmV0dXJuIHplcm8iLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuZnJvbSgxMCk7DQogICAgICBsZXQgYiA9IHUyNTYuZnJvbSgxMDAwKTsNCiAgICAgIGV4cGVjdChhIC8gYikudG9TdHJpY3RFcXVhbCh1MjU2Llplcm8pOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBkaXZpZGUgZXF1YWwgbnVtYmVycyBhbmQgcmV0dXJuIDEiLCAoKSA9PiB7DQogICAgICBsZXQgdmFsID0gdTI1Ni5mcm9tKDk5OTk5OSk7DQogICAgICBleHBlY3QodmFsIC8gdmFsKS50b1N0cmljdEVxdWFsKHUyNTYuT25lKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgZGl2aWRlIG1heCBieSB0d28iLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuTWF4Ow0KICAgICAgLy8gbWF4ID4+IDEgc2hvdWxkIGVxdWFsIG1heC8yIGZvciBhbiB1bnNpZ25lZCBudW1iZXINCiAgICAgIGxldCBoYWxmID0gYSA+PiAxOw0KICAgICAgZXhwZWN0KGEgLyB1MjU2LmZyb20oMikpLnRvU3RyaWN0RXF1YWwoaGFsZik7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIGRpdmlkZSBhIGxhcmdlIG51bWJlciBieSBhIHNtYWxsZXIgb25lIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb21TdHJpbmcoDQogICAgICAgICIxMTU3OTIwODkyMzczMTYxOTU0MjM1NzA5ODUwMDg2ODc5MDc4NTMyNjk5ODQ2NjU2NDA1NjQwMzk0NTc1ODQwMDc5MTMxMjk2Mzk5MzUiLA0KICAgICAgKTsNCiAgICAgIC8vIGEgPSB1MjU2Lk1heA0KICAgICAgbGV0IGIgPSB1MjU2LmZyb21TdHJpbmcoIjEwMDAwMDAwMDAwMDAwMDAwMDAwMCIpOyAvLyBBIGxhcmdlIGRlY2ltYWwgbnVtYmVyDQogICAgICBsZXQgcmVzdWx0ID0gYSAvIGI7DQogICAgICAvLyBKdXN0IGNoZWNrIHRoYXQgaXQgZG9lc24ndCBjcmFzaCBhbmQgcmV0dXJucyBzb21ldGhpbmcgbm9uLXplcm8NCiAgICAgIGV4cGVjdCghcmVzdWx0LmlzWmVybygpKS50b0JlKHRydWUpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCB0aHJvdyBvbiBkaXZpc2lvbiBieSB6ZXJvIiwgKCkgPT4gew0KICAgICAgZXhwZWN0KCgpID0+IHsNCiAgICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTApOw0KICAgICAgICBsZXQgYiA9IHUyNTYuWmVybzsNCg0KICAgICAgICBsZXQgYyA9IGEgLyBiOw0KICAgICAgfSkudG9UaHJvdygiRGl2aXNpb24gYnkgemVybyIpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBkaXZpZGUgcmFuZG9tIG51bWJlcnMgY29ycmVjdGx5IiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oNTAwMCk7DQogICAgICBsZXQgYiA9IHUyNTYuZnJvbSg1MCk7DQogICAgICBleHBlY3QoYSAvIGIpLnRvU3RyaWN0RXF1YWwodTI1Ni5mcm9tKDEwMCkpOw0KDQogICAgICBsZXQgYyA9IHUyNTYuZnJvbSgxMDAwMDAwKTsNCiAgICAgIGxldCBkID0gdTI1Ni5mcm9tKDEwMDApOw0KICAgICAgZXhwZWN0KGMgLyBkKS50b1N0cmljdEVxdWFsKHUyNTYuZnJvbSgxMDAwKSk7DQogICAgfSk7DQogIH0pOw0KDQogIGRlc2NyaWJlKCJTaGlmdCBMZWZ0IChzaGwpIFRlc3RzIiwgKCkgPT4gew0KICAgIGl0KCJTaG91bGQgc2hpZnQgYnkgMCBiaXRzIGFuZCByZXR1cm4gdGhlIHNhbWUgbnVtYmVyIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMTIzNDU2KTsNCiAgICAgIGV4cGVjdChhIDw8IDApLnRvU3RyaWN0RXF1YWwoYSk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IGJ5IDEgYml0IGFuZCBkb3VibGUgdGhlIG51bWJlciIsICgpID0+IHsNCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDUwKTsNCiAgICAgIGV4cGVjdChhIDw8IDEpLnRvU3RyaWN0RXF1YWwodTI1Ni5mcm9tKDEwMCkpOw0KICAgIH0pOw0KDQogICAgaXQoIlNob3VsZCBzaGlmdCBieSA2MyBiaXRzIGFuZCBwbGFjZSBsb3dlciBiaXRzIGF0IHRvcCBvZiBsbzIiLCAoKSA9PiB7DQogICAgICAvLyBzaGlmdGluZyBieSA2MyBiaXRzIGFsbW9zdCBtb3ZlcyBsbzEgZW50aXJlbHkgaW50byBsbzINCiAgICAgIGxldCBhID0gdTI1Ni5mcm9tKDEpOw0KICAgICAgbGV0IHNoaWZ0ZWQgPSBhIDw8IDYzOw0KICAgICAgLy8gQWZ0ZXIgc2hpZnRpbmcgYnkgNjMsIHRoZSBzaW5nbGUgYml0IGlzIG5vdyBhdCBwb3NpdGlvbiA2MyBpbiBsbzIuDQogICAgICAvLyBUaGF0IG1lYW5zIGxvMiBzaG91bGQgaGF2ZSBiaXQgNjMgc2V0LCB3aGljaCBpcyAoMSA8PCA2MykuDQogICAgICBleHBlY3Qoc2hpZnRlZC5sbzEpLnRvQmUoOTIyMzM3MjAzNjg1NDc3NTgwOCk7DQogICAgICBleHBlY3Qoc2hpZnRlZC5sbzIpLnRvQmUoMCk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIHNoaWZ0IGJ5IDY0IGJpdHMgYW5kIG1vdmUgbG8xIGVudGlyZWx5IGludG8gbG8yIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb20oMHgxMjM0NTY3OCk7DQogICAgICBsZXQgc2hpZnRlZCA9IGEgPDwgNjQ7DQogICAgICAvLyBUaGUgb3JpZ2luYWwgbG8xIG1vdmVzIGludG8gbG8yDQogICAgICBleHBlY3Qoc2hpZnRlZC5sbzEpLnRvQmUoMCk7DQogICAgICBleHBlY3Qoc2hpZnRlZC5sbzIpLnRvQmUoMHgxMjM0NTY3OCk7DQogICAgICBleHBlY3Qoc2hpZnRlZC5oaTEpLnRvQmUoMCk7DQogICAgICBleHBlY3Qoc2hpZnRlZC5oaTIpLnRvQmUoMCk7DQogICAgfSk7DQoNCiAgICBpdCgiU2hvdWxkIGhhbmRsZSBsYXJnZSBzaGlmdHMgbGVzcyB0aGFuIDI1NiBhbmQgbm90IGNyYXNoIiwgKCkgPT4gew0KICAgICAgbGV0IGEgPSB1MjU2LmZyb21TdHJpbmcoIjEwMDAwMDAwMDAwMDAwMDAwMDAwMCIpOw0KICAgICAgLy8gc2hpZnQgYnkgMjAwIGJpdHMgKGp1c3QgYSByYW5kb20gbGFyZ2Ugc2hpZnQgdW5kZXIgMjU2KQ0KICAgICAgbGV0IHNoaWZ0ZWQgPSBhIDw8IDIwMDsNCiAgICAgIC8vIEp1c3QgZW5zdXJlIGl0IGRvZXNuJ3QgY3Jhc2ggYW5kIHJldHVybnMgYSB2YWxpZCBudW1iZXINCiAgICAgIGV4cGVjdChzaGlmdGVkKS50b0JlVHJ1dGh5KCk7DQogICAgICAvLyBUaGUgbnVtYmVyIHNob3VsZCBiZSBodWdlLCBidXQgbm90IHplcm8gc2luY2Ugd2UgZGlkbid0IGV4Y2VlZCAyNTUgYml0cyBzaGlmdC4NCiAgICAgIGV4cGVjdCghc2hpZnRlZC5pc1plcm8oKSkudG9CZSh0cnVlKTsNCiAgICB9KTsNCg0KICAgIGl0KCJTaG91bGQgc2hpZnQgbWF4IGJ5IDEgYW5kIGRpc2NhcmQgdGhlIHRvcCBiaXQiLCAoKSA9PiB7DQogICAgICBsZXQgYSA9IHUyNTYuTWF4Ow0KICAgICAgLy8gc2hpZnRpbmcgbWF4IGJ5IDEgd2lsbCBvdmVyZmxvdyBhbmQgbG9zZSB0aGUgaGlnaGVzdCBiaXQNCiAgICAgIGxldCBzaGlmdGVkID0gYSA8PCAxOw0KICAgICAgLy8gVGhlIGhpZ2hlc3QgYml0IHNldCB3b3VsZCBvdmVyZmxvdywgYnV0IHdlIGp1c3QgY2hlY2sgaXQncyBub3QgZXF1YWwgdG8gbWF4DQogICAgICBleHBlY3Qoc2hpZnRlZCkubm90LnRvU3RyaWN0RXF1YWwoYSk7DQogICAgICBleHBlY3QoIXNoaWZ0ZWQuaXNaZXJvKCkpLnRvQmUodHJ1ZSk7DQogICAgfSk7DQogIH0pOw0KDQogIGRlc2NyaWJlKCJTaGlmdCBMZWZ0IChzaGwpIFRlc3RzIGZvciBhbGwgc2hpZnRzIDAgdG8gMjU1IiwgKCkgPT4gew0KICAgIGl0KCJTaG91bGQgaGFuZGxlIHNoaWZ0aW5nIGEga25vd24gcGF0dGVybiBieSBlYWNoIHNoaWZ0IGFtb3VudCBmcm9tIDAgdG8gMjU1IiwgKCkgPT4gew0KICAgICAgLy8gV2UnbGwgcGljayBhIG51bWJlciB3aXRoIGEga25vd24gcGF0dGVybjoNCiAgICAgIC8vIEZvciBleGFtcGxlOiAweDAwMDBfRkZGRl8wMDAwX0ZGRkYgKGEgcGF0dGVybiB0aGF0IG1ha2VzIGl0IGVhc3kgdG8gdHJhY2spDQogICAgICAvLyBpbiB1MjU2IGl0IHdvdWxkIGJlOg0KICAgICAgbGV0IHBhdHRlcm4gPSBuZXcgdTI1NigweDAwMDBmZmZmMDAwMGZmZmYsIDB4MDAwMGZmZmYwMDAwZmZmZik7DQoNCiAgICAgIC8vIFNoaWZ0aW5nIGJ5IDAgc2hvdWxkIHJldHVybiB0aGUgc2FtZSBwYXR0ZXJuDQogICAgICBleHBlY3QocGF0dGVybiA8PCAwKS50b1N0cmljdEVxdWFsKHBhdHRlcm4pOw0KDQogICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAyNTU7IGkrKykgew0KICAgICAgICBsZXQgc2hpZnRlZCA9IHBhdHRlcm4gPDwgaTsNCiAgICAgICAgLy8gSnVzdCBlbnN1cmUgaXQgZG9lc24ndCBjcmFzaCBhbmQgcmV0dXJucyBzb21ldGhpbmcNCiAgICAgICAgZXhwZWN0KHNoaWZ0ZWQpLnRvQmVUcnV0aHkoKTsNCg0KICAgICAgICAvLyBGb3IgY2VydGFpbiBzaGlmdHMsIHdlIGNhbiBkbyBzYW5pdHkgY2hlY2tzOg0KICAgICAgICAvLyAtIEZvciBzaGlmdHMgPCA2NCwgd2UgZXhwZWN0IHRoZSBsb3dlciBwYXJ0cyB0byBqdXN0IG1vdmUgbGVmdA0KICAgICAgICAvLyAtIEZvciBzaGlmdHMgPj0gMjU2LCByZXN1bHQgc2hvdWxkIGJlIHplcm8sIGJ1dCB3ZSBuZXZlciByZWFjaCAyNTYgaW4gdGhpcyBsb29wDQogICAgICAgIGlmIChpID49IDI1Nikgew0KICAgICAgICAgIC8vIE5vdCByZWFjaGVkLCBqdXN0IGEgcGxhY2Vob2xkZXIgaWYgbG9naWMgY2hhbmdlcw0KICAgICAgICAgIGV4cGVjdChzaGlmdGVkLmlzWmVybygpKS50b0JlKHRydWUpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8vIEZvciBpIDwgMjU2LCB0aGUgcmVzdWx0IG1pZ2h0IG5vdCBiZSB6ZXJvLCBidXQgbGV0J3MgZW5zdXJlIG5vIGNyYXNoLg0KICAgICAgICAgIC8vIE9wdGlvbmFsbHksIGFkZCBtb3JlIGFzc2VydGlvbnMgaWYgZGVzaXJlZC4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0pOw0KICB9KTsNCn0pOw0K",
  "node_modules/@btc-vision/as-bignum/assembly/__tests__/utils.ts": "ZXhwb3J0IGZ1bmN0aW9uIGFycmF5VG9VaW50OEFycmF5KGFycjogdThbXSk6IFVpbnQ4QXJyYXkgew0KICBsZXQgbGVuID0gYXJyLmxlbmd0aDsNCiAgbGV0IHJlcyA9IG5ldyBVaW50OEFycmF5KGxlbik7DQogIG1lbW9yeS5jb3B5KHJlcy5kYXRhU3RhcnQsIGFyci5kYXRhU3RhcnQsIGxlbik7DQogIHJldHVybiByZXM7DQp9DQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/abort/abort.ts": "aW1wb3J0IHsgRGF0YVZpZXcgfSBmcm9tICdkYXRhdmlldyc7CmltcG9ydCB7IEFycmF5QnVmZmVyIH0gZnJvbSAnYXJyYXlidWZmZXInOwppbXBvcnQgeyBlbnZfZXhpdCB9IGZyb20gJy4uL2Vudi9nbG9iYWwnOwoKZXhwb3J0IGZ1bmN0aW9uIHJldmVydE9uRXJyb3IobWVzc2FnZTogc3RyaW5nLCBmaWxlTmFtZTogc3RyaW5nLCBsaW5lOiB1MzIsIGNvbHVtbjogdTMyKTogdm9pZCB7CiAgICBjb25zdCBzZWxlY3RvciA9IDB4NjM3MzlkNWM7IC8vIEVycm9yKHN0cmluZykKCiAgICBjb25zdCByZXZlcnRNZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgJHtmaWxlTmFtZX06JHtsaW5lfToke2NvbHVtbn1gOwoKICAgIC8vIFRISVMgTUlHSFQgT1ZFUkZMT1csIElUJ1MgT0suCiAgICBjb25zdCBsZW5ndGggPSB1MTYocmV2ZXJ0TWVzc2FnZS5sZW5ndGgpOwogICAgY29uc3QgX2xlbmd0aF9pMzIgPSBpMzIobGVuZ3RoKTsKCiAgICBjb25zdCBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig0ICsgX2xlbmd0aF9pMzIgKyAyKTsKICAgIGNvbnN0IHdyaXRlciA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7CgogICAgd3JpdGVyLnNldFVpbnQzMigwLCBzZWxlY3RvciwgZmFsc2UpOwogICAgd3JpdGVyLnNldFVpbnQxNig0LCBsZW5ndGgsIGZhbHNlKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9sZW5ndGhfaTMyOyBpKyspIHsKICAgICAgICB3cml0ZXIuc2V0VWludDgoNiArIGksIDx1OD5yZXZlcnRNZXNzYWdlLmNoYXJDb2RlQXQoaSkpOwogICAgfQoKICAgIGVudl9leGl0KDEsIGFycmF5QnVmZmVyLCBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTsKfQ==",
  "node_modules/@btc-vision/btc-runtime/runtime/buffer/BytesReader.ts": "aW1wb3J0IHsgaTEyOCwgdTEyOCwgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IFRyYW5zYWN0aW9uSW5wdXQsIFRyYW5zYWN0aW9uT3V0cHV0IH0gZnJvbSAnLi4vZW52L2NsYXNzZXMvVVRYTyc7CmltcG9ydCB7IEFkZHJlc3NNYXAgfSBmcm9tICcuLi9nZW5lcmljL0FkZHJlc3NNYXAnOwppbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgewogICAgQUREUkVTU19CWVRFX0xFTkdUSCwKICAgIEkxMjhfQllURV9MRU5HVEgsCiAgICBJNjRfQllURV9MRU5HVEgsCiAgICBVMTI4X0JZVEVfTEVOR1RILAogICAgVTE2X0JZVEVfTEVOR1RILAogICAgVTI1Nl9CWVRFX0xFTkdUSCwKICAgIFUzMl9CWVRFX0xFTkdUSCwKICAgIFU2NF9CWVRFX0xFTkdUSCwKICAgIFU4X0JZVEVfTEVOR1RILAp9IGZyb20gJy4uL3V0aWxzJzsKaW1wb3J0IHsgc2l6ZW9mIH0gZnJvbSAnYnVpbHRpbnMnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBCeXRlc1JlYWRlciB7CiAgICBwcml2YXRlIHJlYWRvbmx5IGJ1ZmZlcjogRGF0YVZpZXc7CiAgICBwcml2YXRlIGN1cnJlbnRPZmZzZXQ6IGkzMiA9IDA7CgogICAgY29uc3RydWN0b3IoYnl0ZXM6IFVpbnQ4QXJyYXkpIHsKICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBEYXRhVmlldyhieXRlcy5idWZmZXIpOwogICAgfQoKICAgIHB1YmxpYyBnZXQgYnl0ZUxlbmd0aCgpOiBpMzIgewogICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoOwogICAgfQoKICAgIHB1YmxpYyByZWFkPFQ+KCk6IFQgewogICAgICAgIGNvbnN0IGlkID0gaWRvZjxUPigpOwoKICAgICAgICBpZiAoaXNCb29sZWFuPFQ+KCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJvb2xlYW4oKSBhcyBUOwogICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmc8VD4oKSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkU3RyaW5nV2l0aExlbmd0aCgpIGFzIFQ7CiAgICAgICAgfSBlbHNlIGlmIChpc0ludGVnZXI8VD4oKSkgewogICAgICAgICAgICBpZiAoaXNTaWduZWQ8VD4oKSkgewogICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHNpemVvZjxUPigpOwoKICAgICAgICAgICAgICAgIHN3aXRjaCAoc2l6ZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFU4KCkgYXMgVDsKICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkSTE2KCkgYXMgVDsKICAgICAgICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkSTMyKCkgYXMgVDsKICAgICAgICAgICAgICAgICAgICBjYXNlIDY0OgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkSTY0KCkgYXMgVDsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2l6ZSAke3NpemV9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gc2l6ZW9mPFQ+KCk7CgogICAgICAgICAgICAgICAgc3dpdGNoIChzaXplKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkVTgoKSBhcyBUOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMTYoKSBhcyBUOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMzIoKSBhcyBUOwogICAgICAgICAgICAgICAgICAgIGNhc2UgNjQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVNjQoKSBhcyBUOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaXplICR7c2l6ZX1gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IGlkb2Y8dTI1Nj4oKSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkVTI1NigpIGFzIFQ7CiAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gaWRvZjx1MTI4PigpKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRVMTI4KCkgYXMgVDsKICAgICAgICB9IGVsc2UgaWYgKGlkID09PSBpZG9mPGkxMjg+KCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEkxMjgoKSBhcyBUOwogICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IGlkb2Y8QWRkcmVzcz4oKSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkQWRkcmVzcygpIGFzIFQ7CiAgICAgICAgfSBlbHNlIGlmIChpZCA9PT0gaWRvZjxVaW50OEFycmF5PigpKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRCeXRlc1dpdGhMZW5ndGgoKSBhcyBUOwogICAgICAgIH0gZWxzZSBpZiAoaWQgPT09IGlkb2Y8c3RyaW5nPigpKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRTdHJpbmdXaXRoTGVuZ3RoKCkgYXMgVDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGUgJHtpZH1gKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHJlYWRJMTYoKTogaTE2IHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyAyKTsKICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuYnVmZmVyLmdldEludDE2KHRoaXMuY3VycmVudE9mZnNldCwgdHJ1ZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IDI7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQoKICAgIHB1YmxpYyByZWFkSTMyKCk6IGkzMiB7CiAgICAgICAgdGhpcy52ZXJpZnlFbmQodGhpcy5jdXJyZW50T2Zmc2V0ICsgNCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmJ1ZmZlci5nZXRJbnQzMih0aGlzLmN1cnJlbnRPZmZzZXQsIHRydWUpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSA0OwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KCiAgICBwdWJsaWMgcmVhZFU4KCk6IHU4IHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyBVOF9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmJ1ZmZlci5nZXRVaW50OCh0aGlzLmN1cnJlbnRPZmZzZXQpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSBVOF9CWVRFX0xFTkdUSDsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBCeSBkZWZhdWx0LCBiaWctZW5kaWFuIChiZSA9IHRydWUpLgogICAgICovCiAgICBwdWJsaWMgcmVhZFUxNihiZTogYm9vbGVhbiA9IHRydWUpOiB1MTYgewogICAgICAgIHRoaXMudmVyaWZ5RW5kKHRoaXMuY3VycmVudE9mZnNldCArIFUxNl9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmJ1ZmZlci5nZXRVaW50MTYodGhpcy5jdXJyZW50T2Zmc2V0LCAhYmUpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSBVMTZfQllURV9MRU5HVEg7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQoKICAgIC8qKgogICAgICogQnkgZGVmYXVsdCwgYmlnLWVuZGlhbiAoYmUgPSB0cnVlKS4KICAgICAqLwogICAgcHVibGljIHJlYWRVMzIoYmU6IGJvb2xlYW4gPSB0cnVlKTogdTMyIHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyBVMzJfQllURV9MRU5HVEgpOwogICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5idWZmZXIuZ2V0VWludDMyKHRoaXMuY3VycmVudE9mZnNldCwgIWJlKTsKICAgICAgICB0aGlzLmN1cnJlbnRPZmZzZXQgKz0gVTMyX0JZVEVfTEVOR1RIOwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEJ5IGRlZmF1bHQsIGJpZy1lbmRpYW4gKGJlID0gdHJ1ZSkuCiAgICAgKi8KICAgIHB1YmxpYyByZWFkVTY0KGJlOiBib29sZWFuID0gdHJ1ZSk6IHU2NCB7CiAgICAgICAgdGhpcy52ZXJpZnlFbmQodGhpcy5jdXJyZW50T2Zmc2V0ICsgVTY0X0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuYnVmZmVyLmdldFVpbnQ2NCh0aGlzLmN1cnJlbnRPZmZzZXQsICFiZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IFU2NF9CWVRFX0xFTkdUSDsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWFkcyAyNTYgYml0cy4gVGhlIHdyaXRlciBjYWxscyBgd3JpdGVVMjU2KHZhbHVlLCBiZSlgLgogICAgICogSWYgYmU9dHJ1ZSwgd2UgZG8gYmlnLWVuZGlhbjsgaWYgYmU9ZmFsc2UsIGxpdHRsZS1lbmRpYW4uCiAgICAgKi8KICAgIHB1YmxpYyByZWFkVTI1NihiZTogYm9vbGVhbiA9IHRydWUpOiB1MjU2IHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyBVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCByYXc6IHU4W10gPSB0aGlzLnJlYWRCeXRlc0FycmF5KFUyNTZfQllURV9MRU5HVEgpOwogICAgICAgIHJldHVybiBiZSA/IHUyNTYuZnJvbUJ5dGVzQkUocmF3KSA6IHUyNTYuZnJvbUJ5dGVzTEUocmF3KTsKICAgIH0KCiAgICBwdWJsaWMgcmVhZEk2NChiZTogYm9vbGVhbiA9IHRydWUpOiBpNjQgewogICAgICAgIHRoaXMudmVyaWZ5RW5kKHRoaXMuY3VycmVudE9mZnNldCArIEk2NF9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmJ1ZmZlci5nZXRJbnQ2NCh0aGlzLmN1cnJlbnRPZmZzZXQsICFiZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IEk2NF9CWVRFX0xFTkdUSDsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgcHVibGljIHJlYWRVMTI4KGJlOiBib29sZWFuID0gdHJ1ZSk6IHUxMjggewogICAgICAgIHRoaXMudmVyaWZ5RW5kKHRoaXMuY3VycmVudE9mZnNldCArIFUxMjhfQllURV9MRU5HVEgpOwogICAgICAgIGNvbnN0IHJhdzogdThbXSA9IHRoaXMucmVhZEJ5dGVzQXJyYXkoVTEyOF9CWVRFX0xFTkdUSCk7CiAgICAgICAgcmV0dXJuIGJlID8gdTEyOC5mcm9tQnl0ZXNCRShyYXcpIDogdTEyOC5mcm9tQnl0ZXNMRShyYXcpOwogICAgfQoKICAgIHB1YmxpYyByZWFkSTEyOChiZTogYm9vbGVhbiA9IHRydWUpOiBpMTI4IHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyBJMTI4X0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCByYXc6IHU4W10gPSB0aGlzLnJlYWRCeXRlc0FycmF5KEkxMjhfQllURV9MRU5HVEgpOwogICAgICAgIHJldHVybiBiZSA/IGkxMjguZnJvbUJ5dGVzQkUocmF3KSA6IGkxMjguZnJvbUJ5dGVzTEUocmF3KTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlYWRzIGBsZW5ndGhgIGJ5dGVzLCBvcHRpb25hbGx5IHN0b3BwaW5nIGVhcmx5IGlmIGEgMHgwMCBpcyBzZWVuLgogICAgICovCiAgICBwdWJsaWMgcmVhZEJ5dGVzKGxlbmd0aDogdTMyLCB6ZXJvU3RvcDogYm9vbGVhbiA9IGZhbHNlKTogVWludDhBcnJheSB7CiAgICAgICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpOiB1MzIgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgYjogdTggPSB0aGlzLnJlYWRVOCgpOwogICAgICAgICAgICBpZiAoemVyb1N0b3AgJiYgYiA9PT0gMCkgewogICAgICAgICAgICAgICAgYnl0ZXMgPSBieXRlcy5zdWJhcnJheSgwLCBpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ5dGVzW2ldID0gYjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJ5dGVzOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVuaWVuY2UgZm9yIHJlYWRpbmcgYSBmaXhlZCBudW1iZXIgb2YgYnl0ZXMgaW50byBhIHBsYWluIHU4W10gYXJyYXkuCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyByZWFkQnl0ZXNBcnJheShjb3VudDogaTMyKTogdThbXSB7CiAgICAgICAgY29uc3QgYXJyID0gbmV3IEFycmF5PHU4Pihjb3VudCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIGFycltpXSA9IHRoaXMucmVhZFU4KCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhcnI7CiAgICB9CgogICAgLyoqCiAgICAgKiBbdTMyIGxlbmd0aF1bcmF3IGJ5dGVzXS4gQnkgZGVmYXVsdCBiaWctZW5kaWFuIGZvciB0aGUgbGVuZ3RoLAogICAgICogdG8gbWF0Y2ggQVMgQnl0ZXNXcml0ZXIncyBgd3JpdGVCeXRlc1dpdGhMZW5ndGhgLgogICAgICovCiAgICBwdWJsaWMgcmVhZEJ5dGVzV2l0aExlbmd0aChiZTogYm9vbGVhbiA9IHRydWUpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJlYWRVMzIoYmUpOwogICAgICAgIHJldHVybiB0aGlzLnJlYWRCeXRlcyhsZW5ndGgpOwogICAgfQoKICAgIC8qKgogICAgICogUmVhZHMgYSBzdHJpbmcgb2YgYGxlbmd0aGAgcmF3IGJ5dGVzLCB6ZXJvU3RvcCA9IHRydWUgZm9yIGNvbnZlbmllbmNlLgogICAgICogKE9yIHRoZSB3cml0ZXIgbWF5IG5vdCBoYXZlIHVzZWQgemVyb1N0b3AuKQogICAgICovCiAgICBwdWJsaWMgcmVhZFN0cmluZyhsZW5ndGg6IHUxNik6IHN0cmluZyB7CiAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLnJlYWRCeXRlcyhsZW5ndGgsIHRydWUpOwogICAgICAgIHJldHVybiBTdHJpbmcuVVRGOC5kZWNvZGUoYnl0ZXMuYnVmZmVyKTsKICAgIH0KCiAgICAvKioKICAgICAqIFt1MTYgbGVuZ3RoXVtyYXcgYnl0ZXNdLgogICAgICogVGhlIEFTIHdyaXRlciBjYWxscyBgd3JpdGVTdHJpbmdXaXRoTGVuZ3RoKHZhbHVlOiBzdHJpbmcpYCA9PiB3cml0ZXMgbGVuZ3RoIGJpZy1lbmRpYW4gYnkgZGVmYXVsdC4KICAgICAqLwogICAgcHVibGljIHJlYWRTdHJpbmdXaXRoTGVuZ3RoKGJlOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZWFkVTE2KGJlKTsKICAgICAgICByZXR1cm4gdGhpcy5yZWFkU3RyaW5nKGxlbmd0aCk7CiAgICB9CgogICAgcHVibGljIHJlYWRCb29sZWFuKCk6IGJvb2xlYW4gewogICAgICAgIHJldHVybiB0aGlzLnJlYWRVOCgpICE9PSAwOwogICAgfQoKICAgIHB1YmxpYyByZWFkU2VsZWN0b3IoKTogU2VsZWN0b3IgewogICAgICAgIHJldHVybiB0aGlzLnJlYWRVMzIodHJ1ZSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWFkcyBhbiBBZGRyZXNzICgzMiBieXRlcykuCiAgICAgKi8KICAgIHB1YmxpYyByZWFkQWRkcmVzcygpOiBBZGRyZXNzIHsKICAgICAgICB0aGlzLnZlcmlmeUVuZCh0aGlzLmN1cnJlbnRPZmZzZXQgKyBBRERSRVNTX0JZVEVfTEVOR1RIKTsKCiAgICAgICAgY29uc3QgYWRkciA9IG5ldyBBZGRyZXNzKCk7CiAgICAgICAgZm9yIChsZXQgaTogaTMyID0gMDsgaSA8IEFERFJFU1NfQllURV9MRU5HVEg7IGkrKykgewogICAgICAgICAgICBhZGRyW2ldID0gdGhpcy5yZWFkVTgoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFkZHI7CiAgICB9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tIEFycmF5cyAtLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgogICAgLyoqCiAgICAgKiBUaGUgQVMgd3JpdGVyIGRvZXMgYHdyaXRlVTMyKGxlbmd0aClgIGZvciBVMjU2IGFycmF5cywgc28gd2UgcmVhZCBhIHUzMi4KICAgICAqIElmIHlvdSBjaGFuZ2VkIGl0IHRvIGEgYHUxNmAsIHRoZW4gZG8gcmVhZFUxNigpIGhlcmUuCiAgICAgKi8KICAgIHB1YmxpYyByZWFkVTI1NkFycmF5KGJlOiBib29sZWFuID0gdHJ1ZSk6IHUyNTZbXSB7CiAgICAgICAgLy8gVGhlIEFTIHdyaXRlciBjdXJyZW50bHkgd3JpdGVzIGEgdTMyIGxlbmd0aCBmb3IgVTI1NiBhcnJheXMKICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJlYWRVMzIoKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8dTI1Nj4obGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpOiB1MzIgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5yZWFkVTI1NihiZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgQVMgd3JpdGVyIHVzZXMgYSBbdTE2IGxlbmd0aF0gZm9yIFU2NCBhcnJheXMuCiAgICAgKi8KICAgIHB1YmxpYyByZWFkVTY0QXJyYXkoYmU6IGJvb2xlYW4gPSB0cnVlKTogdTY0W10gewogICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucmVhZFUxNihiZSk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5PHU2ND4obGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpOiB1MzIgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5yZWFkVTY0KGJlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBwdWJsaWMgcmVhZFUzMkFycmF5KGJlOiBib29sZWFuID0gdHJ1ZSk6IHUzMltdIHsKICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJlYWRVMTYoYmUpOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheTx1MzI+KGxlbmd0aCk7CiAgICAgICAgZm9yIChsZXQgaTogdTE2ID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMucmVhZFUzMihiZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgcHVibGljIHJlYWRVMTZBcnJheShiZTogYm9vbGVhbiA9IHRydWUpOiB1MTZbXSB7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZWFkVTE2KGJlKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8dTE2PihsZW5ndGgpOwogICAgICAgIGZvciAobGV0IGk6IHUxNiA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLnJlYWRVMTYoYmUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIHB1YmxpYyByZWFkVTEyOEFycmF5KGJlOiBib29sZWFuID0gdHJ1ZSk6IHUxMjhbXSB7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZWFkVTE2KGJlKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8dTEyOD4obGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpOiB1MTYgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5yZWFkVTEyOChiZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBUaGUgQVMgd3JpdGVyIHVzZXMgYSBbdTggbGVuZ3RoXSBmb3IgdHJhbnNhY3Rpb24gaW5wdXRzL291dHB1dHMgaW4gdGhlIGV4YW1wbGUsCiAgICAgKiBidXQgZm9yIGFuICJBZGRyZXNzQXJyYXkiIHdlIHVzZSBbdTE2IGxlbmd0aF0uCiAgICAgKi8KICAgIHB1YmxpYyByZWFkQWRkcmVzc0FycmF5KGJlOiBib29sZWFuID0gdHJ1ZSk6IEFkZHJlc3NbXSB7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZWFkVTE2KGJlKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8QWRkcmVzcz4obGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpOiB1MTYgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5yZWFkQWRkcmVzcygpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIC8qKgogICAgICogTWFwIG9mIFt1MTYgbGVuZ3RoXSBlbnRyaWVzLCBlYWNoIGVudHJ5ID0gW0FkZHJlc3MsIFUyNTZdLCBjb25zaXN0ZW50IHdpdGggdGhlIHdyaXRlcuKAmXMgYHdyaXRlQWRkcmVzc01hcFUyNTZgLgogICAgICovCiAgICBwdWJsaWMgcmVhZEFkZHJlc3NNYXBVMjU2KGJlOiBib29sZWFuID0gdHJ1ZSk6IEFkZHJlc3NNYXA8dTI1Nj4gewogICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMucmVhZFUxNihiZSk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFkZHJlc3NNYXA8dTI1Nj4oKTsKCiAgICAgICAgZm9yIChsZXQgaTogdTE2ID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLnJlYWRBZGRyZXNzKCk7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yZWFkVTI1NihiZSk7CgogICAgICAgICAgICBpZiAocmVzdWx0LmhhcyhhZGRyZXNzKSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnRHVwbGljYXRlIGFkZHJlc3MgZm91bmQgaW4gbWFwJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0LnNldChhZGRyZXNzLCB2YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIHB1YmxpYyByZWFkVHJhbnNhY3Rpb25JbnB1dHMoKTogVHJhbnNhY3Rpb25JbnB1dFtdIHsKICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnJlYWRVMTYoKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8VHJhbnNhY3Rpb25JbnB1dD4obGVuZ3RoKTsKCiAgICAgICAgZm9yIChsZXQgaTogdTE2ID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHR4SWQgPSB0aGlzLnJlYWRCeXRlcygzMik7CiAgICAgICAgICAgIGNvbnN0IG91dHB1dEluZGV4ID0gdGhpcy5yZWFkVTE2KCk7CiAgICAgICAgICAgIGNvbnN0IHNjcmlwdFNpZyA9IHRoaXMucmVhZEJ5dGVzV2l0aExlbmd0aCgpOwogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXcgVHJhbnNhY3Rpb25JbnB1dCh0eElkLCBvdXRwdXRJbmRleCwgc2NyaXB0U2lnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgcHVibGljIHJlYWRUcmFuc2FjdGlvbk91dHB1dHMoKTogVHJhbnNhY3Rpb25PdXRwdXRbXSB7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5yZWFkVTE2KCk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5PFRyYW5zYWN0aW9uT3V0cHV0PihsZW5ndGgpOwoKICAgICAgICBmb3IgKGxldCBpOiB1MTYgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnJlYWRVMTYoKTsKICAgICAgICAgICAgY29uc3Qgc2NyaXB0UHViS2V5ID0gdGhpcy5yZWFkU3RyaW5nV2l0aExlbmd0aCgpOwogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVhZFU2NCgpOwogICAgICAgICAgICByZXN1bHRbaV0gPSBuZXcgVHJhbnNhY3Rpb25PdXRwdXQoaW5kZXgsIHNjcmlwdFB1YktleSwgdmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBwdWJsaWMgZ2V0T2Zmc2V0KCk6IGkzMiB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE9mZnNldDsKICAgIH0KCiAgICBwdWJsaWMgc2V0T2Zmc2V0KG9mZnNldDogaTMyKTogdm9pZCB7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ID0gb2Zmc2V0OwogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2tzIGlmIHdlIGhhdmUgZW5vdWdoIGJ5dGVzIGxlZnQgaW4gdGhlIGJ1ZmZlci4KICAgICAqLwogICAgcHVibGljIHZlcmlmeUVuZChzaXplOiBpMzIpOiB2b2lkIHsKICAgICAgICBpZiAoc2l6ZSA+IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgICAgICAgICAgYEF0dGVtcHQgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aC4gUmVxdWVzdGVkIHVwIHRvIG9mZnNldCAke3NpemV9LCBgICsKICAgICAgICAgICAgICAgIGBidXQgYnVmZmVyIGlzIG9ubHkgJHt0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSBieXRlcy5gLAogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHsKICAgICAgICByZXR1cm4gVWludDhBcnJheS53cmFwKHRoaXMuYnVmZmVyLmJ1ZmZlcikudG9TdHJpbmcoKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/buffer/BytesWriter.ts": "aW1wb3J0IHsgaTEyOCwgdTEyOCwgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEFkZHJlc3NNYXAgfSBmcm9tICcuLi9nZW5lcmljL0FkZHJlc3NNYXAnOwppbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgewogICAgQUREUkVTU19CWVRFX0xFTkdUSCwKICAgIEkxMjhfQllURV9MRU5HVEgsCiAgICBVMTI4X0JZVEVfTEVOR1RILAogICAgVTE2X0JZVEVfTEVOR1RILAogICAgVTI1Nl9CWVRFX0xFTkdUSCwKICAgIFUzMl9CWVRFX0xFTkdUSCwKICAgIFU2NF9CWVRFX0xFTkdUSCwKICAgIFU4X0JZVEVfTEVOR1RILAp9IGZyb20gJy4uL3V0aWxzJzsKaW1wb3J0IHsgQnl0ZXNSZWFkZXIgfSBmcm9tICcuL0J5dGVzUmVhZGVyJzsKCkBmaW5hbApleHBvcnQgY2xhc3MgQnl0ZXNXcml0ZXIgewogICAgcHJpdmF0ZSBjdXJyZW50T2Zmc2V0OiB1MzIgPSAwOwogICAgcHJpdmF0ZSBidWZmZXI6IERhdGFWaWV3OwogICAgcHJpdmF0ZSByZWFkb25seSB0eXBlZEFycmF5OiBVaW50OEFycmF5OwoKICAgIGNvbnN0cnVjdG9yKGxlbmd0aDogaTMyKSB7CiAgICAgICAgY29uc3QgdHlwZWRBcnJheSA9ICh0aGlzLnR5cGVkQXJyYXkgPSBuZXcgVWludDhBcnJheShsZW5ndGgpKTsKICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBEYXRhVmlldyh0eXBlZEFycmF5LmJ1ZmZlcik7CiAgICB9CgogICAgcHVibGljIGJ1ZmZlckxlbmd0aCgpOiB1MzIgewogICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoOwogICAgfQoKICAgIHB1YmxpYyB3cml0ZTxUPih2YWx1ZTogVCk6IHZvaWQgewogICAgICAgIGlmIChpc0ludGVnZXI8VD4oKSkgewogICAgICAgICAgICBjb25zdCBzaXplID0gc2l6ZW9mPFQ+KCk7CiAgICAgICAgICAgIGlmIChzaXplID09PSAxKSB7CiAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTgoPHU4PnZhbHVlKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGlzU2lnbmVkPFQ+KCkpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoc2l6ZSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZUkxNig8aTE2PnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlSTMyKDxpMzI+dmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVJNjQoPGk2ND52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYFVuc3VwcG9ydGVkIGludGVnZXIgc2l6ZTogJHtzaXplfWApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3dpdGNoIChzaXplKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRlVTE2KDx1MTY+dmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVVMzIoPHUzMj52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0ZVU2NCg8dTY0PnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydChgVW5zdXBwb3J0ZWQgaW50ZWdlciBzaXplOiAke3NpemV9YCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbjxUPigpKSB7CiAgICAgICAgICAgIHRoaXMud3JpdGVCb29sZWFuKDxib29sZWFuPnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nPFQ+KCkpIHsKICAgICAgICAgICAgdGhpcy53cml0ZVN0cmluZ1dpdGhMZW5ndGgoPHN0cmluZz52YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsKICAgICAgICAgICAgdGhpcy53cml0ZUJ5dGVzV2l0aExlbmd0aCg8VWludDhBcnJheT52YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3MpIHsKICAgICAgICAgICAgdGhpcy53cml0ZUFkZHJlc3MoPEFkZHJlc3M+dmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiB1MTI4KSB7CiAgICAgICAgICAgIHRoaXMud3JpdGVVMTI4KDx1MTI4PnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTI1NikgewogICAgICAgICAgICB0aGlzLndyaXRlVTI1Nig8dTI1Nj52YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGkxMjgpIHsKICAgICAgICAgICAgdGhpcy53cml0ZUkxMjgoPGkxMjg+dmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYFVuc3VwcG9ydGVkIHR5cGU6ICR7dHlwZW9mIHZhbHVlfWApOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgd3JpdGVVOCh2YWx1ZTogdTgpOiB2b2lkIHsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVOF9CWVRFX0xFTkdUSCk7CiAgICAgICAgdGhpcy5idWZmZXIuc2V0VWludDgodGhpcy5jdXJyZW50T2Zmc2V0LCB2YWx1ZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IFU4X0JZVEVfTEVOR1RIOwogICAgfQoKICAgIC8qKgogICAgICogV3JpdGVzIGEgMTYtYml0IHVuc2lnbmVkIGludGVnZXIuIEJ5IGRlZmF1bHQgYmlnLWVuZGlhbiAoYmUgPSB0cnVlKS4KICAgICAqIElmIGJlPWZhbHNlLCB3cml0ZXMgbGl0dGxlLWVuZGlhbi4KICAgICAqLwogICAgcHVibGljIHdyaXRlVTE2KHZhbHVlOiB1MTYsIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIHRoaXMuYWxsb2NTYWZlKFUxNl9CWVRFX0xFTkdUSCk7CiAgICAgICAgdGhpcy5idWZmZXIuc2V0VWludDE2KHRoaXMuY3VycmVudE9mZnNldCwgdmFsdWUsICFiZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IFUxNl9CWVRFX0xFTkdUSDsKICAgIH0KCiAgICAvKioKICAgICAqIFdyaXRlcyBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLiBCeSBkZWZhdWx0IGJpZy1lbmRpYW4gKGJlID0gdHJ1ZSkuCiAgICAgKi8KICAgIHB1YmxpYyB3cml0ZVUzMih2YWx1ZTogdTMyLCBiZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMzJfQllURV9MRU5HVEgpOwogICAgICAgIHRoaXMuYnVmZmVyLnNldFVpbnQzMih0aGlzLmN1cnJlbnRPZmZzZXQsIHZhbHVlLCAhYmUpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSBVMzJfQllURV9MRU5HVEg7CiAgICB9CgogICAgLyoqCiAgICAgKiBXcml0ZXMgYSA2NC1iaXQgdW5zaWduZWQgaW50ZWdlci4gQnkgZGVmYXVsdCBiaWctZW5kaWFuIChiZSA9IHRydWUpLgogICAgICovCiAgICBwdWJsaWMgd3JpdGVVNjQodmFsdWU6IHU2NCwgYmU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUoVTY0X0JZVEVfTEVOR1RIKTsKICAgICAgICB0aGlzLmJ1ZmZlci5zZXRVaW50NjQodGhpcy5jdXJyZW50T2Zmc2V0LCB2YWx1ZSB8fCAwLCAhYmUpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSBVNjRfQllURV9MRU5HVEg7CiAgICB9CgogICAgcHVibGljIHdyaXRlSTY0KHZhbHVlOiBpNjQsIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIHRoaXMuYWxsb2NTYWZlKFU2NF9CWVRFX0xFTkdUSCk7CiAgICAgICAgdGhpcy5idWZmZXIuc2V0SW50NjQodGhpcy5jdXJyZW50T2Zmc2V0LCB2YWx1ZSwgIWJlKTsKICAgICAgICB0aGlzLmN1cnJlbnRPZmZzZXQgKz0gVTY0X0JZVEVfTEVOR1RIOwogICAgfQoKICAgIHB1YmxpYyB3cml0ZUkzMih2YWx1ZTogaTMyLCBiZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMzJfQllURV9MRU5HVEgpOwogICAgICAgIHRoaXMuYnVmZmVyLnNldEludDMyKHRoaXMuY3VycmVudE9mZnNldCwgdmFsdWUsICFiZSk7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ICs9IFUzMl9CWVRFX0xFTkdUSDsKICAgIH0KCiAgICBwdWJsaWMgd3JpdGVJMTYodmFsdWU6IGkxNiwgYmU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUoVTE2X0JZVEVfTEVOR1RIKTsKICAgICAgICB0aGlzLmJ1ZmZlci5zZXRJbnQxNih0aGlzLmN1cnJlbnRPZmZzZXQsIHZhbHVlLCAhYmUpOwogICAgICAgIHRoaXMuY3VycmVudE9mZnNldCArPSBVMTZfQllURV9MRU5HVEg7CiAgICB9CgogICAgLyoqCiAgICAgKiBXcml0ZXMgYSAzMi1iaXQgc2VsZWN0b3IuCiAgICAgKiBAcGFyYW0gdmFsdWUKICAgICAqLwogICAgcHVibGljIHdyaXRlU2VsZWN0b3IodmFsdWU6IFNlbGVjdG9yKTogdm9pZCB7CiAgICAgICAgdGhpcy53cml0ZVUzMih2YWx1ZSwgdHJ1ZSk7CiAgICB9CgogICAgcHVibGljIHdyaXRlQm9vbGVhbih2YWx1ZTogYm9vbGVhbik6IHZvaWQgewogICAgICAgIHRoaXMud3JpdGVVOCh2YWx1ZSA/IDEgOiAwKTsKICAgIH0KCiAgICAvKioKICAgICAqIFdyaXRlcyBhIDI1Ni1iaXQgdW5zaWduZWQgaW50ZWdlci4gQnkgZGVmYXVsdCBiaWctZW5kaWFuIChiZSA9IHRydWUpLgogICAgICovCiAgICBwdWJsaWMgd3JpdGVVMjU2KHZhbHVlOiB1MjU2LCBiZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCBieXRlcyA9IHZhbHVlLnRvVWludDhBcnJheShiZSk7CiAgICAgICAgZm9yIChsZXQgaTogaTMyID0gMDsgaSA8IFUyNTZfQllURV9MRU5HVEg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlVTgoYnl0ZXNbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFdyaXRlcyBhIDEyOC1iaXQgc2lnbmVkIGludGVnZXIuIEJ5IGRlZmF1bHQgYmlnLWVuZGlhbiAoYmUgPSB0cnVlKS4KICAgICAqLwogICAgcHVibGljIHdyaXRlSTEyOCh2YWx1ZTogaTEyOCwgYmU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUoSTEyOF9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgYnl0ZXMgPSB2YWx1ZS50b1VpbnQ4QXJyYXkoYmUpOwogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCBJMTI4X0JZVEVfTEVOR1RIOyBpKyspIHsKICAgICAgICAgICAgdGhpcy53cml0ZVU4KGJ5dGVzW2ldKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBXcml0ZXMgYSAxMjgtYml0IHVuc2lnbmVkIGludGVnZXIuIEJ5IGRlZmF1bHQgYmlnLWVuZGlhbiAoYmUgPSB0cnVlKS4KICAgICAqLwogICAgcHVibGljIHdyaXRlVTEyOCh2YWx1ZTogdTEyOCwgYmU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUoVTEyOF9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgYnl0ZXMgPSB2YWx1ZS50b1VpbnQ4QXJyYXkoYmUpOwogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCBVMTI4X0JZVEVfTEVOR1RIOyBpKyspIHsKICAgICAgICAgICAgdGhpcy53cml0ZVU4KGJ5dGVzW2ldKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tIEFycmF5IFdyaXRlcnMgLS0tLS0tLS0tLS0tLS0tLS0tIC8vCgogICAgcHVibGljIHdyaXRlVTE2QXJyYXkodmFsdWU6IHUxNltdLCBiZTogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHsKICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gNjU1MzUpIHRocm93IG5ldyBSZXZlcnQoJ0FycmF5IHNpemUgaXMgdG9vIGxhcmdlJyk7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUoVTE2X0JZVEVfTEVOR1RIICsgdmFsdWUubGVuZ3RoICogVTE2X0JZVEVfTEVOR1RIKTsKICAgICAgICB0aGlzLndyaXRlVTE2KHUxNih2YWx1ZS5sZW5ndGgpLCBiZSk7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy53cml0ZVUxNih2YWx1ZVtpXSwgYmUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgd3JpdGVVMzJBcnJheSh2YWx1ZTogdTMyW10sIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiA2NTUzNSkgdGhyb3cgbmV3IFJldmVydCgnQXJyYXkgc2l6ZSBpcyB0b28gbGFyZ2UnKTsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMTZfQllURV9MRU5HVEggKyB2YWx1ZS5sZW5ndGggKiBVMzJfQllURV9MRU5HVEgpOwogICAgICAgIHRoaXMud3JpdGVVMTYodTE2KHZhbHVlLmxlbmd0aCksIGJlKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlVTMyKHZhbHVlW2ldLCBiZSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyB3cml0ZVU2NEFycmF5KHZhbHVlOiB1NjRbXSwgYmU6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7CiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDY1NTM1KSB0aHJvdyBuZXcgUmV2ZXJ0KCdBcnJheSBzaXplIGlzIHRvbyBsYXJnZScpOwogICAgICAgIHRoaXMuYWxsb2NTYWZlKFUxNl9CWVRFX0xFTkdUSCArIHZhbHVlLmxlbmd0aCAqIFU2NF9CWVRFX0xFTkdUSCk7CiAgICAgICAgdGhpcy53cml0ZVUxNih1MTYodmFsdWUubGVuZ3RoKSwgYmUpOwoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMud3JpdGVVNjQodmFsdWVbaV0sIGJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHdyaXRlVTEyOEFycmF5KHZhbHVlOiB1MTI4W10sIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiA2NTUzNSkgdGhyb3cgbmV3IFJldmVydCgnQXJyYXkgc2l6ZSBpcyB0b28gbGFyZ2UnKTsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMTZfQllURV9MRU5HVEggKyB2YWx1ZS5sZW5ndGggKiBVMTI4X0JZVEVfTEVOR1RIKTsKICAgICAgICB0aGlzLndyaXRlVTE2KHUxNih2YWx1ZS5sZW5ndGgpLCBiZSk7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy53cml0ZVUxMjgodmFsdWVbaV0sIGJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHdyaXRlVTI1NkFycmF5KHZhbHVlOiB1MjU2W10sIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiA2NTUzNSkgdGhyb3cgbmV3IFJldmVydCgnQXJyYXkgc2l6ZSBpcyB0b28gbGFyZ2UnKTsKICAgICAgICB0aGlzLmFsbG9jU2FmZShVMTZfQllURV9MRU5HVEggKyB2YWx1ZS5sZW5ndGggKiBVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICB0aGlzLndyaXRlVTE2KHUxNih2YWx1ZS5sZW5ndGgpLCBiZSk7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy53cml0ZVUyNTYodmFsdWVbaV0sIGJlKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIHdyaXRlQWRkcmVzc0FycmF5KHZhbHVlOiBBZGRyZXNzW10pOiB2b2lkIHsKICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gNjU1MzUpIHRocm93IG5ldyBSZXZlcnQoJ0FycmF5IHNpemUgaXMgdG9vIGxhcmdlJyk7CiAgICAgICAgdGhpcy53cml0ZVUxNih1MTYodmFsdWUubGVuZ3RoKSk7CgogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlQWRkcmVzcyh2YWx1ZVtpXSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoKICAgIHB1YmxpYyB3cml0ZUJ5dGVzKHZhbHVlOiBVaW50OEFycmF5KTogdm9pZCB7CiAgICAgICAgdGhpcy5hbGxvY1NhZmUodmFsdWUubGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMud3JpdGVVOCh2YWx1ZVtpXSk7CiAgICAgICAgfQogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyB3cml0ZUJ5dGVzVThBcnJheSh2YWx1ZTogdThbXSk6IHZvaWQgewogICAgICAgIHRoaXMuYWxsb2NTYWZlKHZhbHVlLmxlbmd0aCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlVTgodmFsdWVbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFdyaXRlcyBbdTMyIGxlbmd0aF1bcmF3IGJ5dGVzXS4KICAgICAqIEJ5IGRlZmF1bHQgYmlnLWVuZGlhbiwgc28gbGVuZ3RoIGlzIHN0b3JlZCB3aXRoIGB3cml0ZVUzMihsZW5ndGgsIHRydWUpYC4KICAgICAqLwogICAgcHVibGljIHdyaXRlQnl0ZXNXaXRoTGVuZ3RoKHZhbHVlOiBVaW50OEFycmF5KTogdm9pZCB7CiAgICAgICAgY29uc3QgbGVuZ3RoOiB1MzIgPSB1MzIodmFsdWUubGVuZ3RoKTsKICAgICAgICB0aGlzLmFsbG9jU2FmZShsZW5ndGggKyBVMzJfQllURV9MRU5HVEgpOwogICAgICAgIHRoaXMud3JpdGVVMzIobGVuZ3RoKTsgLy8gZGVmYXVsdCBiZSA9IHRydWUgPT4gYmlnLWVuZGlhbgogICAgICAgIGZvciAobGV0IGk6IHUzMiA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlVTgodmFsdWVbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgd3JpdGVTdHJpbmcodmFsdWU6IHN0cmluZyk6IHZvaWQgewogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlVTgodTgodmFsdWUuY2hhckNvZGVBdChpKSkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgd3JpdGVBZGRyZXNzKHZhbHVlOiBBZGRyZXNzKTogdm9pZCB7CiAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLmZyb21BZGRyZXNzKHZhbHVlKTsKICAgICAgICB0aGlzLndyaXRlQnl0ZXMoYnl0ZXMpOwogICAgfQoKICAgIHB1YmxpYyB3cml0ZVN0cmluZ1dpdGhMZW5ndGgodmFsdWU6IHN0cmluZyk6IHZvaWQgewogICAgICAgIHRoaXMud3JpdGVVMTYodTE2KHZhbHVlLmxlbmd0aCkpOwogICAgICAgIHRoaXMud3JpdGVTdHJpbmcodmFsdWUpOwogICAgfQoKICAgIC8qKgogICAgICogRXF1aXZhbGVudCB0byBUU+KAmXMgd3JpdGVBZGRyZXNzVmFsdWVUdXBsZSwgZXhjZXB0IHNwZWNpYWxpemVkIGZvciB1MjU2IHZhbHVlcy4KICAgICAqLwogICAgcHVibGljIHdyaXRlQWRkcmVzc01hcFUyNTYodmFsdWU6IEFkZHJlc3NNYXA8dTI1Nj4sIGJlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQgewogICAgICAgIGNvbnN0IGtleXM6IEFkZHJlc3NbXSA9IHZhbHVlLmtleXMoKTsKICAgICAgICBpZiAoa2V5cy5sZW5ndGggPiA2NTUzNSkgdGhyb3cgbmV3IFJldmVydCgnTWFwIHNpemUgaXMgdG9vIGxhcmdlJyk7CgogICAgICAgIHRoaXMud3JpdGVVMTYodTE2KGtleXMubGVuZ3RoKSwgYmUpOwoKICAgICAgICBmb3IgKGxldCBpOiBpMzIgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLndyaXRlQWRkcmVzcyhrZXlzW2ldKTsKICAgICAgICAgICAgdGhpcy53cml0ZVUyNTYodmFsdWUuZ2V0KGtleXNbaV0pLCBiZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvLwoKICAgIHB1YmxpYyBnZXRCdWZmZXIoKTogVWludDhBcnJheSB7CiAgICAgICAgcmV0dXJuIHRoaXMudHlwZWRBcnJheTsKICAgIH0KCiAgICBwdWJsaWMgdG9CeXRlc1JlYWRlcigpOiBCeXRlc1JlYWRlciB7CiAgICAgICAgcmV0dXJuIG5ldyBCeXRlc1JlYWRlcih0aGlzLmdldEJ1ZmZlcigpKTsKICAgIH0KCiAgICBwdWJsaWMgZ2V0T2Zmc2V0KCk6IHUzMiB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE9mZnNldDsKICAgIH0KCiAgICBwdWJsaWMgc2V0T2Zmc2V0KG9mZnNldDogdTMyKTogdm9pZCB7CiAgICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0ID0gb2Zmc2V0OwogICAgfQoKICAgIC8qKgogICAgICogRW5zdXJlcyB3ZSBoYXZlIHNwYWNlIGZvciBgc2l6ZWAgbW9yZSBieXRlcyB3aXRob3V0IGdvaW5nIHBhc3QgdGhlIGN1cnJlbnQgYnVmZmVyLgogICAgICogSWYgbm90LCBjYWxscyBgcmVzaXplKClgIHdoaWNoIGJ5IGRlZmF1bHQgdGhyb3dzIGEgUmV2ZXJ0LgogICAgICovCiAgICBwdWJsaWMgYWxsb2NTYWZlKHNpemU6IHUzMik6IHZvaWQgewogICAgICAgIGNvbnN0IG5lZWRlZCA9IHRoaXMuY3VycmVudE9mZnNldCArIHNpemU7CiAgICAgICAgaWYgKG5lZWRlZCA+IHUzMih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSkgewogICAgICAgICAgICBjb25zdCBzaXplRGlmZjogdTMyID0gbmVlZGVkIC0gdTMyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpOwogICAgICAgICAgICB0aGlzLnJlc2l6ZShzaXplRGlmZik7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgZnJvbUFkZHJlc3MocHViS2V5OiBBZGRyZXNzKTogVWludDhBcnJheSB7CiAgICAgICAgaWYgKHB1YktleS5ieXRlTGVuZ3RoID4gQUREUkVTU19CWVRFX0xFTkdUSCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KAogICAgICAgICAgICAgICAgYEFkZHJlc3MgaXMgdG9vIGxvbmcgJHtwdWJLZXkuYnl0ZUxlbmd0aH0gPiAke0FERFJFU1NfQllURV9MRU5HVEh9IGJ5dGVzYCwKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHB1YktleTsKICAgIH0KCiAgICAvKioKICAgICAqIFRoaXMgaW1wbGVtZW50YXRpb24gYWx3YXlzIHRocm93cyByYXRoZXIgdGhhbiBhY3R1YWxseSByZXNpemluZywKICAgICAqIHdoaWNoIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXBwcm9hY2guIElmIHlvdSBuZWVkCiAgICAgKiBkeW5hbWljIHJlc2l6aW5nLCByZW1vdmUgdGhlIGB0aHJvd2AgYW5kIGltcGxlbWVudCBhY2NvcmRpbmdseS4KICAgICAqLwogICAgcHJpdmF0ZSByZXNpemUoc2l6ZTogdTMyKTogdm9pZCB7CiAgICAgICAgdGhyb3cgbmV3IFJldmVydCgKICAgICAgICAgICAgYEJ1ZmZlciBpcyBnZXR0aW5nIHJlc2l6ZWQuIFRoaXMgaXMgYmFkIGZvciBwZXJmb3JtYW5jZS4gYCArCiAgICAgICAgICAgIGBFeHBlY3RlZCBzaXplOiAke3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGggKyBzaXplfSAtIGAgKwogICAgICAgICAgICBgQ3VycmVudCBzaXplOiAke3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGh9YCwKICAgICAgICApOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/contracts/DeployableOP_20.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IEFwcHJvdmVFdmVudCwgQnVybkV2ZW50LCBNaW50RXZlbnQsIFRyYW5zZmVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvcHJlZGVmaW5lZCc7CmltcG9ydCB7IGVuY29kZVNlbGVjdG9yLCBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgU3RvcmVkU3RyaW5nIH0gZnJvbSAnLi4vc3RvcmFnZS9TdG9yZWRTdHJpbmcnOwppbXBvcnQgeyBTdG9yZWRVMjU2IH0gZnJvbSAnLi4vc3RvcmFnZS9TdG9yZWRVMjU2JzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgeyBTYWZlTWF0aCB9IGZyb20gJy4uL3R5cGVzL1NhZmVNYXRoJzsKCmltcG9ydCB7IHNoYTI1NiB9IGZyb20gJy4uL2Vudi9nbG9iYWwnOwppbXBvcnQgeyBFTVBUWV9QT0lOVEVSIH0gZnJvbSAnLi4vbWF0aC9ieXRlcyc7CmltcG9ydCB7IEFkZHJlc3NNZW1vcnlNYXAgfSBmcm9tICcuLi9tZW1vcnkvQWRkcmVzc01lbW9yeU1hcCc7CmltcG9ydCB7IE1hcE9mTWFwIH0gZnJvbSAnLi4vbWVtb3J5L01hcE9mTWFwJzsKaW1wb3J0IHsgQXBwcm92ZVN0ciwgVHJhbnNmZXJGcm9tU3RyLCBUcmFuc2ZlclN0ciB9IGZyb20gJy4uL3NoYXJlZC1saWJyYXJpZXMvVHJhbnNmZXJIZWxwZXInOwppbXBvcnQgeyBDYWxsZGF0YSB9IGZyb20gJy4uL3R5cGVzJzsKaW1wb3J0IHsgQUREUkVTU19CWVRFX0xFTkdUSCwgQk9PTEVBTl9CWVRFX0xFTkdUSCwgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uL3V0aWxzJzsKaW1wb3J0IHsgSU9QXzIwIH0gZnJvbSAnLi9pbnRlcmZhY2VzL0lPUF8yMCc7CmltcG9ydCB7IE9QMjBJbml0UGFyYW1ldGVycyB9IGZyb20gJy4vaW50ZXJmYWNlcy9PUDIwSW5pdFBhcmFtZXRlcnMnOwppbXBvcnQgeyBPUF9ORVQgfSBmcm9tICcuL09QX05FVCc7Cgpjb25zdCBub25jZU1hcFBvaW50ZXI6IHUxNiA9IEJsb2NrY2hhaW4ubmV4dFBvaW50ZXI7CmNvbnN0IG1heFN1cHBseVBvaW50ZXI6IHUxNiA9IEJsb2NrY2hhaW4ubmV4dFBvaW50ZXI7CmNvbnN0IGRlY2ltYWxzUG9pbnRlcjogdTE2ID0gQmxvY2tjaGFpbi5uZXh0UG9pbnRlcjsKY29uc3Qgc3RyaW5nUG9pbnRlcjogdTE2ID0gQmxvY2tjaGFpbi5uZXh0UG9pbnRlcjsKY29uc3QgdG90YWxTdXBwbHlQb2ludGVyOiB1MTYgPSBCbG9ja2NoYWluLm5leHRQb2ludGVyOwpjb25zdCBhbGxvd2FuY2VNYXBQb2ludGVyOiB1MTYgPSBCbG9ja2NoYWluLm5leHRQb2ludGVyOwpjb25zdCBiYWxhbmNlT2ZNYXBQb2ludGVyOiB1MTYgPSBCbG9ja2NoYWluLm5leHRQb2ludGVyOwoKZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlcGxveWFibGVPUF8yMCBleHRlbmRzIE9QX05FVCBpbXBsZW1lbnRzIElPUF8yMCB7CiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYWxsb3dhbmNlTWFwOiBNYXBPZk1hcDx1MjU2PjsKICAgIHByb3RlY3RlZCByZWFkb25seSBiYWxhbmNlT2ZNYXA6IEFkZHJlc3NNZW1vcnlNYXA7CgogICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9tYXhTdXBwbHk6IFN0b3JlZFUyNTY7CiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2RlY2ltYWxzOiBTdG9yZWRVMjU2OwogICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9uYW1lOiBTdG9yZWRTdHJpbmc7CiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX3N5bWJvbDogU3RvcmVkU3RyaW5nOwoKICAgIHByb3RlY3RlZCByZWFkb25seSBfbm9uY2VNYXA6IEFkZHJlc3NNZW1vcnlNYXA7CgogICAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmFtczogT1AyMEluaXRQYXJhbWV0ZXJzIHwgbnVsbCA9IG51bGwpIHsKICAgICAgICBzdXBlcigpOwoKICAgICAgICAvLyBJbml0aWFsaXplIG1haW4gc3RvcmFnZSBzdHJ1Y3R1cmVzCiAgICAgICAgdGhpcy5hbGxvd2FuY2VNYXAgPSBuZXcgTWFwT2ZNYXAoYWxsb3dhbmNlTWFwUG9pbnRlcik7CiAgICAgICAgdGhpcy5iYWxhbmNlT2ZNYXAgPSBuZXcgQWRkcmVzc01lbW9yeU1hcChiYWxhbmNlT2ZNYXBQb2ludGVyKTsKICAgICAgICB0aGlzLl9ub25jZU1hcCA9IG5ldyBBZGRyZXNzTWVtb3J5TWFwKG5vbmNlTWFwUG9pbnRlcik7CgogICAgICAgIHRoaXMuX3RvdGFsU3VwcGx5ID0gbmV3IFN0b3JlZFUyNTYodG90YWxTdXBwbHlQb2ludGVyLCBFTVBUWV9QT0lOVEVSKTsKICAgICAgICB0aGlzLl9tYXhTdXBwbHkgPSBuZXcgU3RvcmVkVTI1NihtYXhTdXBwbHlQb2ludGVyLCBFTVBUWV9QT0lOVEVSKTsKICAgICAgICB0aGlzLl9kZWNpbWFscyA9IG5ldyBTdG9yZWRVMjU2KGRlY2ltYWxzUG9pbnRlciwgRU1QVFlfUE9JTlRFUik7CiAgICAgICAgdGhpcy5fbmFtZSA9IG5ldyBTdG9yZWRTdHJpbmcoc3RyaW5nUG9pbnRlciwgMCk7CiAgICAgICAgdGhpcy5fc3ltYm9sID0gbmV3IFN0b3JlZFN0cmluZyhzdHJpbmdQb2ludGVyLCAxKTsKCiAgICAgICAgaWYgKHBhcmFtcyAmJiB0aGlzLl9tYXhTdXBwbHkudmFsdWUuaXNaZXJvKCkpIHsKICAgICAgICAgICAgdGhpcy5pbnN0YW50aWF0ZShwYXJhbXMsIHRydWUpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgX3RvdGFsU3VwcGx5OiBTdG9yZWRVMjU2OwoKICAgIHB1YmxpYyBnZXQgdG90YWxTdXBwbHkoKTogdTI1NiB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsU3VwcGx5LnZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBnZXQgbWF4U3VwcGx5KCk6IHUyNTYgewogICAgICAgIGlmICghdGhpcy5fbWF4U3VwcGx5KSB0aHJvdyBuZXcgUmV2ZXJ0KCdNYXggc3VwcGx5IG5vdCBzZXQnKTsKICAgICAgICByZXR1cm4gdGhpcy5fbWF4U3VwcGx5LnZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBnZXQgZGVjaW1hbHMoKTogdTggewogICAgICAgIGlmICghdGhpcy5fZGVjaW1hbHMpIHRocm93IG5ldyBSZXZlcnQoJ0RlY2ltYWxzIG5vdCBzZXQnKTsKICAgICAgICByZXR1cm4gdTgodGhpcy5fZGVjaW1hbHMudmFsdWUudG9VMzIoKSk7CiAgICB9CgogICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7CiAgICAgICAgaWYgKCF0aGlzLl9uYW1lKSB0aHJvdyBuZXcgUmV2ZXJ0KCdOYW1lIG5vdCBzZXQnKTsKICAgICAgICByZXR1cm4gdGhpcy5fbmFtZS52YWx1ZTsKICAgIH0KCiAgICBwdWJsaWMgZ2V0IHN5bWJvbCgpOiBzdHJpbmcgewogICAgICAgIGlmICghdGhpcy5fc3ltYm9sKSB0aHJvdyBuZXcgUmV2ZXJ0KCdTeW1ib2wgbm90IHNldCcpOwogICAgICAgIHJldHVybiB0aGlzLl9zeW1ib2wudmFsdWU7CiAgICB9CgogICAgcHVibGljIGluc3RhbnRpYXRlKAogICAgICAgIHBhcmFtczogT1AyMEluaXRQYXJhbWV0ZXJzLAogICAgICAgIHNraXBEZXBsb3llclZlcmlmaWNhdGlvbjogYm9vbGVhbiA9IGZhbHNlLAogICAgKTogdm9pZCB7CiAgICAgICAgaWYgKCF0aGlzLl9tYXhTdXBwbHkudmFsdWUuaXNaZXJvKCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQWxyZWFkeSBpbml0aWFsaXplZCcpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFza2lwRGVwbG95ZXJWZXJpZmljYXRpb24pIHRoaXMub25seURlcGxveWVyKEJsb2NrY2hhaW4udHguc2VuZGVyKTsKCiAgICAgICAgaWYgKHBhcmFtcy5kZWNpbWFscyA+IDMyKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ0RlY2ltYWxzIGNhbiBub3QgYmUgbW9yZSB0aGFuIDMyJyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9tYXhTdXBwbHkudmFsdWUgPSBwYXJhbXMubWF4U3VwcGx5OwogICAgICAgIHRoaXMuX2RlY2ltYWxzLnZhbHVlID0gdTI1Ni5mcm9tVTMyKHUzMihwYXJhbXMuZGVjaW1hbHMpKTsKICAgICAgICB0aGlzLl9uYW1lLnZhbHVlID0gcGFyYW1zLm5hbWU7CiAgICAgICAgdGhpcy5fc3ltYm9sLnZhbHVlID0gcGFyYW1zLnN5bWJvbDsKICAgIH0KCiAgICAvKiogTUVUSE9EUyAqLwogICAgcHVibGljIGFsbG93YW5jZShjYWxsRGF0YTogQ2FsbGRhdGEpOiBCeXRlc1dyaXRlciB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoVTI1Nl9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX2FsbG93YW5jZShjYWxsRGF0YS5yZWFkQWRkcmVzcygpLCBjYWxsRGF0YS5yZWFkQWRkcmVzcygpKTsKICAgICAgICByZXNwb25zZS53cml0ZVUyNTYocmVzcCk7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfQoKICAgIHB1YmxpYyBhcHByb3ZlKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyIHsKICAgICAgICBjb25zdCBvd25lciA9IEJsb2NrY2hhaW4udHguc2VuZGVyOwogICAgICAgIGNvbnN0IHNwZW5kZXI6IEFkZHJlc3MgPSBjYWxsRGF0YS5yZWFkQWRkcmVzcygpOwogICAgICAgIGNvbnN0IHZhbHVlID0gY2FsbERhdGEucmVhZFUyNTYoKTsKCiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX2FwcHJvdmUob3duZXIsIHNwZW5kZXIsIHZhbHVlKTsKCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoQk9PTEVBTl9CWVRFX0xFTkdUSCk7CiAgICAgICAgcmVzcG9uc2Uud3JpdGVCb29sZWFuKHJlc3ApOwogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KCiAgICBwdWJsaWMgYXBwcm92ZUZyb20oY2FsbERhdGE6IENhbGxkYXRhKTogQnl0ZXNXcml0ZXIgewogICAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBpcyBpbml0aWF0ZWQgZGlyZWN0bHkgYnkgdGhlIG93bmVyLCB0aGVyZSBpcyBubyBuZWVkIGZvciBhbiBvZmYtY2hhaW4gc2lnbmF0dXJlLgogICAgICAgIGlmIChCbG9ja2NoYWluLnR4Lm9yaWdpbiA9PSBCbG9ja2NoYWluLnR4LnNlbmRlcikgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KAogICAgICAgICAgICAgICAgJ0RpcmVjdCBvd25lciBhcHByb3ZhbCBkZXRlY3RlZC4gVXNlIGFwcHJvdmUgZnVuY3Rpb24gaW5zdGVhZCBvZiBhcHByb3ZlRnJvbS4nLAogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoQk9PTEVBTl9CWVRFX0xFTkdUSCk7CgogICAgICAgIGNvbnN0IG93bmVyOiBBZGRyZXNzID0gQmxvY2tjaGFpbi50eC5vcmlnaW47CiAgICAgICAgY29uc3Qgc3BlbmRlcjogQWRkcmVzcyA9IGNhbGxEYXRhLnJlYWRBZGRyZXNzKCk7CiAgICAgICAgY29uc3QgdmFsdWU6IHUyNTYgPSBjYWxsRGF0YS5yZWFkVTI1NigpOwogICAgICAgIGNvbnN0IG5vbmNlOiB1MjU2ID0gY2FsbERhdGEucmVhZFUyNTYoKTsKCiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gY2FsbERhdGEucmVhZEJ5dGVzV2l0aExlbmd0aCgpOwogICAgICAgIGlmIChzaWduYXR1cmUubGVuZ3RoICE9PSA2NCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdJbnZhbGlkIHNpZ25hdHVyZSBsZW5ndGgnKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlc3AgPSB0aGlzLl9hcHByb3ZlRnJvbShvd25lciwgc3BlbmRlciwgdmFsdWUsIG5vbmNlLCBzaWduYXR1cmUpOwogICAgICAgIHJlc3BvbnNlLndyaXRlQm9vbGVhbihyZXNwKTsKCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY3VycmVudCBub25jZSBmb3IgYSBnaXZlbiBvd25lci4KICAgICAqLwogICAgcHVibGljIG5vbmNlT2YoY2FsbERhdGE6IENhbGxkYXRhKTogQnl0ZXNXcml0ZXIgewogICAgICAgIGNvbnN0IG93bmVyID0gY2FsbERhdGEucmVhZEFkZHJlc3MoKTsKICAgICAgICBjb25zdCBjdXJyZW50Tm9uY2UgPSB0aGlzLl9ub25jZU1hcC5nZXQob3duZXIpOwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcigzMik7CiAgICAgICAgcmVzcG9uc2Uud3JpdGVVMjU2KGN1cnJlbnROb25jZSk7CgogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KCiAgICBwdWJsaWMgYmFsYW5jZU9mKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyIHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcihVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCBhZGRyZXNzOiBBZGRyZXNzID0gY2FsbERhdGEucmVhZEFkZHJlc3MoKTsKCiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX2JhbGFuY2VPZihhZGRyZXNzKTsKICAgICAgICByZXNwb25zZS53cml0ZVUyNTYocmVzcCk7CgogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KCiAgICBwdWJsaWMgYnVybihjYWxsRGF0YTogQ2FsbGRhdGEpOiBCeXRlc1dyaXRlciB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoQk9PTEVBTl9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX2J1cm4oY2FsbERhdGEucmVhZFUyNTYoKSk7CiAgICAgICAgcmVzcG9uc2Uud3JpdGVCb29sZWFuKHJlc3ApOwoKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9CgogICAgcHVibGljIHRyYW5zZmVyKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyIHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcihCT09MRUFOX0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCByZXNwID0gdGhpcy5fdHJhbnNmZXIoY2FsbERhdGEucmVhZEFkZHJlc3MoKSwgY2FsbERhdGEucmVhZFUyNTYoKSk7CiAgICAgICAgcmVzcG9uc2Uud3JpdGVCb29sZWFuKHJlc3ApOwoKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9CgogICAgcHVibGljIHRyYW5zZmVyRnJvbShjYWxsRGF0YTogQ2FsbGRhdGEpOiBCeXRlc1dyaXRlciB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoQk9PTEVBTl9CWVRFX0xFTkdUSCk7CiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuX3RyYW5zZmVyRnJvbSgKICAgICAgICAgICAgY2FsbERhdGEucmVhZEFkZHJlc3MoKSwKICAgICAgICAgICAgY2FsbERhdGEucmVhZEFkZHJlc3MoKSwKICAgICAgICAgICAgY2FsbERhdGEucmVhZFUyNTYoKSwKICAgICAgICApOwoKICAgICAgICByZXNwb25zZS53cml0ZUJvb2xlYW4ocmVzcCk7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfQoKICAgIHB1YmxpYyBleGVjdXRlKG1ldGhvZDogU2VsZWN0b3IsIGNhbGxkYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyIHsKICAgICAgICBsZXQgcmVzcG9uc2U6IEJ5dGVzV3JpdGVyOwoKICAgICAgICBzd2l0Y2ggKG1ldGhvZCkgewogICAgICAgICAgICBjYXNlIGVuY29kZVNlbGVjdG9yKCdkZWNpbWFscycpOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIoQk9PTEVBTl9CWVRFX0xFTkdUSCk7CiAgICAgICAgICAgICAgICByZXNwb25zZS53cml0ZVU4KHRoaXMuZGVjaW1hbHMpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoJ25hbWUnKToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbmV3IEJ5dGVzV3JpdGVyKHRoaXMubmFtZS5sZW5ndGggKyAyKTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlU3RyaW5nV2l0aExlbmd0aCh0aGlzLm5hbWUpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoJ3N5bWJvbCcpOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBuZXcgQnl0ZXNXcml0ZXIodGhpcy5zeW1ib2wubGVuZ3RoICsgMik7CiAgICAgICAgICAgICAgICByZXNwb25zZS53cml0ZVN0cmluZ1dpdGhMZW5ndGgodGhpcy5zeW1ib2wpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoJ3RvdGFsU3VwcGx5Jyk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcihVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlVTI1Nih0aGlzLnRvdGFsU3VwcGx5KTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIGVuY29kZVNlbGVjdG9yKCdtYXhpbXVtU3VwcGx5Jyk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcihVMjU2X0JZVEVfTEVOR1RIKTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlVTI1Nih0aGlzLm1heFN1cHBseSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBlbmNvZGVTZWxlY3RvcignYWxsb3dhbmNlKGFkZHJlc3MsYWRkcmVzcyknKToKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbG93YW5jZShjYWxsZGF0YSk7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoQXBwcm92ZVN0cik6CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcHByb3ZlKGNhbGxkYXRhKTsKICAgICAgICAgICAgY2FzZSBlbmNvZGVTZWxlY3RvcignYXBwcm92ZUZyb20oYWRkcmVzcyx1aW50MjU2LHVpbnQyNTYsYnl0ZXMpJyk6CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcHByb3ZlRnJvbShjYWxsZGF0YSk7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoJ2JhbGFuY2VPZihhZGRyZXNzKScpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZU9mKGNhbGxkYXRhKTsKICAgICAgICAgICAgY2FzZSBlbmNvZGVTZWxlY3RvcignYnVybih1aW50MjU2KScpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVybihjYWxsZGF0YSk7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoVHJhbnNmZXJTdHIpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmZXIoY2FsbGRhdGEpOwogICAgICAgICAgICBjYXNlIGVuY29kZVNlbGVjdG9yKFRyYW5zZmVyRnJvbVN0cik6CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2ZlckZyb20oY2FsbGRhdGEpOwoKICAgICAgICAgICAgY2FzZSBlbmNvZGVTZWxlY3Rvcignbm9uY2VPZihhZGRyZXNzKScpOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9uY2VPZihjYWxsZGF0YSk7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmV4ZWN1dGUobWV0aG9kLCBjYWxsZGF0YSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9CgogICAgLyoqIFJFREVGSU5FRCBNRVRIT0RTICovCiAgICBwcm90ZWN0ZWQgX2FsbG93YW5jZShvd25lcjogQWRkcmVzcywgc3BlbmRlcjogQWRkcmVzcyk6IHUyNTYgewogICAgICAgIGNvbnN0IHNlbmRlck1hcCA9IHRoaXMuYWxsb3dhbmNlTWFwLmdldChvd25lcik7CiAgICAgICAgcmV0dXJuIHNlbmRlck1hcC5nZXQoc3BlbmRlcik7CiAgICB9CgogICAgcHJvdGVjdGVkIF9hcHByb3ZlRnJvbSgKICAgICAgICBvd25lcjogQWRkcmVzcywKICAgICAgICBzcGVuZGVyOiBBZGRyZXNzLAogICAgICAgIHZhbHVlOiB1MjU2LAogICAgICAgIG5vbmNlOiB1MjU2LAogICAgICAgIHNpZ25hdHVyZTogVWludDhBcnJheSwKICAgICk6IGJvb2xlYW4gewogICAgICAgIGlmIChvd25lciA9PT0gQmxvY2tjaGFpbi5ERUFEX0FERFJFU1MpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQWRkcmVzcyBjYW4gbm90IGJlIGRlYWQgYWRkcmVzcycpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNwZW5kZXIgPT09IEJsb2NrY2hhaW4uREVBRF9BRERSRVNTKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ1NwZW5kZXIgY2Fubm90IGJlIGRlYWQgYWRkcmVzcycpOwogICAgICAgIH0KCiAgICAgICAgLy8gRW5zdXJlIHRoZSBub25jZSBtYXRjaGVzIHdoYXQgd2UgaGF2ZSBzdG9yZWQgb24tY2hhaW4KICAgICAgICBjb25zdCBzdG9yZWROb25jZSA9IHRoaXMuX25vbmNlTWFwLmdldChvd25lcik7CiAgICAgICAgaWYgKCF1MjU2LmVxKHN0b3JlZE5vbmNlLCBub25jZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnSW52YWxpZCBub25jZSAocG9zc2libGUgcmVwbGF5IG9yIG91dC1vZi1zeW5jKScpOwogICAgICAgIH0KCiAgICAgICAgLy8gQnVpbGQgdGhlIGhhc2ggdG8gbWF0Y2ggZXhhY3RseSB3aGF0IHRoZSB1c2VyIHNpZ25lZCwgaW5jbHVkaW5nIHRoZSBub25jZQogICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcigKICAgICAgICAgICAgQUREUkVTU19CWVRFX0xFTkdUSCAqIDIgKyBVMjU2X0JZVEVfTEVOR1RIICsgVTI1Nl9CWVRFX0xFTkdUSCwKICAgICAgICApOwoKICAgICAgICB3cml0ZXIud3JpdGVBZGRyZXNzKG93bmVyKTsKICAgICAgICB3cml0ZXIud3JpdGVBZGRyZXNzKHNwZW5kZXIpOwogICAgICAgIHdyaXRlci53cml0ZVUyNTYodmFsdWUpOwogICAgICAgIHdyaXRlci53cml0ZVUyNTYobm9uY2UpOwoKICAgICAgICBjb25zdCBoYXNoID0gc2hhMjU2KHdyaXRlci5nZXRCdWZmZXIoKSk7CiAgICAgICAgaWYgKCFCbG9ja2NoYWluLnZlcmlmeVNjaG5vcnJTaWduYXR1cmUob3duZXIsIHNpZ25hdHVyZSwgaGFzaCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQXBwcm92ZUZyb206IEludmFsaWQgc2lnbmF0dXJlJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBJZiB2YWxpZCwgaW5jcmVtZW50IHRoZSBub25jZSBzbyB0aGlzIHNpZ25hdHVyZSBjYW4ndCBiZSByZXVzZWQKICAgICAgICB0aGlzLl9ub25jZU1hcC5zZXQob3duZXIsIFNhZmVNYXRoLmFkZChzdG9yZWROb25jZSwgdTI1Ni5PbmUpKTsKCiAgICAgICAgLy8gVXBkYXRlIGFsbG93YW5jZQogICAgICAgIGNvbnN0IHNlbmRlck1hcCA9IHRoaXMuYWxsb3dhbmNlTWFwLmdldChvd25lcik7CiAgICAgICAgc2VuZGVyTWFwLnNldChzcGVuZGVyLCB2YWx1ZSk7CgogICAgICAgIC8vIEVtaXQgZXZlbnQKICAgICAgICB0aGlzLmNyZWF0ZUFwcHJvdmVFdmVudChvd25lciwgc3BlbmRlciwgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHByb3RlY3RlZCBfYXBwcm92ZShvd25lcjogQWRkcmVzcywgc3BlbmRlcjogQWRkcmVzcywgdmFsdWU6IHUyNTYpOiBib29sZWFuIHsKICAgICAgICBpZiAob3duZXIgPT09IEJsb2NrY2hhaW4uREVBRF9BRERSRVNTKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ0FkZHJlc3MgY2FuIG5vdCBiZSBkZWFkIGFkZHJlc3MnKTsKICAgICAgICB9CgogICAgICAgIGlmIChzcGVuZGVyID09PSBCbG9ja2NoYWluLkRFQURfQUREUkVTUykgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdTcGVuZGVyIGNhbm5vdCBiZSBkZWFkIGFkZHJlc3MnKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHNlbmRlck1hcCA9IHRoaXMuYWxsb3dhbmNlTWFwLmdldChvd25lcik7CiAgICAgICAgc2VuZGVyTWFwLnNldChzcGVuZGVyLCB2YWx1ZSk7CgogICAgICAgIHRoaXMuY3JlYXRlQXBwcm92ZUV2ZW50KG93bmVyLCBzcGVuZGVyLCB2YWx1ZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcHJvdGVjdGVkIF9iYWxhbmNlT2Yob3duZXI6IEFkZHJlc3MpOiB1MjU2IHsKICAgICAgICBpZiAoIXRoaXMuYmFsYW5jZU9mTWFwLmhhcyhvd25lcikpIHJldHVybiB1MjU2Llplcm87CgogICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2VPZk1hcC5nZXQob3duZXIpOwogICAgfQoKICAgIHByb3RlY3RlZCBfYnVybih2YWx1ZTogdTI1Niwgb25seURlcGxveWVyOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4gewogICAgICAgIGlmICh1MjU2LmVxKHZhbHVlLCB1MjU2Llplcm8pKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYE5vIHRva2Vuc2ApOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9ubHlEZXBsb3llcikgdGhpcy5vbmx5RGVwbG95ZXIoQmxvY2tjaGFpbi50eC5zZW5kZXIpOwogICAgICAgIGlmICh0aGlzLl90b3RhbFN1cHBseS52YWx1ZSA8IHZhbHVlKSB0aHJvdyBuZXcgUmV2ZXJ0KGBJbnN1ZmZpY2llbnQgdG90YWwgc3VwcGx5LmApOwogICAgICAgIGlmICghdGhpcy5iYWxhbmNlT2ZNYXAuaGFzKEJsb2NrY2hhaW4udHguc2VuZGVyKSkgdGhyb3cgbmV3IFJldmVydCgnTm8gYmFsYW5jZScpOwoKICAgICAgICBjb25zdCBiYWxhbmNlOiB1MjU2ID0gdGhpcy5iYWxhbmNlT2ZNYXAuZ2V0KEJsb2NrY2hhaW4udHguc2VuZGVyKTsKICAgICAgICBpZiAoYmFsYW5jZSA8IHZhbHVlKSB0aHJvdyBuZXcgUmV2ZXJ0KGBJbnN1ZmZpY2llbnQgYmFsYW5jZWApOwoKICAgICAgICBjb25zdCBuZXdCYWxhbmNlOiB1MjU2ID0gU2FmZU1hdGguc3ViKGJhbGFuY2UsIHZhbHVlKTsKICAgICAgICB0aGlzLmJhbGFuY2VPZk1hcC5zZXQoQmxvY2tjaGFpbi50eC5zZW5kZXIsIG5ld0JhbGFuY2UpOwoKICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgaXMgdmFsaWQgQXNzZW1ibHlTY3JpcHQgYnV0IGNhbiB0cmlwIFRTCiAgICAgICAgdGhpcy5fdG90YWxTdXBwbHkgLT0gdmFsdWU7CgogICAgICAgIHRoaXMuY3JlYXRlQnVybkV2ZW50KHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgX21pbnQodG86IEFkZHJlc3MsIHZhbHVlOiB1MjU2LCBvbmx5RGVwbG95ZXI6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7CiAgICAgICAgaWYgKG9ubHlEZXBsb3llcikgdGhpcy5vbmx5RGVwbG95ZXIoQmxvY2tjaGFpbi50eC5zZW5kZXIpOwoKICAgICAgICBpZiAoIXRoaXMuYmFsYW5jZU9mTWFwLmhhcyh0bykpIHsKICAgICAgICAgICAgdGhpcy5iYWxhbmNlT2ZNYXAuc2V0KHRvLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgdG9CYWxhbmNlOiB1MjU2ID0gdGhpcy5iYWxhbmNlT2ZNYXAuZ2V0KHRvKTsKICAgICAgICAgICAgY29uc3QgbmV3VG9CYWxhbmNlOiB1MjU2ID0gU2FmZU1hdGguYWRkKHRvQmFsYW5jZSwgdmFsdWUpOwogICAgICAgICAgICB0aGlzLmJhbGFuY2VPZk1hcC5zZXQodG8sIG5ld1RvQmFsYW5jZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgaXMgdmFsaWQgQXNzZW1ibHlTY3JpcHQgYnV0IGNhbiB0cmlwIFRTCiAgICAgICAgdGhpcy5fdG90YWxTdXBwbHkgKz0gdmFsdWU7CgogICAgICAgIGlmICh0aGlzLl90b3RhbFN1cHBseS52YWx1ZSA+IHRoaXMubWF4U3VwcGx5KSB0aHJvdyBuZXcgUmV2ZXJ0KCdNYXggc3VwcGx5IHJlYWNoZWQnKTsKICAgICAgICB0aGlzLmNyZWF0ZU1pbnRFdmVudCh0bywgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHByb3RlY3RlZCBfdHJhbnNmZXIodG86IEFkZHJlc3MsIHZhbHVlOiB1MjU2KTogYm9vbGVhbiB7CiAgICAgICAgY29uc3Qgc2VuZGVyID0gQmxvY2tjaGFpbi50eC5zZW5kZXI7CiAgICAgICAgaWYgKHRoaXMuaXNTZWxmKHNlbmRlcikpIHRocm93IG5ldyBSZXZlcnQoJ0NhbiBub3QgdHJhbnNmZXIgZnJvbSBzZWxmIGFjY291bnQnKTsKICAgICAgICBpZiAodTI1Ni5lcSh2YWx1ZSwgdTI1Ni5aZXJvKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBDYW5ub3QgdHJhbnNmZXIgMCB0b2tlbnNgKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGJhbGFuY2U6IHUyNTYgPSB0aGlzLmJhbGFuY2VPZk1hcC5nZXQoc2VuZGVyKTsKICAgICAgICBpZiAoYmFsYW5jZSA8IHZhbHVlKSB0aHJvdyBuZXcgUmV2ZXJ0KGBJbnN1ZmZpY2llbnQgYmFsYW5jZWApOwoKICAgICAgICBjb25zdCBuZXdCYWxhbmNlOiB1MjU2ID0gU2FmZU1hdGguc3ViKGJhbGFuY2UsIHZhbHVlKTsKICAgICAgICB0aGlzLmJhbGFuY2VPZk1hcC5zZXQoc2VuZGVyLCBuZXdCYWxhbmNlKTsKCiAgICAgICAgY29uc3QgdG9CYWxhbmNlOiB1MjU2ID0gdGhpcy5iYWxhbmNlT2ZNYXAuZ2V0KHRvKTsKICAgICAgICBjb25zdCBuZXdUb0JhbGFuY2U6IHUyNTYgPSBTYWZlTWF0aC5hZGQodG9CYWxhbmNlLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5iYWxhbmNlT2ZNYXAuc2V0KHRvLCBuZXdUb0JhbGFuY2UpOwoKICAgICAgICB0aGlzLmNyZWF0ZVRyYW5zZmVyRXZlbnQoc2VuZGVyLCB0bywgdmFsdWUpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIEB1bnNhZmUKICAgIHByb3RlY3RlZCBfdW5zYWZlVHJhbnNmZXJGcm9tKGZyb206IEFkZHJlc3MsIHRvOiBBZGRyZXNzLCB2YWx1ZTogdTI1Nik6IGJvb2xlYW4gewogICAgICAgIGNvbnN0IGJhbGFuY2U6IHUyNTYgPSB0aGlzLmJhbGFuY2VPZk1hcC5nZXQoZnJvbSk7CiAgICAgICAgaWYgKGJhbGFuY2UgPCB2YWx1ZSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KAogICAgICAgICAgICAgICAgYFRyYW5zZmVyRnJvbSBpbnN1ZmZpY2llbnQgYmFsYW5jZSBvZiAke2Zyb20udG9IZXgoKX0gaXMgJHtiYWxhbmNlfSBhbmQgdmFsdWUgaXMgJHt2YWx1ZX1gLAogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbmV3QmFsYW5jZTogdTI1NiA9IFNhZmVNYXRoLnN1YihiYWxhbmNlLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5iYWxhbmNlT2ZNYXAuc2V0KGZyb20sIG5ld0JhbGFuY2UpOwoKICAgICAgICBpZiAoIXRoaXMuYmFsYW5jZU9mTWFwLmhhcyh0bykpIHsKICAgICAgICAgICAgdGhpcy5iYWxhbmNlT2ZNYXAuc2V0KHRvLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgdG9CYWxhbmNlOiB1MjU2ID0gdGhpcy5iYWxhbmNlT2ZNYXAuZ2V0KHRvKTsKICAgICAgICAgICAgY29uc3QgbmV3VG9CYWxhbmNlOiB1MjU2ID0gU2FmZU1hdGguYWRkKHRvQmFsYW5jZSwgdmFsdWUpOwogICAgICAgICAgICB0aGlzLmJhbGFuY2VPZk1hcC5zZXQodG8sIG5ld1RvQmFsYW5jZSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNyZWF0ZVRyYW5zZmVyRXZlbnQoZnJvbSwgdG8sIHZhbHVlKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgX3RyYW5zZmVyRnJvbShmcm9tOiBBZGRyZXNzLCB0bzogQWRkcmVzcywgdmFsdWU6IHUyNTYpOiBib29sZWFuIHsKICAgICAgICBpZiAoZnJvbSA9PT0gQmxvY2tjaGFpbi5ERUFEX0FERFJFU1MpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQ2Fubm90IHRyYW5zZmVyIHRvIG9yIGZyb20gZGVhZCBhZGRyZXNzJyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9zcGVuZEFsbG93YW5jZShmcm9tLCBCbG9ja2NoYWluLnR4LnNlbmRlciwgdmFsdWUpOwogICAgICAgIHRoaXMuX3Vuc2FmZVRyYW5zZmVyRnJvbShmcm9tLCB0bywgdmFsdWUpOwoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgX3NwZW5kQWxsb3dhbmNlKG93bmVyOiBBZGRyZXNzLCBzcGVuZGVyOiBBZGRyZXNzLCB2YWx1ZTogdTI1Nik6IHZvaWQgewogICAgICAgIGNvbnN0IG93bmVyQWxsb3dhbmNlTWFwID0gdGhpcy5hbGxvd2FuY2VNYXAuZ2V0KG93bmVyKTsKICAgICAgICBjb25zdCBhbGxvd2VkOiB1MjU2ID0gb3duZXJBbGxvd2FuY2VNYXAuZ2V0KHNwZW5kZXIpOwoKICAgICAgICBpZiAoYWxsb3dlZCA8IHZhbHVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoCiAgICAgICAgICAgICAgICBgSW5zdWZmaWNpZW50IGFsbG93YW5jZSAke2FsbG93ZWR9IDwgJHt2YWx1ZX0uIFNwZW5kZXI6ICR7c3BlbmRlcn0gLSBPd25lcjogJHtvd25lcn1gLAogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbmV3QWxsb3dhbmNlOiB1MjU2ID0gU2FmZU1hdGguc3ViKGFsbG93ZWQsIHZhbHVlKTsKICAgICAgICBvd25lckFsbG93YW5jZU1hcC5zZXQoc3BlbmRlciwgbmV3QWxsb3dhbmNlKTsKCiAgICAgICAgdGhpcy5hbGxvd2FuY2VNYXAuc2V0KG93bmVyLCBvd25lckFsbG93YW5jZU1hcCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGNyZWF0ZUJ1cm5FdmVudCh2YWx1ZTogdTI1Nik6IHZvaWQgewogICAgICAgIGNvbnN0IGJ1cm5FdmVudCA9IG5ldyBCdXJuRXZlbnQodmFsdWUpOwogICAgICAgIHRoaXMuZW1pdEV2ZW50KGJ1cm5FdmVudCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGNyZWF0ZUFwcHJvdmVFdmVudChvd25lcjogQWRkcmVzcywgc3BlbmRlcjogQWRkcmVzcywgdmFsdWU6IHUyNTYpOiB2b2lkIHsKICAgICAgICBjb25zdCBhcHByb3ZlRXZlbnQgPSBuZXcgQXBwcm92ZUV2ZW50KG93bmVyLCBzcGVuZGVyLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5lbWl0RXZlbnQoYXBwcm92ZUV2ZW50KTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgY3JlYXRlTWludEV2ZW50KHJlY2lwaWVudDogQWRkcmVzcywgdmFsdWU6IHUyNTYpOiB2b2lkIHsKICAgICAgICBjb25zdCBtaW50RXZlbnQgPSBuZXcgTWludEV2ZW50KHJlY2lwaWVudCwgdmFsdWUpOwogICAgICAgIHRoaXMuZW1pdEV2ZW50KG1pbnRFdmVudCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGNyZWF0ZVRyYW5zZmVyRXZlbnQoZnJvbTogQWRkcmVzcywgdG86IEFkZHJlc3MsIHZhbHVlOiB1MjU2KTogdm9pZCB7CiAgICAgICAgY29uc3QgdHJhbnNmZXJFdmVudCA9IG5ldyBUcmFuc2ZlckV2ZW50KGZyb20sIHRvLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5lbWl0RXZlbnQodHJhbnNmZXJFdmVudCk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/contracts/interfaces/IOP_20.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi8uLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBTdG9yZWRVMjU2IH0gZnJvbSAnLi4vLi4vc3RvcmFnZS9TdG9yZWRVMjU2JzsKaW1wb3J0IHsgQ2FsbGRhdGEgfSBmcm9tICcuLi8uLi90eXBlcyc7CgpleHBvcnQgaW50ZXJmYWNlIElPUF8yMCB7CiAgICByZWFkb25seSBfdG90YWxTdXBwbHk6IFN0b3JlZFUyNTY7CgogICAgYmFsYW5jZU9mKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyOwoKICAgIHRyYW5zZmVyKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyOwoKICAgIHRyYW5zZmVyRnJvbShjYWxsRGF0YTogQ2FsbGRhdGEpOiBCeXRlc1dyaXRlcjsKCiAgICBhcHByb3ZlKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyOwoKICAgIGFsbG93YW5jZShjYWxsRGF0YTogQ2FsbGRhdGEpOiBCeXRlc1dyaXRlcjsKCiAgICBidXJuKGNhbGxEYXRhOiBDYWxsZGF0YSk6IEJ5dGVzV3JpdGVyOwp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/contracts/interfaces/OP20InitParameters.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgpleHBvcnQgY2xhc3MgT1AyMEluaXRQYXJhbWV0ZXJzIHsKICAgIHJlYWRvbmx5IG1heFN1cHBseTogdTI1NjsKICAgIHJlYWRvbmx5IGRlY2ltYWxzOiB1ODsKICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZzsKICAgIHJlYWRvbmx5IHN5bWJvbDogc3RyaW5nOwoKICAgIGNvbnN0cnVjdG9yKG1heFN1cHBseTogdTI1NiwgZGVjaW1hbHM6IHU4LCBuYW1lOiBzdHJpbmcsIHN5bWJvbDogc3RyaW5nKSB7CiAgICAgICAgdGhpcy5tYXhTdXBwbHkgPSBtYXhTdXBwbHk7CiAgICAgICAgdGhpcy5kZWNpbWFscyA9IGRlY2ltYWxzOwogICAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgICAgdGhpcy5zeW1ib2wgPSBzeW1ib2w7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/contracts/OP_20.ts": "aW1wb3J0IHsgRGVwbG95YWJsZU9QXzIwIH0gZnJvbSAnLi9EZXBsb3lhYmxlT1BfMjAnOwppbXBvcnQgeyB1MjU2IH0gZnJvbSAnQGJ0Yy12aXNpb24vYXMtYmlnbnVtL2Fzc2VtYmx5JzsKaW1wb3J0IHsgT1AyMEluaXRQYXJhbWV0ZXJzIH0gZnJvbSAnLi9pbnRlcmZhY2VzL09QMjBJbml0UGFyYW1ldGVycyc7CgpleHBvcnQgYWJzdHJhY3QgY2xhc3MgT1BfMjAgZXh0ZW5kcyBEZXBsb3lhYmxlT1BfMjAgewogICAgcHVibGljIGNvbnN0cnVjdG9yKG1heFN1cHBseTogdTI1NiwgZGVjaW1hbHM6IHU4LCBuYW1lOiBzdHJpbmcsIHN5bWJvbDogc3RyaW5nKSB7CiAgICAgICAgc3VwZXIobmV3IE9QMjBJbml0UGFyYW1ldGVycyhtYXhTdXBwbHksIGRlY2ltYWxzLCBuYW1lLCBzeW1ib2wpKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/contracts/OP_NET.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vZW52JzsKaW1wb3J0IHsgTUFYX0VWRU5UX0RBVEFfU0laRSwgTmV0RXZlbnQgfSBmcm9tICcuLi9ldmVudHMvTmV0RXZlbnQnOwppbXBvcnQgeyBJQlRDIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQlRDJzsKaW1wb3J0IHsgZW5jb2RlU2VsZWN0b3IsIFNlbGVjdG9yIH0gZnJvbSAnLi4vbWF0aC9hYmknOwppbXBvcnQgeyBDYWxsZGF0YSB9IGZyb20gJy4uL3R5cGVzJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RIIH0gZnJvbSAnLi4vdXRpbHMnOwoKZXhwb3J0IGNsYXNzIE9QX05FVCBpbXBsZW1lbnRzIElCVEMgewogICAgcHVibGljIGdldCBhZGRyZXNzKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBCbG9ja2NoYWluLmNvbnRyYWN0QWRkcmVzczsKICAgIH0KCiAgICBwdWJsaWMgZ2V0IGNvbnRyYWN0RGVwbG95ZXIoKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW4uY29udHJhY3REZXBsb3llcjsKICAgIH0KCiAgICBwdWJsaWMgb25EZXBsb3ltZW50KF9jYWxsZGF0YTogQ2FsbGRhdGEpOiB2b2lkIHt9CgogICAgcHVibGljIG9uRXhlY3V0aW9uU3RhcnRlZCgpOiB2b2lkIHt9CgogICAgcHVibGljIG9uRXhlY3V0aW9uQ29tcGxldGVkKCk6IHZvaWQge30KCiAgICBwdWJsaWMgZXhlY3V0ZShtZXRob2Q6IFNlbGVjdG9yLCBfY2FsbGRhdGE6IENhbGxkYXRhKTogQnl0ZXNXcml0ZXIgewogICAgICAgIGxldCByZXNwb25zZTogQnl0ZXNXcml0ZXI7CgogICAgICAgIHN3aXRjaCAobWV0aG9kKSB7CiAgICAgICAgICAgIGNhc2UgZW5jb2RlU2VsZWN0b3IoJ2RlcGxveWVyJyk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ldyBCeXRlc1dyaXRlcihBRERSRVNTX0JZVEVfTEVOR1RIKTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlQWRkcmVzcyh0aGlzLmNvbnRyYWN0RGVwbG95ZXIpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBNZXRob2Qgbm90IGZvdW5kOiAke21ldGhvZH1gKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZW1pdEV2ZW50KGV2ZW50OiBOZXRFdmVudCk6IHZvaWQgewogICAgICAgIGlmIChldmVudC5sZW5ndGggPiBNQVhfRVZFTlRfREFUQV9TSVpFKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgZGF0YSBsZW5ndGggZXhjZWVkcyBtYXhpbXVtIGxlbmd0aC4nKTsKICAgICAgICB9CgogICAgICAgIEJsb2NrY2hhaW4uZW1pdChldmVudCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGlzU2VsZihhZGRyZXNzOiBBZGRyZXNzKTogYm9vbGVhbiB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWRkcmVzcyA9PT0gYWRkcmVzczsKICAgIH0KCiAgICBwcm90ZWN0ZWQgb25seURlcGxveWVyKGNhbGxlcjogQWRkcmVzcyk6IHZvaWQgewogICAgICAgIGlmICh0aGlzLmNvbnRyYWN0RGVwbG95ZXIgIT09IGNhbGxlcikgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdPbmx5IGRlcGxveWVyIGNhbiBjYWxsIHRoaXMgbWV0aG9kJyk7CiAgICAgICAgfQogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/env/BlockchainEnvironment.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzUmVhZGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzUmVhZGVyJzsKaW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBPUF9ORVQgfSBmcm9tICcuLi9jb250cmFjdHMvT1BfTkVUJzsKaW1wb3J0IHsgTmV0RXZlbnQgfSBmcm9tICcuLi9ldmVudHMvTmV0RXZlbnQnOwppbXBvcnQgeyBQb3RlbnRpYWwgfSBmcm9tICcuLi9sYW5nL0RlZmluaXRpb25zJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RIIH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgeyBCbG9jayB9IGZyb20gJy4vY2xhc3Nlcy9CbG9jayc7CmltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnLi9jbGFzc2VzL1RyYW5zYWN0aW9uJzsKaW1wb3J0IHsKICAgIGNhbGxDb250cmFjdCwKICAgIGRlcGxveUZyb21BZGRyZXNzLAogICAgZW1pdCwKICAgIGVudl9leGl0LAogICAgZ2V0Q2FsbFJlc3VsdCwKICAgIGxvYWRQb2ludGVyLAogICAgbG9nLAogICAgc2hhMjU2LAogICAgc3RvcmVQb2ludGVyLAogICAgdmFsaWRhdGVCaXRjb2luQWRkcmVzcywKICAgIHZlcmlmeVNjaG5vcnJTaWduYXR1cmUsCn0gZnJvbSAnLi9nbG9iYWwnOwppbXBvcnQgeyBlcVVpbnQsIE1hcFVpbnQ4QXJyYXkgfSBmcm9tICcuLi9nZW5lcmljL01hcFVpbnQ4QXJyYXknOwppbXBvcnQgeyBFTVBUWV9CVUZGRVIgfSBmcm9tICcuLi9tYXRoL2J5dGVzJzsKaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi4vcGx1Z2lucy9QbHVnaW4nOwppbXBvcnQgeyBDYWxsZGF0YSB9IGZyb20gJy4uL3R5cGVzJzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKCmV4cG9ydCAqIGZyb20gJy4uL2Vudi9nbG9iYWwnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBCbG9ja2NoYWluRW52aXJvbm1lbnQgewogICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTUFYX1UxNjogdTE2ID0gNjU1MzU7CgogICAgcHVibGljIHJlYWRvbmx5IERFQURfQUREUkVTUzogQWRkcmVzcyA9IEFkZHJlc3MuZGVhZCgpOwoKICAgIHByaXZhdGUgc3RvcmFnZTogTWFwVWludDhBcnJheSA9IG5ldyBNYXBVaW50OEFycmF5KCk7CiAgICBwcml2YXRlIF9zZWxmQ29udHJhY3Q6IFBvdGVudGlhbDxPUF9ORVQ+ID0gbnVsbDsKICAgIHByaXZhdGUgX3BsdWdpbnM6IFBsdWdpbltdID0gW107CgogICAgcHJpdmF0ZSBfYmxvY2s6IFBvdGVudGlhbDxCbG9jaz4gPSBudWxsOwoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXQgYmxvY2soKTogQmxvY2sgewogICAgICAgIGlmICghdGhpcy5fYmxvY2spIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQmxvY2sgaXMgcmVxdWlyZWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9ibG9jayBhcyBCbG9jazsKICAgIH0KCiAgICBwcml2YXRlIF90eDogUG90ZW50aWFsPFRyYW5zYWN0aW9uPiA9IG51bGw7CgogICAgQGlubGluZQogICAgcHVibGljIGdldCB0eCgpOiBUcmFuc2FjdGlvbiB7CiAgICAgICAgaWYgKCF0aGlzLl90eCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdUcmFuc2FjdGlvbiBpcyByZXF1aXJlZCcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuX3R4IGFzIFRyYW5zYWN0aW9uOwogICAgfQoKICAgIHByaXZhdGUgX2NvbnRyYWN0OiBQb3RlbnRpYWw8KCkgPT4gT1BfTkVUPiA9IG51bGw7CgogICAgcHVibGljIGdldCBjb250cmFjdCgpOiBPUF9ORVQgewogICAgICAgIHJldHVybiB0aGlzLl9zZWxmQ29udHJhY3QgYXMgT1BfTkVUOwogICAgfQoKICAgIHB1YmxpYyBzZXQgY29udHJhY3QoY29udHJhY3Q6ICgpID0+IE9QX05FVCkgewogICAgICAgIHRoaXMuX2NvbnRyYWN0ID0gY29udHJhY3Q7CgogICAgICAgIHRoaXMuY3JlYXRlQ29udHJhY3RJZk5vdEV4aXN0cygpOwogICAgfQoKICAgIHByaXZhdGUgX25leHRQb2ludGVyOiB1MTYgPSAwOwoKICAgIHB1YmxpYyBnZXQgbmV4dFBvaW50ZXIoKTogdTE2IHsKICAgICAgICBpZiAodGhpcy5fbmV4dFBvaW50ZXIgPT09IEJsb2NrY2hhaW5FbnZpcm9ubWVudC5NQVhfVTE2KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYE91dCBvZiBzdG9yYWdlIHBvaW50ZXIuYCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9uZXh0UG9pbnRlciArPSAxOwoKICAgICAgICByZXR1cm4gdGhpcy5fbmV4dFBvaW50ZXI7CiAgICB9CgogICAgcHVibGljIF9jb250cmFjdERlcGxveWVyOiBQb3RlbnRpYWw8QWRkcmVzcz4gPSBudWxsOwoKICAgIHB1YmxpYyBnZXQgY29udHJhY3REZXBsb3llcigpOiBBZGRyZXNzIHsKICAgICAgICBpZiAoIXRoaXMuX2NvbnRyYWN0RGVwbG95ZXIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnRGVwbG95ZXIgaXMgcmVxdWlyZWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9jb250cmFjdERlcGxveWVyIGFzIEFkZHJlc3M7CiAgICB9CgogICAgcHVibGljIF9jb250cmFjdEFkZHJlc3M6IFBvdGVudGlhbDxBZGRyZXNzPiA9IG51bGw7CgogICAgcHVibGljIGdldCBjb250cmFjdEFkZHJlc3MoKTogQWRkcmVzcyB7CiAgICAgICAgaWYgKCF0aGlzLl9jb250cmFjdEFkZHJlc3MpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQ29udHJhY3QgYWRkcmVzcyBpcyByZXF1aXJlZCcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRyYWN0QWRkcmVzcyBhcyBBZGRyZXNzOwogICAgfQoKICAgIHB1YmxpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpbik6IHZvaWQgewogICAgICAgIHRoaXMuX3BsdWdpbnMucHVzaChwbHVnaW4pOwogICAgfQoKICAgIHB1YmxpYyBvbkRlcGxveW1lbnQoY2FsbGRhdGE6IENhbGxkYXRhKTogdm9pZCB7CiAgICAgICAgZm9yIChsZXQgaTogaTMyID0gMDsgaSA8IHRoaXMuX3BsdWdpbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5fcGx1Z2luc1tpXTsKCiAgICAgICAgICAgIHBsdWdpbi5vbkRlcGxveW1lbnQoY2FsbGRhdGEpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb250cmFjdC5vbkRlcGxveW1lbnQoY2FsbGRhdGEpOwogICAgfQoKICAgIHB1YmxpYyBvbkV4ZWN1dGlvblN0YXJ0ZWQoKTogdm9pZCB7CiAgICAgICAgZm9yIChsZXQgaTogaTMyID0gMDsgaSA8IHRoaXMuX3BsdWdpbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gdGhpcy5fcGx1Z2luc1tpXTsKCiAgICAgICAgICAgIHBsdWdpbi5vbkV4ZWN1dGlvblN0YXJ0ZWQoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY29udHJhY3Qub25FeGVjdXRpb25TdGFydGVkKCk7CiAgICB9CgogICAgcHVibGljIG9uRXhlY3V0aW9uQ29tcGxldGVkKCk6IHZvaWQgewogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB0aGlzLl9wbHVnaW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuX3BsdWdpbnNbaV07CgogICAgICAgICAgICBwbHVnaW4ub25FeGVjdXRpb25Db21wbGV0ZWQoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY29udHJhY3Qub25FeGVjdXRpb25Db21wbGV0ZWQoKTsKICAgIH0KCiAgICBwdWJsaWMgc2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoZGF0YTogVWludDhBcnJheSk6IHZvaWQgewogICAgICAgIGNvbnN0IHJlYWRlcjogQnl0ZXNSZWFkZXIgPSBuZXcgQnl0ZXNSZWFkZXIoZGF0YSk7CgogICAgICAgIGNvbnN0IGJsb2NrSGFzaCA9IHJlYWRlci5yZWFkQnl0ZXMoMzIpOwogICAgICAgIGNvbnN0IGJsb2NrTnVtYmVyID0gcmVhZGVyLnJlYWRVNjQoKTsKICAgICAgICBjb25zdCBibG9ja01lZGlhblRpbWUgPSByZWFkZXIucmVhZFU2NCgpOwogICAgICAgIGNvbnN0IHR4SWQgPSByZWFkZXIucmVhZEJ5dGVzKDMyKTsKICAgICAgICBjb25zdCB0eEhhc2ggPSByZWFkZXIucmVhZEJ5dGVzKDMyKTsKICAgICAgICBjb25zdCBjb250cmFjdEFkZHJlc3MgPSByZWFkZXIucmVhZEFkZHJlc3MoKTsKICAgICAgICBjb25zdCBjb250cmFjdERlcGxveWVyID0gcmVhZGVyLnJlYWRBZGRyZXNzKCk7CiAgICAgICAgY29uc3QgY2FsbGVyID0gcmVhZGVyLnJlYWRBZGRyZXNzKCk7CiAgICAgICAgY29uc3Qgb3JpZ2luID0gcmVhZGVyLnJlYWRBZGRyZXNzKCk7CgogICAgICAgIHRoaXMuX3R4ID0gbmV3IFRyYW5zYWN0aW9uKAogICAgICAgICAgICBjYWxsZXIsCiAgICAgICAgICAgIG9yaWdpbiwKICAgICAgICAgICAgdHhJZCwKICAgICAgICAgICAgdHhIYXNoLAogICAgICAgICk7CgogICAgICAgIHRoaXMuX2NvbnRyYWN0RGVwbG95ZXIgPSBjb250cmFjdERlcGxveWVyOwogICAgICAgIHRoaXMuX2NvbnRyYWN0QWRkcmVzcyA9IGNvbnRyYWN0QWRkcmVzczsKCiAgICAgICAgdGhpcy5fYmxvY2sgPSBuZXcgQmxvY2soYmxvY2tIYXNoLCBibG9ja051bWJlciwgYmxvY2tNZWRpYW5UaW1lKTsKCiAgICAgICAgdGhpcy5jcmVhdGVDb250cmFjdElmTm90RXhpc3RzKCk7CiAgICB9CgogICAgcHVibGljIGNhbGwoZGVzdGluYXRpb25Db250cmFjdDogQWRkcmVzcywgY2FsbGRhdGE6IEJ5dGVzV3JpdGVyKTogQnl0ZXNSZWFkZXIgewogICAgICAgIGlmICghZGVzdGluYXRpb25Db250cmFjdCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdEZXN0aW5hdGlvbiBjb250cmFjdCBpcyByZXF1aXJlZCcpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzdWx0TGVuZ3RoQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDMyKTsKICAgICAgICBjb25zdCBzdGF0dXMgPSBjYWxsQ29udHJhY3QoZGVzdGluYXRpb25Db250cmFjdC5idWZmZXIsIGNhbGxkYXRhLmdldEJ1ZmZlcigpLmJ1ZmZlciwgY2FsbGRhdGEuYnVmZmVyTGVuZ3RoKCksIHJlc3VsdExlbmd0aEJ1ZmZlcik7CgogICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBCeXRlc1JlYWRlcihVaW50OEFycmF5LndyYXAocmVzdWx0TGVuZ3RoQnVmZmVyKSk7CiAgICAgICAgY29uc3QgcmVzdWx0TGVuZ3RoID0gcmVhZGVyLnJlYWRVMzIodHJ1ZSk7CiAgICAgICAgY29uc3QgcmVzdWx0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHJlc3VsdExlbmd0aCk7CiAgICAgICAgZ2V0Q2FsbFJlc3VsdCgwLCByZXN1bHRMZW5ndGgsIHJlc3VsdEJ1ZmZlcik7CgogICAgICAgIGlmIChzdGF0dXMgIT09IDApIHsKICAgICAgICAgICAgZW52X2V4aXQoc3RhdHVzLCByZXN1bHRCdWZmZXIsIHJlc3VsdExlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbmV3IEJ5dGVzUmVhZGVyKFVpbnQ4QXJyYXkud3JhcChyZXN1bHRCdWZmZXIpKTsKICAgIH0KCiAgICBwdWJsaWMgbG9nKGRhdGE6IHN0cmluZyk6IHZvaWQgewogICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihkYXRhLmxlbmd0aCArIDIpOwogICAgICAgIHdyaXRlci53cml0ZVN0cmluZyhkYXRhKTsKCiAgICAgICAgY29uc3QgYnVmZmVyID0gd3JpdGVyLmdldEJ1ZmZlcigpOwogICAgICAgIGxvZyhidWZmZXIuYnVmZmVyLCBidWZmZXIubGVuZ3RoKTsKICAgIH0KCiAgICBwdWJsaWMgZW1pdChldmVudDogTmV0RXZlbnQpOiB2b2lkIHsKICAgICAgICBjb25zdCBkYXRhID0gZXZlbnQuZ2V0RXZlbnREYXRhKCk7CiAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKGV2ZW50LmV2ZW50VHlwZS5sZW5ndGggKyA2ICsgZGF0YS5ieXRlTGVuZ3RoKTsKCiAgICAgICAgd3JpdGVyLndyaXRlU3RyaW5nV2l0aExlbmd0aChldmVudC5ldmVudFR5cGUpOwogICAgICAgIHdyaXRlci53cml0ZUJ5dGVzV2l0aExlbmd0aChkYXRhKTsKCiAgICAgICAgZW1pdCh3cml0ZXIuZ2V0QnVmZmVyKCkuYnVmZmVyLCB3cml0ZXIuYnVmZmVyTGVuZ3RoKCkpOwogICAgfQoKICAgIHB1YmxpYyB2YWxpZGF0ZUJpdGNvaW5BZGRyZXNzKGFkZHJlc3M6IHN0cmluZyk6IGJvb2wgewogICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihhZGRyZXNzLmxlbmd0aCk7CiAgICAgICAgd3JpdGVyLndyaXRlU3RyaW5nKGFkZHJlc3MpOwoKICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZUJpdGNvaW5BZGRyZXNzKHdyaXRlci5nZXRCdWZmZXIoKS5idWZmZXIsIGFkZHJlc3MubGVuZ3RoKTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gMTsKICAgIH0KCiAgICBwdWJsaWMgZGVwbG95Q29udHJhY3RGcm9tRXhpc3RpbmcoCiAgICAgICAgZXhpc3RpbmdBZGRyZXNzOiBBZGRyZXNzLAogICAgICAgIHNhbHQ6IHUyNTYsCiAgICAgICAgY2FsbGRhdGE6IEJ5dGVzV3JpdGVyLAogICAgKTogQWRkcmVzcyB7CiAgICAgICAgY29uc3QgcmVzdWx0QWRkcmVzc0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihBRERSRVNTX0JZVEVfTEVOR1RIKTsKICAgICAgICBjb25zdCBjYWxsRGF0YUJ1ZmZlciA9IGNhbGxkYXRhLmdldEJ1ZmZlcigpLmJ1ZmZlcjsKCiAgICAgICAgY29uc3Qgc3RhdHVzID0gZGVwbG95RnJvbUFkZHJlc3MoCiAgICAgICAgICAgIGV4aXN0aW5nQWRkcmVzcy5idWZmZXIsCiAgICAgICAgICAgIHNhbHQudG9VaW50OEFycmF5KHRydWUpLmJ1ZmZlciwKICAgICAgICAgICAgY2FsbERhdGFCdWZmZXIsCiAgICAgICAgICAgIGNhbGxEYXRhQnVmZmVyLmJ5dGVMZW5ndGgsCiAgICAgICAgICAgIHJlc3VsdEFkZHJlc3NCdWZmZXIsCiAgICAgICAgKTsKCiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdGYWlsZWQgdG8gZGVwbG95IGNvbnRyYWN0Jyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBjb250cmFjdEFkZHJlc3NSZWFkZXIgPSBuZXcgQnl0ZXNSZWFkZXIoVWludDhBcnJheS53cmFwKHJlc3VsdEFkZHJlc3NCdWZmZXIpKTsKICAgICAgICByZXR1cm4gY29udHJhY3RBZGRyZXNzUmVhZGVyLnJlYWRBZGRyZXNzKCk7CiAgICB9CgogICAgcHVibGljIGdldFN0b3JhZ2VBdCgKICAgICAgICBwb2ludGVySGFzaDogVWludDhBcnJheSwKICAgICk6IFVpbnQ4QXJyYXkgewogICAgICAgIHRoaXMuaGFzUG9pbnRlclN0b3JhZ2VIYXNoKHBvaW50ZXJIYXNoKTsKICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmhhcyhwb2ludGVySGFzaCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQocG9pbnRlckhhc2gpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDMyKTsKICAgIH0KCiAgICBwdWJsaWMgc2hhMjU2KGJ1ZmZlcjogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkgewogICAgICAgIHJldHVybiBzaGEyNTYoYnVmZmVyKTsKICAgIH0KCiAgICBwdWJsaWMgaGFzaDI1NihidWZmZXI6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gc2hhMjU2KHNoYTI1NihidWZmZXIpKTsKICAgIH0KCiAgICBwdWJsaWMgdmVyaWZ5U2Nobm9yclNpZ25hdHVyZSgKICAgICAgICBwdWJsaWNLZXk6IEFkZHJlc3MsCiAgICAgICAgc2lnbmF0dXJlOiBVaW50OEFycmF5LAogICAgICAgIGhhc2g6IFVpbnQ4QXJyYXksCiAgICApOiBib29sZWFuIHsKICAgICAgICBjb25zdCByZXN1bHQ6IHUzMiA9IHZlcmlmeVNjaG5vcnJTaWduYXR1cmUocHVibGljS2V5LmJ1ZmZlciwgc2lnbmF0dXJlLmJ1ZmZlciwgaGFzaC5idWZmZXIpOwoKICAgICAgICByZXR1cm4gcmVzdWx0ID09PSAxOwogICAgfQoKICAgIHB1YmxpYyBoYXNTdG9yYWdlQXQocG9pbnRlckhhc2g6IFVpbnQ4QXJyYXkpOiBib29sIHsKICAgICAgICAvLyBXZSBtYXJrIHplcm8gYXMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBzdG9yYWdlLCBpZiBzb21ldGhpbmcgaXMgMCwgdGhlIHN0b3JhZ2Ugc2xvdCBnZXQgZGVsZXRlZCBvciBpcyBub24tZXhpc3RlbnQKICAgICAgICBjb25zdCB2YWw6IFVpbnQ4QXJyYXkgPSB0aGlzLmdldFN0b3JhZ2VBdChwb2ludGVySGFzaCk7CgogICAgICAgIHJldHVybiAhZXFVaW50KHZhbCwgRU1QVFlfQlVGRkVSKTsKICAgIH0KCiAgICBwdWJsaWMgc2V0U3RvcmFnZUF0KHBvaW50ZXJIYXNoOiBVaW50OEFycmF5LCB2YWx1ZTogVWludDhBcnJheSk6IHZvaWQgewogICAgICAgIHRoaXMuX2ludGVybmFsU2V0U3RvcmFnZUF0KHBvaW50ZXJIYXNoLCB2YWx1ZSk7CiAgICB9CgogICAgcHJpdmF0ZSBjcmVhdGVDb250cmFjdElmTm90RXhpc3RzKCk6IHZvaWQgewogICAgICAgIGlmICghdGhpcy5fY29udHJhY3QpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQ29udHJhY3QgaXMgcmVxdWlyZWQnKTsKICAgICAgICB9CgogICAgICAgIGlmICghdGhpcy5fc2VsZkNvbnRyYWN0KSB7CiAgICAgICAgICAgIHRoaXMuX3NlbGZDb250cmFjdCA9IHRoaXMuX2NvbnRyYWN0KCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgX2ludGVybmFsU2V0U3RvcmFnZUF0KHBvaW50ZXJIYXNoOiBVaW50OEFycmF5LCB2YWx1ZTogVWludDhBcnJheSk6IHZvaWQgewogICAgICAgIHRoaXMuc3RvcmFnZS5zZXQocG9pbnRlckhhc2gsIHZhbHVlKTsKCiAgICAgICAgc3RvcmVQb2ludGVyKHBvaW50ZXJIYXNoLmJ1ZmZlciwgdmFsdWUuYnVmZmVyKTsKICAgIH0KCiAgICBwcml2YXRlIGhhc1BvaW50ZXJTdG9yYWdlSGFzaChwb2ludGVyOiBVaW50OEFycmF5KTogYm9vbCB7CiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZS5oYXMocG9pbnRlcikpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICAvLyB3ZSBhdHRlbXB0IHRvIGxvYWQgdGhlIHJlcXVlc3RlZCBwb2ludGVyLgogICAgICAgIGNvbnN0IHJlc3VsdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigzMik7CiAgICAgICAgbG9hZFBvaW50ZXIocG9pbnRlci5idWZmZXIsIHJlc3VsdEJ1ZmZlcik7CgogICAgICAgIGNvbnN0IHZhbHVlOiBVaW50OEFycmF5ID0gVWludDhBcnJheS53cmFwKHJlc3VsdEJ1ZmZlcik7CiAgICAgICAgdGhpcy5zdG9yYWdlLnNldChwb2ludGVyLCB2YWx1ZSk7IC8vIGNhY2hlIHRoZSB2YWx1ZQoKICAgICAgICByZXR1cm4gIWVxVWludCh2YWx1ZSwgRU1QVFlfQlVGRkVSKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/env/classes/Block.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgpAZmluYWwKZXhwb3J0IGNsYXNzIEJsb2NrIHsKICAgIHB1YmxpYyByZWFkb25seSBudW1iZXJVMjU2OiB1MjU2OwoKICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigKICAgICAgICBwdWJsaWMgcmVhZG9ubHkgaGFzaDogVWludDhBcnJheSwKICAgICAgICBwdWJsaWMgcmVhZG9ubHkgbnVtYmVyOiB1NjQsCiAgICAgICAgcHVibGljIHJlYWRvbmx5IG1lZGlhblRpbWVzdGFtcDogdTY0LAogICAgKSB7CiAgICAgICAgdGhpcy5udW1iZXJVMjU2ID0gdTI1Ni5mcm9tVTY0KG51bWJlcik7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/env/classes/Transaction.ts": "aW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBUcmFuc2FjdGlvbklucHV0LCBUcmFuc2FjdGlvbk91dHB1dCB9IGZyb20gJy4vVVRYTyc7CmltcG9ydCB7IFBvdGVudGlhbCB9IGZyb20gJy4uLy4uL2xhbmcvRGVmaW5pdGlvbnMnOwppbXBvcnQgeyBCeXRlc1JlYWRlciB9IGZyb20gJy4uLy4uL2J1ZmZlci9CeXRlc1JlYWRlcic7CmltcG9ydCB7IGdldElucHV0c1NpemUsIGdldE91dHB1dHNTaXplLCBpbnB1dHMsIG91dHB1dHMgfSBmcm9tICcuLi9nbG9iYWwnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbiB7CiAgICBwdWJsaWMgY29uc3RydWN0b3IoCiAgICAgICAgcHVibGljIHJlYWRvbmx5IHNlbmRlcjogQWRkcmVzcywgLy8gImltbWVkaWF0ZSBjYWxsZXIiCiAgICAgICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbjogQWRkcmVzcywgLy8gImxlZnRtb3N0IHRoaW5nIGluIHRoZSBjYWxsIGNoYWluIgogICAgICAgIHB1YmxpYyByZWFkb25seSB0eElkOiBVaW50OEFycmF5LAogICAgICAgIHB1YmxpYyByZWFkb25seSBoYXNoOiBVaW50OEFycmF5LAogICAgKSB7CiAgICB9CgogICAgcHJpdmF0ZSBfaW5wdXRzOiBQb3RlbnRpYWw8VHJhbnNhY3Rpb25JbnB1dFtdPiA9IG51bGw7CgogICAgcHVibGljIGdldCBpbnB1dHMoKTogVHJhbnNhY3Rpb25JbnB1dFtdIHsKICAgICAgICBpZiAoIXRoaXMuX2lucHV0cykgewogICAgICAgICAgICBjb25zdCBpbnB1dHMgPSB0aGlzLmxvYWRJbnB1dHMoKTsKICAgICAgICAgICAgdGhpcy5faW5wdXRzID0gaW5wdXRzOwoKICAgICAgICAgICAgcmV0dXJuIGlucHV0czsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9pbnB1dHMgYXMgVHJhbnNhY3Rpb25JbnB1dFtdOwogICAgfQoKICAgIHByaXZhdGUgX291dHB1dHM6IFBvdGVudGlhbDxUcmFuc2FjdGlvbk91dHB1dFtdPiA9IG51bGw7CgogICAgcHVibGljIGdldCBvdXRwdXRzKCk6IFRyYW5zYWN0aW9uT3V0cHV0W10gewogICAgICAgIGlmICghdGhpcy5fb3V0cHV0cykgewogICAgICAgICAgICBjb25zdCBvdXRwdXRzID0gdGhpcy5sb2FkT3V0cHV0cygpOwogICAgICAgICAgICB0aGlzLl9vdXRwdXRzID0gb3V0cHV0czsKCiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuX291dHB1dHMgYXMgVHJhbnNhY3Rpb25PdXRwdXRbXTsKICAgIH0KCiAgICBwcml2YXRlIGxvYWRJbnB1dHMoKTogVHJhbnNhY3Rpb25JbnB1dFtdIHsKICAgICAgICBjb25zdCBpbnB1dHNTaXplID0gZ2V0SW5wdXRzU2l6ZSgpOwogICAgICAgIGxldCByZXN1bHRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoaW5wdXRzU2l6ZSk7CiAgICAgICAgaW5wdXRzKHJlc3VsdEJ1ZmZlcik7CgogICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBCeXRlc1JlYWRlcihVaW50OEFycmF5LndyYXAocmVzdWx0QnVmZmVyKSk7CiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkVHJhbnNhY3Rpb25JbnB1dHMoKTsKICAgIH0KCiAgICBwcml2YXRlIGxvYWRPdXRwdXRzKCk6IFRyYW5zYWN0aW9uT3V0cHV0W10gewogICAgICAgIGNvbnN0IG91dHB1dHNTaXplID0gZ2V0T3V0cHV0c1NpemUoKTsKICAgICAgICBsZXQgcmVzdWx0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dHB1dHNTaXplKTsKICAgICAgICBvdXRwdXRzKHJlc3VsdEJ1ZmZlcik7CgogICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBCeXRlc1JlYWRlcihVaW50OEFycmF5LndyYXAocmVzdWx0QnVmZmVyKSk7CiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkVHJhbnNhY3Rpb25PdXRwdXRzKCk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/env/classes/UTXO.ts": "QGZpbmFsCmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbklucHV0IHsKICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigKICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdHhJZDogVWludDhBcnJheSwKICAgICAgICBwdWJsaWMgcmVhZG9ubHkgb3V0cHV0SW5kZXg6IHUxNiwKICAgICAgICBwdWJsaWMgcmVhZG9ubHkgc2NyaXB0U2lnOiBVaW50OEFycmF5LAogICAgKSB7CiAgICB9Cn0KCkBmaW5hbApleHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25PdXRwdXQgewogICAgcHVibGljIGNvbnN0cnVjdG9yKAogICAgICAgIHB1YmxpYyByZWFkb25seSBpbmRleDogdTE2LAogICAgICAgIHB1YmxpYyByZWFkb25seSB0bzogc3RyaW5nLAogICAgICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogdTY0LAogICAgKSB7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/env/global.ts": "Ly8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICdlbnZpcm9ubWVudCcpCmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEVudmlyb25tZW50VmFyaWFibGVzKG9mZnNldDogdTMyLCBsZW5ndGg6IHUzMiwgcmVzdWx0OiBBcnJheUJ1ZmZlcik6IHZvaWQ7CgovLyBAdHMtaWdub3JlCkBleHRlcm5hbCgnZW52JywgJ2NhbGxkYXRhJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Q2FsbGRhdGEob2Zmc2V0OiB1MzIsIGxlbmd0aDogdTMyLCByZXN1bHQ6IEFycmF5QnVmZmVyKTogdm9pZDsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnbG9hZCcpCmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGxvYWRQb2ludGVyKGtleTogQXJyYXlCdWZmZXIsIHJlc3VsdDogQXJyYXlCdWZmZXIpOiB2b2lkOwoKLy8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICduZXh0UG9pbnRlckdyZWF0ZXJUaGFuJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbmV4dFBvaW50ZXJHcmVhdGVyVGhhbihkYXRhOiBVaW50OEFycmF5KTogVWludDhBcnJheTsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnc3RvcmUnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzdG9yZVBvaW50ZXIoa2V5OiBBcnJheUJ1ZmZlciwgdmFsdWU6IEFycmF5QnVmZmVyKTogdm9pZDsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnZGVwbG95RnJvbUFkZHJlc3MnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBkZXBsb3lGcm9tQWRkcmVzcyhvcmlnaW5BZGRyZXNzOiBBcnJheUJ1ZmZlciwgc2FsdDogQXJyYXlCdWZmZXIsIGNhbGxkYXRhOiBBcnJheUJ1ZmZlciwgY2FsbGRhdGFMZW5ndGg6IHUzMiwgcmVzdWx0QWRkcmVzczogQXJyYXlCdWZmZXIpOiB1MzI7CgovLyBAdHMtaWdub3JlCkBleHRlcm5hbCgnZW52JywgJ2NhbGwnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjYWxsQ29udHJhY3QoYWRkcmVzczogQXJyYXlCdWZmZXIsIGNhbGxkYXRhOiBBcnJheUJ1ZmZlciwgY2FsbGRhdGFMZW5ndGg6IHUzMiwgcmVzdWx0TGVuZ3RoOiBBcnJheUJ1ZmZlcik6IHUzMjsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnY2FsbFJlc3VsdCcpCmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldENhbGxSZXN1bHQob2Zmc2V0OiB1MzIsIGxlbmd0aDogdTMyLCByZXN1bHQ6IEFycmF5QnVmZmVyKTogdm9pZDsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdkZWJ1ZycsICdsb2cnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBsb2coZGF0YTogQXJyYXlCdWZmZXIsIGRhdGFMZW5ndGg6IHUzMik6IHZvaWQ7CgovLyBAdHMtaWdub3JlCkBleHRlcm5hbCgnZW52JywgJ2VtaXQnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBlbWl0KGRhdGE6IEFycmF5QnVmZmVyLCBkYXRhTGVuZ3RoOiB1MzIpOiB2b2lkOwoKLy8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICdzaGEyNTYnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBfc2hhMjU2KGRhdGE6IEFycmF5QnVmZmVyLCBkYXRhTGVuZ3RoOiB1MzIsIHJlc3VsdDogQXJyYXlCdWZmZXIpOiB2b2lkOwoKZXhwb3J0IGZ1bmN0aW9uIHNoYTI1NihkYXRhOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7CiAgICBjb25zdCByZXN1bHRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoMzIpOwogICAgX3NoYTI1NihkYXRhLmJ1ZmZlciwgZGF0YS5sZW5ndGgsIHJlc3VsdEJ1ZmZlcik7CiAgICByZXR1cm4gVWludDhBcnJheS53cmFwKHJlc3VsdEJ1ZmZlcik7Cn0KCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAncmlwZW1kMTYwJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gX3JpcGVtZDE2MChkYXRhOiBBcnJheUJ1ZmZlciwgZGF0YUxlbmd0aDogdTMyLCByZXN1bHQ6IEFycmF5QnVmZmVyKTogdm9pZDsKCmV4cG9ydCBmdW5jdGlvbiByaXBlbWQxNjAoZGF0YTogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkgewogICAgY29uc3QgcmVzdWx0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDIwKTsKICAgIF9yaXBlbWQxNjAoZGF0YS5idWZmZXIsIGRhdGEubGVuZ3RoLCByZXN1bHRCdWZmZXIpOwoKICAgIHJldHVybiBVaW50OEFycmF5LndyYXAocmVzdWx0QnVmZmVyKTsKfQoKLy8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICd2YWxpZGF0ZUJpdGNvaW5BZGRyZXNzJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdmFsaWRhdGVCaXRjb2luQWRkcmVzcyhhZGRyZXNzOiBBcnJheUJ1ZmZlciwgYWRkcmVzc0xlbmd0aDogdTMyKTogdTMyOwoKLy8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICdpbnB1dHMnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBpbnB1dHMocmVzdWx0OiBBcnJheUJ1ZmZlcik6IHZvaWQ7CgovLyBAdHMtaWdub3JlCkBleHRlcm5hbCgnZW52JywgJ2lucHV0c1NpemUnKQpleHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJbnB1dHNTaXplKCk6IHUzMjsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnb3V0cHV0cycpCmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIG91dHB1dHMocmVzdWx0OiBBcnJheUJ1ZmZlcik6IHZvaWQ7CgovLyBAdHMtaWdub3JlCkBleHRlcm5hbCgnZW52JywgJ291dHB1dHNTaXplJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0T3V0cHV0c1NpemUoKTogdTMyOwoKLy8gQHRzLWlnbm9yZQpAZXh0ZXJuYWwoJ2VudicsICd2ZXJpZnlTY2hub3JyU2lnbmF0dXJlJykKZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdmVyaWZ5U2Nobm9yclNpZ25hdHVyZShwdWJsaWNLZXk6IEFycmF5QnVmZmVyLCBzaWduYXR1cmU6IEFycmF5QnVmZmVyLCBtZXNzYWdlOiBBcnJheUJ1ZmZlcik6IHUzMjsKCi8vIEB0cy1pZ25vcmUKQGV4dGVybmFsKCdlbnYnLCAnZXhpdCcpCmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVudl9leGl0KHN0YXR1czogdTMyLCBkYXRhOiBBcnJheUJ1ZmZlciwgZGF0YUxlbmd0aDogdTMyKTogdm9pZDsK",
  "node_modules/@btc-vision/btc-runtime/runtime/env/index.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbkVudmlyb25tZW50IH0gZnJvbSAnLi9CbG9ja2NoYWluRW52aXJvbm1lbnQnOwoKZXhwb3J0IGNvbnN0IEJsb2NrY2hhaW46IEJsb2NrY2hhaW5FbnZpcm9ubWVudCA9IG5ldyBCbG9ja2NoYWluRW52aXJvbm1lbnQoKTsK",
  "node_modules/@btc-vision/btc-runtime/runtime/events/NetEvent.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwoKZXhwb3J0IGNvbnN0IE1BWF9FVkVOVF9EQVRBX1NJWkU6IHUzMiA9IDM1MjsgLy8gMzUyIGJ5dGVzIG1heCBwZXIgZXZlbnQuCgpleHBvcnQgYWJzdHJhY3QgY2xhc3MgTmV0RXZlbnQgewogICAgcHJpdmF0ZSByZWFkb25seSBidWZmZXI6IFVpbnQ4QXJyYXk7CgogICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKAogICAgICAgIHB1YmxpYyByZWFkb25seSBldmVudFR5cGU6IHN0cmluZywKICAgICAgICBwcm90ZWN0ZWQgZGF0YTogQnl0ZXNXcml0ZXIsCiAgICApIHsKICAgICAgICBpZiAoZGF0YS5idWZmZXJMZW5ndGgoKSA+IE1BWF9FVkVOVF9EQVRBX1NJWkUpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudCBkYXRhIGxlbmd0aCBleGNlZWRzIG1heGltdW0gbGVuZ3RoLicpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5idWZmZXIgPSBkYXRhLmdldEJ1ZmZlcigpOwogICAgfQoKICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IHUzMiB7CiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdCdWZmZXIgaXMgbm90IGRlZmluZWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoOwogICAgfQoKICAgIHB1YmxpYyBnZXRFdmVudERhdGEoKTogVWludDhBcnJheSB7CiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdCdWZmZXIgaXMgbm90IGRlZmluZWQnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/ApproveEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RILCBVMjU2X0JZVEVfTEVOR1RIIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGVuZ3Rocyc7CmltcG9ydCB7IE5ldEV2ZW50IH0gZnJvbSAnLi4vTmV0RXZlbnQnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBBcHByb3ZlRXZlbnQgZXh0ZW5kcyBOZXRFdmVudCB7CiAgICBjb25zdHJ1Y3Rvcihvd25lcjogQWRkcmVzcywgc3BlbmRlcjogQWRkcmVzcywgdmFsdWU6IHUyNTYpIHsKICAgICAgICBjb25zdCBkYXRhOiBCeXRlc1dyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihBRERSRVNTX0JZVEVfTEVOR1RIICogMiArIFUyNTZfQllURV9MRU5HVEgpOwogICAgICAgIGRhdGEud3JpdGVBZGRyZXNzKG93bmVyKTsKICAgICAgICBkYXRhLndyaXRlQWRkcmVzcyhzcGVuZGVyKTsKICAgICAgICBkYXRhLndyaXRlVTI1Nih2YWx1ZSk7CgogICAgICAgIHN1cGVyKCdBcHByb3ZlJywgZGF0YSk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/BurnEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uLy4uL3V0aWxzL2xlbmd0aHMnOwppbXBvcnQgeyBOZXRFdmVudCB9IGZyb20gJy4uL05ldEV2ZW50JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgQnVybkV2ZW50IGV4dGVuZHMgTmV0RXZlbnQgewogICAgY29uc3RydWN0b3IoYW1vdW50OiB1MjU2KSB7CiAgICAgICAgY29uc3QgZGF0YTogQnl0ZXNXcml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoVTI1Nl9CWVRFX0xFTkdUSCk7CiAgICAgICAgZGF0YS53cml0ZVUyNTYoYW1vdW50KTsKCiAgICAgICAgc3VwZXIoJ0J1cm4nLCBkYXRhKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/ClaimEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uLy4uL3V0aWxzL2xlbmd0aHMnOwppbXBvcnQgeyBOZXRFdmVudCB9IGZyb20gJy4uL05ldEV2ZW50JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgQ2xhaW1FdmVudCBleHRlbmRzIE5ldEV2ZW50IHsKICAgIGNvbnN0cnVjdG9yKGFtb3VudDogdTI1NikgewogICAgICAgIGNvbnN0IGRhdGE6IEJ5dGVzV3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKFUyNTZfQllURV9MRU5HVEgpOwogICAgICAgIGRhdGEud3JpdGVVMjU2KGFtb3VudCk7CgogICAgICAgIHN1cGVyKCdDbGFpbScsIGRhdGEpOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/index.ts": "ZXhwb3J0ICogZnJvbSAnLi9BcHByb3ZlRXZlbnQnOwpleHBvcnQgKiBmcm9tICcuL0J1cm5FdmVudCc7CmV4cG9ydCAqIGZyb20gJy4vTWludEV2ZW50JzsKZXhwb3J0ICogZnJvbSAnLi9UcmFuc2ZlckV2ZW50JzsKZXhwb3J0ICogZnJvbSAnLi9DbGFpbUV2ZW50JzsKZXhwb3J0ICogZnJvbSAnLi9TdGFrZUV2ZW50JzsKZXhwb3J0ICogZnJvbSAnLi9VbnN0YWtlRXZlbnQnOwo=",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/MintEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RILCBVMjU2X0JZVEVfTEVOR1RIIH0gZnJvbSAnLi4vLi4vdXRpbHMnOwppbXBvcnQgeyBOZXRFdmVudCB9IGZyb20gJy4uL05ldEV2ZW50JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgTWludEV2ZW50IGV4dGVuZHMgTmV0RXZlbnQgewogICAgY29uc3RydWN0b3IoYWRkcmVzczogQWRkcmVzcywgYW1vdW50OiB1MjU2KSB7CiAgICAgICAgY29uc3QgZGF0YTogQnl0ZXNXcml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoQUREUkVTU19CWVRFX0xFTkdUSCArIFUyNTZfQllURV9MRU5HVEgpOwoKICAgICAgICBkYXRhLndyaXRlQWRkcmVzcyhhZGRyZXNzKTsKICAgICAgICBkYXRhLndyaXRlVTI1NihhbW91bnQpOwoKICAgICAgICBzdXBlcignTWludCcsIGRhdGEpOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/StakeEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uLy4uL3V0aWxzL2xlbmd0aHMnOwppbXBvcnQgeyBOZXRFdmVudCB9IGZyb20gJy4uL05ldEV2ZW50JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgU3Rha2VFdmVudCBleHRlbmRzIE5ldEV2ZW50IHsKICAgIGNvbnN0cnVjdG9yKGFtb3VudDogdTI1NikgewogICAgICAgIGNvbnN0IGRhdGE6IEJ5dGVzV3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKFUyNTZfQllURV9MRU5HVEgpOwogICAgICAgIGRhdGEud3JpdGVVMjU2KGFtb3VudCk7CgogICAgICAgIHN1cGVyKCdTdGFrZScsIGRhdGEpOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/TransferEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RILCBVMjU2X0JZVEVfTEVOR1RIIH0gZnJvbSAnLi4vLi4vdXRpbHMvbGVuZ3Rocyc7CmltcG9ydCB7IE5ldEV2ZW50IH0gZnJvbSAnLi4vTmV0RXZlbnQnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBUcmFuc2ZlckV2ZW50IGV4dGVuZHMgTmV0RXZlbnQgewogICAgY29uc3RydWN0b3IoZnJvbTogQWRkcmVzcywgdG86IEFkZHJlc3MsIGFtb3VudDogdTI1NikgewogICAgICAgIGNvbnN0IGRhdGE6IEJ5dGVzV3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKEFERFJFU1NfQllURV9MRU5HVEggKiAyICsgVTI1Nl9CWVRFX0xFTkdUSCk7CiAgICAgICAgZGF0YS53cml0ZUFkZHJlc3MoZnJvbSk7CiAgICAgICAgZGF0YS53cml0ZUFkZHJlc3ModG8pOwogICAgICAgIGRhdGEud3JpdGVVMjU2KGFtb3VudCk7CgogICAgICAgIHN1cGVyKCdUcmFuc2ZlcicsIGRhdGEpOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/events/predefined/UnstakeEvent.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uLy4uL3V0aWxzL2xlbmd0aHMnOwppbXBvcnQgeyBOZXRFdmVudCB9IGZyb20gJy4uL05ldEV2ZW50JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgVW5zdGFrZUV2ZW50IGV4dGVuZHMgTmV0RXZlbnQgewogICAgY29uc3RydWN0b3IoYW1vdW50OiB1MjU2KSB7CiAgICAgICAgY29uc3QgZGF0YTogQnl0ZXNXcml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoVTI1Nl9CWVRFX0xFTkdUSCk7CiAgICAgICAgZGF0YS53cml0ZVUyNTYoYW1vdW50KTsKCiAgICAgICAgc3VwZXIoJ1Vuc3Rha2UnLCBkYXRhKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/exports/index.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQnl0ZXNSZWFkZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNSZWFkZXInOwppbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgQ2FsbGRhdGEgfSBmcm9tICcuLi90eXBlcyc7CmltcG9ydCB7IGVudl9leGl0LCBnZXRDYWxsZGF0YSwgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMgfSBmcm9tICcuLi9lbnYvZ2xvYmFsJzsKCmNvbnN0IEVOVklST05NRU5UX1ZBUklBQkxFU19CWVRFX0xFTkdUSDogdTMyID0gMjQwOwoKZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGUoY2FsbGRhdGFMZW5ndGg6IHUzMik6IHUzMiB7CiAgICBjb25zdCBlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihFTlZJUk9OTUVOVF9WQVJJQUJMRVNfQllURV9MRU5HVEgpOwogICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoMCwgRU5WSVJPTk1FTlRfVkFSSUFCTEVTX0JZVEVfTEVOR1RILCBlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlcik7CiAgICBCbG9ja2NoYWluLnNldEVudmlyb25tZW50VmFyaWFibGVzKFVpbnQ4QXJyYXkud3JhcChlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlcikpOwoKICAgIGNvbnN0IGNhbGxkYXRhQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGNhbGxkYXRhTGVuZ3RoKTsKICAgIGdldENhbGxkYXRhKDAsIGNhbGxkYXRhTGVuZ3RoLCBjYWxsZGF0YUJ1ZmZlcik7CgogICAgY29uc3QgY2FsbGRhdGE6IENhbGxkYXRhID0gbmV3IEJ5dGVzUmVhZGVyKFVpbnQ4QXJyYXkud3JhcChjYWxsZGF0YUJ1ZmZlcikpOwogICAgY29uc3Qgc2VsZWN0b3I6IFNlbGVjdG9yID0gY2FsbGRhdGEucmVhZFNlbGVjdG9yKCk7CgogICAgQmxvY2tjaGFpbi5vbkV4ZWN1dGlvblN0YXJ0ZWQoKTsKCiAgICBjb25zdCByZXN1bHQ6IEJ5dGVzV3JpdGVyID0gQmxvY2tjaGFpbi5jb250cmFjdC5leGVjdXRlKHNlbGVjdG9yLCBjYWxsZGF0YSk7CgogICAgQmxvY2tjaGFpbi5vbkV4ZWN1dGlvbkNvbXBsZXRlZCgpOwoKICAgIGNvbnN0IHJlc3VsdEJ1ZmZlciA9IHJlc3VsdC5nZXRCdWZmZXIoKS5idWZmZXI7CiAgICBjb25zdCByZXN1bHRMZW5ndGggPSByZXN1bHRCdWZmZXIuYnl0ZUxlbmd0aDsKICAgIGlmIChyZXN1bHRMZW5ndGggPiAwKSB7CiAgICAgICAgZW52X2V4aXQoMCwgcmVzdWx0QnVmZmVyLCByZXN1bHRMZW5ndGgpOwogICAgfQoKICAgIHJldHVybiAwOwp9CgpleHBvcnQgZnVuY3Rpb24gb25EZXBsb3koY2FsbGRhdGFMZW5ndGg6IHUzMik6IHUzMiB7CiAgICBjb25zdCBlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihFTlZJUk9OTUVOVF9WQVJJQUJMRVNfQllURV9MRU5HVEgpOwogICAgZ2V0RW52aXJvbm1lbnRWYXJpYWJsZXMoMCwgRU5WSVJPTk1FTlRfVkFSSUFCTEVTX0JZVEVfTEVOR1RILCBlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlcik7CiAgICBCbG9ja2NoYWluLnNldEVudmlyb25tZW50VmFyaWFibGVzKFVpbnQ4QXJyYXkud3JhcChlbnZpcm9ubWVudFZhcmlhYmxlc0J1ZmZlcikpOwoKICAgIGNvbnN0IGNhbGxkYXRhQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGNhbGxkYXRhTGVuZ3RoKTsKICAgIGdldENhbGxkYXRhKDAsIGNhbGxkYXRhTGVuZ3RoLCBjYWxsZGF0YUJ1ZmZlcik7CgogICAgY29uc3QgY2FsbGRhdGE6IENhbGxkYXRhID0gbmV3IEJ5dGVzUmVhZGVyKFVpbnQ4QXJyYXkud3JhcChjYWxsZGF0YUJ1ZmZlcikpOwoKICAgIEJsb2NrY2hhaW4ub25FeGVjdXRpb25TdGFydGVkKCk7CiAgICBCbG9ja2NoYWluLm9uRGVwbG95bWVudChjYWxsZGF0YSk7CiAgICBCbG9ja2NoYWluLm9uRXhlY3V0aW9uQ29tcGxldGVkKCk7CgogICAgcmV0dXJuIDA7Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/generic/AddressMap.ts": "aW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKaW1wb3J0IHsgTWFwIH0gZnJvbSAnLi9NYXAnOwppbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi4vdHlwZXMvQWRkcmVzcyc7CgpAZmluYWwKZXhwb3J0IGNsYXNzIEFkZHJlc3NNYXA8Vj4gZXh0ZW5kcyBNYXA8QWRkcmVzcywgVj4gewogICAgcHVibGljIHNldChrZXk6IEFkZHJlc3MsIHZhbHVlOiBWKTogdGhpcyB7CiAgICAgICAgY29uc3QgaW5kZXg6IGkzMiA9IHRoaXMuaW5kZXhPZihrZXkpOwogICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7CiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgaW5kZXhPZihhZGRyZXNzOiBBZGRyZXNzKTogaTMyIHsKICAgICAgICBmb3IgKGxldCBpOiBpMzIgPSAwOyBpIDwgdGhpcy5fa2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLl9rZXlzW2ldOwoKICAgICAgICAgICAgaWYgKGFkZHJlc3MuZXF1YWxzKGtleSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgcHVibGljIGhhcyhrZXk6IEFkZHJlc3MpOiBib29sIHsKICAgICAgICBmb3IgKGxldCBpOiBpMzIgPSAwOyBpIDwgdGhpcy5fa2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoa2V5LmVxdWFscyh0aGlzLl9rZXlzW2ldKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBwdWJsaWMgZ2V0KGtleTogQWRkcmVzcyk6IFYgewogICAgICAgIGNvbnN0IGluZGV4OiBpMzIgPSB0aGlzLmluZGV4T2Yoa2V5KTsKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ0tleSBub3QgZm91bmQgaW4gbWFwIChBZGRyZXNzTWFwKScpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzW2luZGV4XTsKICAgIH0KCiAgICBwdWJsaWMgZGVsZXRlKGtleTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIGNvbnN0IGluZGV4OiBpMzIgPSB0aGlzLmluZGV4T2Yoa2V5KTsKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX2tleXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB0aGlzLl92YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/generic/Map.ts": "aW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKCmV4cG9ydCBpbnRlcmZhY2UgSU1hcDxLLCBWPiB7CiAgICByZWFkb25seSBzaXplOiBpMzI7CgogICAgaGFzKGtleTogSyk6IGJvb2w7CgogICAgc2V0KGtleTogSywgdmFsdWU6IFYpOiB0aGlzOwoKICAgIGdldChrZXk6IEspOiBWOwoKICAgIGRlbGV0ZShrZXk6IEspOiBib29sOwoKICAgIGNsZWFyKCk6IHZvaWQ7CgogICAga2V5cygpOiBLW107IC8vIHByZWxpbWluYXJ5CiAgICB2YWx1ZXMoKTogVltdOyAvLyBwcmVsaW1pbmFyeQogICAgdG9TdHJpbmcoKTogc3RyaW5nOwp9CgpleHBvcnQgY2xhc3MgTWFwPEssIFY+IGltcGxlbWVudHMgSU1hcDxLLCBWPiB7CiAgICBwcm90ZWN0ZWQgX2tleXM6IEtbXSA9IFtdOwogICAgcHJvdGVjdGVkIF92YWx1ZXM6IFZbXSA9IFtdOwoKICAgIHB1YmxpYyBnZXQgc2l6ZSgpOiBpMzIgewogICAgICAgIHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsKICAgIH0KCiAgICBwdWJsaWMga2V5cygpOiBLW10gewogICAgICAgIHJldHVybiB0aGlzLl9rZXlzOwogICAgfQoKICAgIHB1YmxpYyB2YWx1ZXMoKTogVltdIHsKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzOwogICAgfQoKICAgIHB1YmxpYyBzZXQoa2V5OiBLLCB2YWx1ZTogVik6IHRoaXMgewogICAgICAgIGNvbnN0IGluZGV4OiBpMzIgPSB0aGlzLmluZGV4T2Yoa2V5KTsKICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7CiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgaW5kZXhPZihrZXk6IEspOiBpMzIgewogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB0aGlzLl9rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9rZXlzW2ldID09IGtleSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBwdWJsaWMgZ2V0KGtleTogSyk6IFYgewogICAgICAgIGNvbnN0IGluZGV4OiBpMzIgPSB0aGlzLmluZGV4T2Yoa2V5KTsKICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnS2V5IG5vdCBmb3VuZCBpbiBtYXAgKE1hcCknKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1tpbmRleF07CiAgICB9CgogICAgcHVibGljIGhhcyhrZXk6IEspOiBib29sIHsKICAgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKGtleSkgIT0gLTE7CiAgICB9CgogICAgcHVibGljIGRlbGV0ZShrZXk6IEspOiBib29sIHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX2tleXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB0aGlzLl92YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7CiAgICAgICAgdGhpcy5fa2V5cyA9IFtdOwogICAgICAgIHRoaXMuX3ZhbHVlcyA9IFtdOwogICAgfQoKICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcgewogICAgICAgIGNvbnN0IHN0cjogc3RyaW5nID0gYGA7CgogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB0aGlzLl9rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHN0ci5jb25jYXQoYFske3RoaXMuX2tleXNbaV19XSA9PiBbJHt0aGlzLl92YWx1ZXNbaV19XWApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/generic/MapU256.ts": "aW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKaW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IE1hcCB9IGZyb20gJy4vTWFwJzsKCmV4cG9ydCBjbGFzcyBNYXBVMjU2IGV4dGVuZHMgTWFwPHUyNTYsIHUyNTY+IHsKICAgIHB1YmxpYyBzZXQoa2V5OiB1MjU2LCB2YWx1ZTogdTI1Nik6IHRoaXMgewogICAgICAgIGNvbnN0IGluZGV4OiBpMzIgPSB0aGlzLmluZGV4T2Yoa2V5KTsKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpOwogICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2luZGV4XSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIGluZGV4T2YocG9pbnRlckhhc2g6IHUyNTYpOiBpMzIgewogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB0aGlzLl9rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMuX2tleXNbaV07CgogICAgICAgICAgICBpZiAodTI1Ni5lcShrZXksIHBvaW50ZXJIYXNoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBwdWJsaWMgaGFzKGtleTogdTI1Nik6IGJvb2wgewogICAgICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCB0aGlzLl9rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh1MjU2LmVxKHRoaXMuX2tleXNbaV0sIGtleSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcHVibGljIGdldChrZXk6IHUyNTYpOiB1MjU2IHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdLZXkgbm90IGZvdW5kIGluIG1hcCAodTI1NiknKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1tpbmRleF07CiAgICB9CgogICAgcHVibGljIGRlbGV0ZShrZXk6IHUyNTYpOiBib29sIHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9rZXlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5fdmFsdWVzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/generic/MapUint8Array.ts": "aW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKaW1wb3J0IHsgSU1hcCB9IGZyb20gJy4vTWFwJzsKCmV4cG9ydCBmdW5jdGlvbiBlcVVpbnQoZGF0YTogVWludDhBcnJheSwgZGF0YTI6IFVpbnQ4QXJyYXkpOiBib29sIHsKICAgIGlmIChkYXRhLmxlbmd0aCAhPT0gZGF0YTIubGVuZ3RoKSByZXR1cm4gZmFsc2U7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGRhdGFbaV0gIT09IGRhdGEyW2ldKSByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn0KCkBmaW5hbApleHBvcnQgY2xhc3MgTWFwVWludDhBcnJheSBpbXBsZW1lbnRzIElNYXA8VWludDhBcnJheSwgVWludDhBcnJheT4gewogICAgcHJvdGVjdGVkIF9rZXlzOiBVaW50OEFycmF5W10gPSBbXTsKICAgIHByb3RlY3RlZCBfdmFsdWVzOiBVaW50OEFycmF5W10gPSBbXTsKCiAgICBwdWJsaWMgZ2V0IHNpemUoKTogaTMyIHsKICAgICAgICByZXR1cm4gdGhpcy5fa2V5cy5sZW5ndGg7CiAgICB9CgogICAgcHVibGljIGtleXMoKTogVWludDhBcnJheVtdIHsKICAgICAgICByZXR1cm4gdGhpcy5fa2V5czsKICAgIH0KCiAgICBwdWJsaWMgdmFsdWVzKCk6IFVpbnQ4QXJyYXlbXSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlczsKICAgIH0KCiAgICBwdWJsaWMgc2V0KGtleTogVWludDhBcnJheSwgdmFsdWU6IFVpbnQ4QXJyYXkpOiB0aGlzIHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICB0aGlzLl9rZXlzLnB1c2goa2V5KTsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBpbmRleE9mKHBvaW50ZXJIYXNoOiBVaW50OEFycmF5KTogaTMyIHsKICAgICAgICBmb3IgKGxldCBpOiBpMzIgPSAwOyBpIDwgdGhpcy5fa2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLl9rZXlzW2ldOwoKICAgICAgICAgICAgaWYgKGVxVWludChrZXksIHBvaW50ZXJIYXNoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICBwdWJsaWMgaGFzKGtleTogVWludDhBcnJheSk6IGJvb2wgewogICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoa2V5KSAhPT0gLTE7CiAgICB9CgogICAgcHVibGljIGdldChrZXk6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdLZXkgbm90IGZvdW5kIGluIG1hcCAodWludDhhcnJheSknKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1tpbmRleF07CiAgICB9CgogICAgcHVibGljIGRlbGV0ZShrZXk6IFVpbnQ4QXJyYXkpOiBib29sIHsKICAgICAgICBjb25zdCBpbmRleDogaTMyID0gdGhpcy5pbmRleE9mKGtleSk7CiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9rZXlzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5fdmFsdWVzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHsKICAgICAgICB0aGlzLl9rZXlzID0gW107CiAgICAgICAgdGhpcy5fdmFsdWVzID0gW107CiAgICB9CgogICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CiAgICAgICAgY29uc3Qgc3RyOiBzdHJpbmcgPSBgYDsKCiAgICAgICAgZm9yIChsZXQgaTogaTMyID0gMDsgaSA8IHRoaXMuX2tleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3RyLmNvbmNhdChgWyR7dGhpcy5fa2V5c1tpXS50b1N0cmluZygpfV0gPT4gWyR7dGhpcy5fdmFsdWVzW2ldLnRvU3RyaW5nKCl9XWApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/index.ts": "LyoqIEVudmlyb25tZW50ICovCmV4cG9ydCAqIGZyb20gJy4vZW52JzsKCi8qKiBDb250cmFjdHMgKi8KZXhwb3J0ICogZnJvbSAnLi9jb250cmFjdHMvaW50ZXJmYWNlcy9JT1BfMjAnOwpleHBvcnQgKiBmcm9tICcuL2NvbnRyYWN0cy9PUF8yMCc7CmV4cG9ydCAqIGZyb20gJy4vY29udHJhY3RzL0RlcGxveWFibGVPUF8yMCc7CmV4cG9ydCAqIGZyb20gJy4vY29udHJhY3RzL09QX05FVCc7CmV4cG9ydCAqIGZyb20gJy4vY29udHJhY3RzL2ludGVyZmFjZXMvT1AyMEluaXRQYXJhbWV0ZXJzJzsKCi8qKiBCdWZmZXIgKi8KZXhwb3J0ICogZnJvbSAnLi9idWZmZXIvQnl0ZXNSZWFkZXInOwpleHBvcnQgKiBmcm9tICcuL2J1ZmZlci9CeXRlc1dyaXRlcic7CgovKiogSW50ZXJmYWNlcyAqLwpleHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMvSUJUQyc7CgovKiogRXZlbnRzICovCmV4cG9ydCAqIGZyb20gJy4vZXZlbnRzL05ldEV2ZW50JzsKZXhwb3J0ICogZnJvbSAnLi9ldmVudHMvcHJlZGVmaW5lZCc7CgovKiogRW52ICovCmV4cG9ydCAqIGZyb20gJy4vZW52L2NsYXNzZXMvVVRYTyc7CmV4cG9ydCAqIGZyb20gJy4vZW52L2NsYXNzZXMvVHJhbnNhY3Rpb24nOwpleHBvcnQgKiBmcm9tICcuL2Vudi9jbGFzc2VzL0Jsb2NrJzsKCi8qKiBNYXBzICovCmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJpYy9NYXAnOwpleHBvcnQgKiBmcm9tICcuL2dlbmVyaWMvTWFwVTI1Nic7CmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJpYy9BZGRyZXNzTWFwJzsKCi8qKiBUeXBlcyAqLwpleHBvcnQgKiBmcm9tICcuL3R5cGVzJzsKCi8qKiBEZWZpbml0aW9ucyAqLwpleHBvcnQgKiBmcm9tICcuL2xhbmcvRGVmaW5pdGlvbnMnOwpleHBvcnQgKiBmcm9tICcuL3R5cGVzL0FkZHJlc3MnOwpleHBvcnQgKiBmcm9tICcuL3R5cGVzL1JldmVydCc7CmV4cG9ydCAqIGZyb20gJy4vdHlwZXMvU2FmZU1hdGgnOwpleHBvcnQgKiBmcm9tICcuL3R5cGVzL1NhZmVNYXRoSTEyOCc7CgovKiogTWF0aCAqLwpleHBvcnQgKiBmcm9tICcuL21hdGgvYWJpJzsKZXhwb3J0ICogZnJvbSAnLi9tYXRoL2J5dGVzJzsKZXhwb3J0ICogZnJvbSAnLi9zZWNwMjU2azEvRUNQb2ludCc7CgovKiogTWVtb3J5ICovCmV4cG9ydCAqIGZyb20gJy4vbWVtb3J5L05lc3RlZCc7CmV4cG9ydCAqIGZyb20gJy4vbmVzdGVkL1BvaW50ZXJNYW5hZ2VyJzsKZXhwb3J0ICogZnJvbSAnLi9uZXN0ZWQvc3RvcmFnZS9TdG9yYWdlTWFwJzsKZXhwb3J0ICogZnJvbSAnLi9uZXN0ZWQvc3RvcmFnZS9TdG9yYWdlU2V0JzsKCi8qKiBDb2RlY3MgKi8KZXhwb3J0ICogZnJvbSAnLi9uZXN0ZWQvY29kZWNzL1UyNTZDb2RlYyc7CmV4cG9ydCAqIGZyb20gJy4vbmVzdGVkL2NvZGVjcy9BZGRyZXNzQ29kZWMnOwpleHBvcnQgKiBmcm9tICcuL25lc3RlZC9jb2RlY3MvTnVtZXJpY0NvZGVjJzsKZXhwb3J0ICogZnJvbSAnLi9uZXN0ZWQvY29kZWNzL0Jvb2xlYW5Db2RlYyc7CmV4cG9ydCAqIGZyb20gJy4vbmVzdGVkL2NvZGVjcy9TdHJpbmdDb2RlYyc7CmV4cG9ydCAqIGZyb20gJy4vbmVzdGVkL2NvZGVjcy9WYXJpYWJsZUJ5dGVzQ29kZWMnOwoKLyoqIFN0b3JhZ2UgKi8KZXhwb3J0ICogZnJvbSAnLi9zdG9yYWdlL1N0b3JlZFUyNTYnOwpleHBvcnQgKiBmcm9tICcuL3N0b3JhZ2UvU3RvcmVkVTY0JzsKZXhwb3J0ICogZnJvbSAnLi9zdG9yYWdlL1N0b3JlZFN0cmluZyc7CmV4cG9ydCAqIGZyb20gJy4vc3RvcmFnZS9TdG9yZWRBZGRyZXNzJzsKZXhwb3J0ICogZnJvbSAnLi9zdG9yYWdlL1N0b3JlZEJvb2xlYW4nOwoKLyoqIEFycmF5cyAqLwpleHBvcnQgKiBmcm9tICcuL3N0b3JhZ2UvYXJyYXlzL1N0b3JlZEFkZHJlc3NBcnJheSc7CmV4cG9ydCAqIGZyb20gJy4vc3RvcmFnZS9hcnJheXMvU3RvcmVkQm9vbGVhbkFycmF5JzsKCmV4cG9ydCAqIGZyb20gJy4vc3RvcmFnZS9hcnJheXMvU3RvcmVkVThBcnJheSc7CmV4cG9ydCAqIGZyb20gJy4vc3RvcmFnZS9hcnJheXMvU3RvcmVkVTE2QXJyYXknOwpleHBvcnQgKiBmcm9tICcuL3N0b3JhZ2UvYXJyYXlzL1N0b3JlZFUzMkFycmF5JzsKZXhwb3J0ICogZnJvbSAnLi9zdG9yYWdlL2FycmF5cy9TdG9yZWRVNjRBcnJheSc7CmV4cG9ydCAqIGZyb20gJy4vc3RvcmFnZS9hcnJheXMvU3RvcmVkVTEyOEFycmF5JzsKZXhwb3J0ICogZnJvbSAnLi9zdG9yYWdlL2FycmF5cy9TdG9yZWRVMjU2QXJyYXknOwoKLyoqIFNoYXJlZCBsaWJyYXJpZXMgKi8KZXhwb3J0ICogZnJvbSAnLi9zaGFyZWQtbGlicmFyaWVzL1RyYW5zZmVySGVscGVyJzsKZXhwb3J0ICogZnJvbSAnLi9zaGFyZWQtbGlicmFyaWVzL09QMjBVdGlscyc7CgovKiogVXRpbHMgKi8KZXhwb3J0ICogZnJvbSAnLi91dGlscyc7Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/interfaces/IBTC.ts": "aW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwoKZXhwb3J0IGludGVyZmFjZSBJQlRDIHsKICAgIHJlYWRvbmx5IGNvbnRyYWN0RGVwbG95ZXI6IEFkZHJlc3M7CiAgICByZWFkb25seSBhZGRyZXNzOiBBZGRyZXNzOwp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/lang/Definitions.ts": "ZXhwb3J0IHR5cGUgUG90ZW50aWFsPFQ+ID0gVCB8IG51bGw7Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/math/abi.ts": "aW1wb3J0IHsgYnl0ZXNUb1UzMiB9IGZyb20gJy4vYnl0ZXMnOwppbXBvcnQgeyBzaGEyNTYgfSBmcm9tICcuLi9lbnYvZ2xvYmFsJzsKaW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgpleHBvcnQgdHlwZSBTZWxlY3RvciA9IHUzMjsKCmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiBTZWxlY3RvciB7CiAgICBjb25zdCB0eXBlZCA9IFVpbnQ4QXJyYXkud3JhcChTdHJpbmcuVVRGOC5lbmNvZGUobmFtZSkpOwogICAgY29uc3QgaGFzaCA9IHNoYTI1Nih0eXBlZCk7CgogICAgcmV0dXJuIGJ5dGVzVG9VMzIoaGFzaCk7Cn0KCi8qKgogKiBVc2UgbW9yZSBnYXMuCiAqIEBwYXJhbSB1bmlxdWVJZGVudGlmaWVyCiAqIEBwYXJhbSB0eXBlZAogKi8KZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoKHVuaXF1ZUlkZW50aWZpZXI6IHUxNiwgdHlwZWQ6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgIGNvbnN0IGhhc2ggPSBzaGEyNTYodHlwZWQpOwoKICAgIHJldHVybiBlbmNvZGVQb2ludGVyKHVuaXF1ZUlkZW50aWZpZXIsIGhhc2gsIGZhbHNlKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUF0TGVhc3QzMEJ5dGVzKHR5cGVkOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7CiAgICBpZiAodHlwZWQubGVuZ3RoID49IDMwKSB7CiAgICAgICAgcmV0dXJuIHR5cGVkOwogICAgfQoKICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KDMwKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICByZXN1bHRbaV0gPSB0eXBlZFtpXTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0Owp9CgpAaW5saW5lCmZ1bmN0aW9uIHRvQXJyYXlCdWZmZXJCRShidWZmZXI6IHVzaXplLCB2YWw6IHUyNTYpOiB2b2lkIHsKICAgIC8vIFdyaXRlIHRoZSB1cHBlciAzIGNodW5rcyAoZWFjaCA2NCBiaXRzKSBpbiBvbmUgc2hvdDoKICAgIHN0b3JlPHU2ND4oYnVmZmVyLCBic3dhcCh2YWwuaGkyKSwgMCk7IC8vIDAuLjcKICAgIHN0b3JlPHU2ND4oYnVmZmVyLCBic3dhcCh2YWwuaGkxKSwgOCk7IC8vIDguLjE1CiAgICBzdG9yZTx1NjQ+KGJ1ZmZlciwgYnN3YXAodmFsLmxvMiksIDE2KTsgLy8gMTYuLjIzCgogICAgLy8gTm93IGhhbmRsZSB0aGUgZmluYWwgNjQgYml0cyAodmFsLmxvMSkgaW4gWzMyICsgMTYgKyAxNl0gZm9ybS4KICAgIC8vICAtIGxvMUhpZ2gzMiA9IHRvcCAzMiBiaXRzICAgW2JpdHMgNjMuLjMyXQogICAgLy8gIC0gbG8xTWlkMTYgID0gbWlkZGxlIDE2IGJpdHMgW2JpdHMgMzEuLjE2XQogICAgLy8gIC0gbG8xTG93MTYgID0gYm90dG9tIDE2IGJpdHMgW2JpdHMgMTUuLjBdCiAgICBjb25zdCBsbzFIaWdoMzIgPSB1MzIodmFsLmxvMSA+Pj4gMzIpOwogICAgY29uc3QgbG8xTWlkMTYgPSB1MTYoKHZhbC5sbzEgPj4+IDE2KSAmIDB4ZmZmZik7CgogICAgLy8gU3RvcmUgdGhlbSBpbiBhc2NlbmRpbmcgb2Zmc2V0cy4gQmVjYXVzZSBlYWNoIHN0b3JlIGlzIGxpdHRsZS1lbmRpYW4sCiAgICAvLyB3ZSBic3dhcCB0aGUgdmFsdWVzIHNvIHRoYXQgdGhlIGZpbmFsIGJ5dGVzIGluIG1lbW9yeSBhcmUgYmlnLWVuZGlhbi4KCiAgICAvLyBPZmZzZXRzIDI0Li4yNyAoNCBieXRlcyk6IHRvcCAzMiBiaXRzIG9mIGxvMQogICAgc3RvcmU8dTMyPihidWZmZXIsIGJzd2FwKGxvMUhpZ2gzMiksIDI0KTsKCiAgICAvLyBPZmZzZXRzIDI4Li4yOSAoMiBieXRlcyk6IG1pZCAxNiBiaXRzIG9mIGxvMQogICAgc3RvcmU8dTE2PihidWZmZXIsIGJzd2FwKGxvMU1pZDE2KSwgMjgpOwp9CgpleHBvcnQgZnVuY3Rpb24gdTI1NlRvMzBCeXRlcyh2YWx1ZTogdTI1Nik6IFVpbnQ4QXJyYXkgewogICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoMzApOwogICAgdG9BcnJheUJ1ZmZlckJFKGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdC5kYXRhU3RhcnQpLCB2YWx1ZSk7CiAgICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogT3B0aW1pemVkIHBvaW50ZXIgZW5jb2RpbmcsIHNlZSBlbmNvZGVQb2ludGVyVW5rbm93bkxlbmd0aCBmb3IgYSBtb3JlIGdlbmVyaWMgdmVyc2lvbi4KICogQHBhcmFtIHVuaXF1ZUlkZW50aWZpZXIKICogQHBhcmFtIHR5cGVkCiAqIEBwYXJhbSBzYWZlCiAqLwpleHBvcnQgZnVuY3Rpb24gZW5jb2RlUG9pbnRlcih1bmlxdWVJZGVudGlmaWVyOiB1MTYsIHR5cGVkOiBVaW50OEFycmF5LCBzYWZlOiBib29sZWFuID0gdHJ1ZSk6IFVpbnQ4QXJyYXkgewogICAgY29uc3QgYXJyYXkgPSBlbnN1cmVBdExlYXN0MzBCeXRlcyh0eXBlZCk7CgogICAgaWYgKHNhZmUpIGFzc2VydChhcnJheS5sZW5ndGggPT09IDMwLCBgUG9pbnRlcnMgbXVzdCBiZSAzMCBieXRlcy4gR290ICR7YXJyYXkubGVuZ3RofS5gKTsKCiAgICBjb25zdCBmaW5hbFBvaW50ZXIgPSBuZXcgVWludDhBcnJheSgzMik7CiAgICBmaW5hbFBvaW50ZXJbMF0gPSB1bmlxdWVJZGVudGlmaWVyICYgMHhmZjsKICAgIGZpbmFsUG9pbnRlclsxXSA9ICh1bmlxdWVJZGVudGlmaWVyID4+IDgpICYgMHhmZjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHsKICAgICAgICBmaW5hbFBvaW50ZXJbaSArIDJdID0gYXJyYXlbaV07CiAgICB9CgogICAgcmV0dXJuIGZpbmFsUG9pbnRlcjsKfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/math/bytes.ts": "aW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKaW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCeXRlc1JlYWRlciB9IGZyb20gJy4uL2J1ZmZlci9CeXRlc1JlYWRlcic7CgovKioKICogQ29udmVydCBhIDQtYnl0ZSBiaWctZW5kaWFuIGFycmF5IGludG8gYSB1MzIuCiAqIEluZGV4IDAgaXMgbW9zdCBzaWduaWZpY2FudCwgaW5kZXggMyBpcyBsZWFzdCBzaWduaWZpY2FudC4KICovCkBpbmxpbmUKZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9VMzIobnVtYmVyOiBVaW50OEFycmF5KTogdTMyIHsKICAgIGlmIChudW1iZXIubGVuZ3RoIDwgNCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignYnl0ZXNUb1UzMjogaW5wdXQgbXVzdCBiZSBhdCBsZWFzdCA0IGJ5dGVzJyk7CiAgICB9CiAgICByZXR1cm4gKHUzMihudW1iZXJbMF0pIDw8IDI0KSB8CiAgICAgICAgKHUzMihudW1iZXJbMV0pIDw8IDE2KSB8CiAgICAgICAgKHUzMihudW1iZXJbMl0pIDw8IDgpIHwKICAgICAgICB1MzIobnVtYmVyWzNdKTsKfQoKLy8gMzItYnl0ZSBidWZmZXIgb2YgYWxsIHplcm9zCmV4cG9ydCBjb25zdCBFTVBUWV9CVUZGRVI6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSgzMik7CgovLyAzMC1ieXRlIGJ1ZmZlciBvZiBhbGwgemVyb3MKZXhwb3J0IGNvbnN0IEVNUFRZX1BPSU5URVI6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheSgzMCk7CgovLyAzMi1ieXRlIGJ1ZmZlciByZXByZXNlbnRpbmcgMSBpbiBiaWctZW5kaWFuIGZvcm06Ci8vIGluZGV4IDMxIGlzIHRoZSBsZWFzdCBzaWduaWZpY2FudCBieXRlLgpleHBvcnQgY29uc3QgT05FX0JVRkZFUjogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KDMyKTsKT05FX0JVRkZFUlszMV0gPSAxOwoKLyoqCiAqIFJldHVybiBhIG5ldyAzMi1ieXRlIHplcm8gYnVmZmVyLgogKi8KQGlubGluZQpleHBvcnQgZnVuY3Rpb24gR0VUX0VNUFRZX0JVRkZFUigpOiBVaW50OEFycmF5IHsKICAgIHJldHVybiBuZXcgVWludDhBcnJheSgzMik7Cn0KCi8qKgogKiBBIGhlbHBlciB0byBhZGQgdHdvIDMyLWJ5dGUgYmlnLWVuZGlhbiBVaW50OEFycmF5cy4KICogUmV0dXJucyBhIG5ldyAzMi1ieXRlIFVpbnQ4QXJyYXkgd2l0aCAoYSArIGIpIG1vZCAyXjI1Ni4KICoKICogSW4gYmlnLWVuZGlhbiwgdGhlIExTQiBpcyBhdCBpbmRleCAzMSwgc28gd2UgaXRlcmF0ZSBmcm9tIGkgPSAzMSBkb3duIHRvIDAuCiAqLwpAaW5saW5lCmV4cG9ydCBmdW5jdGlvbiBhZGRVaW50OEFycmF5c0JFKGE6IFVpbnQ4QXJyYXksIGI6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgIGlmIChhLmxlbmd0aCAhPT0gMzIgfHwgYi5sZW5ndGggIT09IDMyKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhZGRVaW50OEFycmF5c0JFIGV4cGVjdHMgMzItYnl0ZSBpbnB1dHMnKTsKICAgIH0KCiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheSgzMik7CiAgICBsZXQgY2FycnkgPSAwOwoKICAgIC8vIGluZGV4IDMxIGlzIGxlYXN0IHNpZ25pZmljYW50IGJ5dGUKICAgIGZvciAobGV0IGkgPSAzMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICBjb25zdCBzdW0gPSAoYVtpXSBhcyB1MzIpICsgKGJbaV0gYXMgdTMyKSArIGNhcnJ5OwogICAgICAgIHJlc3VsdFtpXSA9IHN1bSAmIDB4ZmY7CiAgICAgICAgY2FycnkgPSBzdW0gPj4gODsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0Owp9CgovKioKICogQ29udmVydCBhIHU2NCB2YWx1ZSB0byBhIDMyLWJ5dGUgYmlnLWVuZGlhbiBVaW50OEFycmF5LAogKiBwbGFjaW5nIHRoZSB1NjQgaW4gdGhlICpsYXN0KiA4IGJ5dGVzIChpbmRpY2VzIDI0Li4zMSkuCiAqIFRoZSBtb3N0IHNpZ25pZmljYW50IDI0IGJ5dGVzIChpbmRpY2VzIDAuLjIzKSByZW1haW4gMC4KICovCkBpbmxpbmUKZXhwb3J0IGZ1bmN0aW9uIHU2NFRvQkUzMkJ5dGVzKHZhbHVlOiB1NjQpOiBVaW50OEFycmF5IHsKICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDMyKTsKCiAgICAvLyBXcml0ZSBiaWctZW5kaWFuIGludG8gdGhlIGZpbmFsIDggYnl0ZXM6CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykgewogICAgICAgIGFyclszMSAtIGldID0gPHU4Pih2YWx1ZSAmIDB4ZmYpOwogICAgICAgIHZhbHVlID4+PSA4OwogICAgfQoKICAgIHJldHVybiBhcnI7Cn0KCi8qKgogKiBHZXQgdGhlIGJpdCBhdCBgYml0SW5kZXhgICgwLi4yNTUpIGluIGEgMzItYnl0ZSBidWZmZXIgKippbiBiaWctZW5kaWFuIGJpdCBudW1iZXJpbmcqKi4KICogLSBiaXRJbmRleCA9IDAgPT4gdGhlIE1TQiBvZiBidWZmZXJbMF0uCiAqIC0gYml0SW5kZXggPSA3ID0+IHRoZSBMU0Igb2YgYnVmZmVyWzBdLgogKiAtIGJpdEluZGV4ID0gMjU1ID0+IHRoZSBMU0Igb2YgYnVmZmVyWzMxXS4KICovCkBpbmxpbmUKZXhwb3J0IGZ1bmN0aW9uIGdldEJpdChidWZmZXI6IFVpbnQ4QXJyYXksIGJpdEluZGV4OiB1MTYpOiBib29sIHsKICAgIGlmIChiaXRJbmRleCA+PSAyNTYpIHsKICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdCaXQgaW5kZXggb3V0IG9mIHJhbmdlJyk7CiAgICB9CgogICAgLy8gV2hpY2ggYnl0ZT8KICAgIGNvbnN0IGJ5dGVJbmRleDogdTggPSA8dTg+KGJpdEluZGV4ID4+PiAzKTsKCiAgICAvLyBXaGljaCBiaXQgd2l0aGluIHRoYXQgYnl0ZT8gKE1TQiA9IGJpdCBvZmZzZXQgNykKICAgIGNvbnN0IG9mZnNldDogdTggPSA8dTg+KDcgLSAoYml0SW5kZXggJiA3KSk7CgogICAgY29uc3QgYjogdTggPSBidWZmZXJbYnl0ZUluZGV4XTsKICAgIHJldHVybiAoKGIgPj4+IG9mZnNldCkgJiAxKSA9PSAxOwp9CgovKioKICogU2V0IG9yIGNsZWFyIHRoZSBiaXQgYXQgYGJpdEluZGV4YCAoMC4uMjU1KSBpbiBhIDMyLWJ5dGUgYnVmZmVyICgqKmJpZy1lbmRpYW4qKiBiaXQgbnVtYmVyaW5nKS4KICogLSBiaXRJbmRleCA9IDAgPT4gc2V0cyB0aGUgTVNCIG9mIGJ1ZmZlclswXS4KICogLSBiaXRJbmRleCA9IDI1NSA9PiBzZXRzIHRoZSBMU0Igb2YgYnVmZmVyWzMxXS4KICovCkBpbmxpbmUKZXhwb3J0IGZ1bmN0aW9uIHNldEJpdChidWZmZXI6IFVpbnQ4QXJyYXksIGJpdEluZGV4OiB1MTYsIGJpdFZhbHVlOiBib29sKTogdm9pZCB7CiAgICBpZiAoYml0SW5kZXggPj0gMjU2KSB7CiAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnQml0IGluZGV4IG91dCBvZiByYW5nZScpOwogICAgfQoKICAgIC8vIFdoaWNoIGJ5dGU/CiAgICBjb25zdCBieXRlSW5kZXg6IHU4ID0gPHU4PihiaXRJbmRleCA+Pj4gMyk7CgogICAgLy8gV2hpY2ggYml0IHdpdGhpbiB0aGF0IGJ5dGU/IChNU0IgPSBiaXQgb2Zmc2V0IDcpCiAgICBjb25zdCBvZmZzZXQ6IHU4ID0gPHU4Pig3IC0gKGJpdEluZGV4ICYgNykpOwoKICAgIGxldCBiOiB1OCA9IGJ1ZmZlcltieXRlSW5kZXhdOwogICAgaWYgKGJpdFZhbHVlKSB7CiAgICAgICAgYiB8PSAxIDw8IG9mZnNldDsKICAgIH0gZWxzZSB7CiAgICAgICAgYiAmPSB+KDEgPDwgb2Zmc2V0KTsKICAgIH0KCiAgICBidWZmZXJbYnl0ZUluZGV4XSA9IGI7Cn0KCgovKioKICogQXNzdW1lIHRoZSBkYXRhIGlzIGF0IGxlYXN0IDE2IGJ5dGVzLCByZWFkIHR3byB1NjRzIGZyb20gaXQgaW4gYmlnLWVuZGlhbiBvcmRlci4KICovCkBpbmxpbmUKZXhwb3J0IGZ1bmN0aW9uIHJlYWRMZW5ndGhBbmRTdGFydEluZGV4KGRhdGE6IFVpbnQ4QXJyYXkpOiB1NjRbXSB7CiAgICBpZiAoZGF0YS5sZW5ndGggPCAxNikgewogICAgICAgIHJldHVybiBbMCwgMF07CiAgICB9CgogICAgY29uc3QgcmVhZGVyID0gbmV3IEJ5dGVzUmVhZGVyKGRhdGEpOwogICAgY29uc3QgbGVuZ3RoID0gcmVhZGVyLnJlYWRVNjQoKTsKICAgIGNvbnN0IHN0YXJ0SW5kZXggPSByZWFkZXIucmVhZFU2NCgpOwoKICAgIHJldHVybiBbbGVuZ3RoLCBzdGFydEluZGV4XTsKfQoKLyoqCiAqIFdyaXRlIHR3byB1NjRzIGludG8gYSAzMi1ieXRlIGJ1ZmZlciBpbiBiaWctZW5kaWFuIG9yZGVyCiAqLwpAaW5saW5lCmV4cG9ydCBmdW5jdGlvbiB3cml0ZUxlbmd0aEFuZFN0YXJ0SW5kZXgobGVuZ3RoOiB1NjQsIHN0YXJ0SW5kZXg6IHU2NCk6IFVpbnQ4QXJyYXkgewogICAgY29uc3Qgd3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKDMyKTsKICAgIHdyaXRlci53cml0ZVU2NChsZW5ndGgpOwogICAgd3JpdGVyLndyaXRlVTY0KHN0YXJ0SW5kZXgpOwoKICAgIHJldHVybiB3cml0ZXIuZ2V0QnVmZmVyKCk7Cn0KCi8qKgogKiBFbmNvZGUgYSAyLWJ5dGUgcG9pbnRlciArIHN1YlBvaW50ZXIgaW50byBhIDMyLWJ5dGUgYnVmZmVyIGluIGJpZy1lbmRpYW4gb3JkZXIuCiAqLwpAaW5saW5lCmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCYXNlUG9pbnRlcihwb2ludGVyOiB1MTYsIHN1YlBvaW50ZXI6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcigzMik7CiAgICB3cml0ZXIud3JpdGVVMTYocG9pbnRlcik7CiAgICB3cml0ZXIud3JpdGVCeXRlcyhzdWJQb2ludGVyKTsKCiAgICByZXR1cm4gd3JpdGVyLmdldEJ1ZmZlcigpOwp9CgpAaW5saW5lCmV4cG9ydCBmdW5jdGlvbiBiaWdFbmRpYW5BZGQoYmFzZTogVWludDhBcnJheSwgaW5jcmVtZW50OiB1NjQpOiBVaW50OEFycmF5IHsKICAgIGNvbnN0IGFkZCA9IHU2NFRvQkUzMkJ5dGVzKGluY3JlbWVudCk7CgogICAgcmV0dXJuIGFkZFVpbnQ4QXJyYXlzQkUoYmFzZSwgYWRkKTsKfQ==",
  "node_modules/@btc-vision/btc-runtime/runtime/memory/AddressMemoryMap.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXIgfSBmcm9tICcuLi9tYXRoL2FiaSc7CmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICcuLi90eXBlcy9BZGRyZXNzJzsKaW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEVNUFRZX0JVRkZFUiB9IGZyb20gJy4uL21hdGgvYnl0ZXMnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBBZGRyZXNzTWVtb3J5TWFwIHsKICAgIHB1YmxpYyBwb2ludGVyOiB1MTY7CgogICAgY29uc3RydWN0b3IoCiAgICAgICAgcG9pbnRlcjogdTE2LAogICAgKSB7CiAgICAgICAgdGhpcy5wb2ludGVyID0gcG9pbnRlcjsKICAgIH0KCiAgICBwdWJsaWMgc2V0QXNVaW50OEFycmF5KGtleTogQWRkcmVzcywgdmFsdWU6IFVpbnQ4QXJyYXkpOiB0aGlzIHsKICAgICAgICBjb25zdCBrZXlIYXNoOiBVaW50OEFycmF5ID0gdGhpcy5lbmNvZGVQb2ludGVyKGtleSk7CiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQoa2V5SGFzaCwgdmFsdWUpOwoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgc2V0KGtleTogQWRkcmVzcywgdmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICByZXR1cm4gdGhpcy5zZXRBc1VpbnQ4QXJyYXkoa2V5LCB2YWx1ZS50b1VpbnQ4QXJyYXkodHJ1ZSkpOwogICAgfQoKICAgIHB1YmxpYyBnZXRBc1VpbnQ4QXJyYXkoa2V5OiBBZGRyZXNzKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3Qga2V5SGFzaDogVWludDhBcnJheSA9IHRoaXMuZW5jb2RlUG9pbnRlcihrZXkpOwoKICAgICAgICByZXR1cm4gQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQoa2V5SGFzaCk7CiAgICB9CgogICAgcHVibGljIGdldChhZGRyZXNzOiBBZGRyZXNzKTogdTI1NiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHRoaXMuZ2V0QXNVaW50OEFycmF5KGFkZHJlc3MpOwoKICAgICAgICByZXR1cm4gdTI1Ni5mcm9tVWludDhBcnJheUJFKHJlc3ApOwogICAgfQoKICAgIHB1YmxpYyBoYXMoa2V5OiBBZGRyZXNzKTogYm9vbCB7CiAgICAgICAgY29uc3Qga2V5SGFzaDogVWludDhBcnJheSA9IHRoaXMuZW5jb2RlUG9pbnRlcihrZXkpOwoKICAgICAgICByZXR1cm4gQmxvY2tjaGFpbi5oYXNTdG9yYWdlQXQoa2V5SGFzaCk7CiAgICB9CgogICAgcHVibGljIGRlbGV0ZShrZXk6IEFkZHJlc3MpOiBib29sIHsKICAgICAgICB0aGlzLnNldEFzVWludDhBcnJheShrZXksIEVNUFRZX0JVRkZFUik7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIEB1bnNhZmUKICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7CiAgICB9CgogICAgcHJpdmF0ZSBlbmNvZGVQb2ludGVyKGtleTogQWRkcmVzcyk6IFVpbnQ4QXJyYXkgewogICAgICAgIHJldHVybiBlbmNvZGVQb2ludGVyKHRoaXMucG9pbnRlciwga2V5LnNsaWNlKDAsIDMwKSwgdHJ1ZSk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/memory/KeyMerger.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vZW52JzsKaW1wb3J0IHsgZW5jb2RlUG9pbnRlclVua25vd25MZW5ndGggfSBmcm9tICcuLi9tYXRoL2FiaSc7CgoKQGZpbmFsCmV4cG9ydCBjbGFzcyBLZXlNZXJnZXI8SyBleHRlbmRzIHN0cmluZywgSzIgZXh0ZW5kcyBzdHJpbmcsIFYgZXh0ZW5kcyBVaW50OEFycmF5PiB7CiAgICBwdWJsaWMgcGFyZW50S2V5OiBLOwogICAgcHVibGljIHBvaW50ZXI6IHUxNjsKCiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEssIHBvaW50ZXI6IHUxNikgewogICAgICAgIHRoaXMucG9pbnRlciA9IHBvaW50ZXI7CiAgICAgICAgdGhpcy5wYXJlbnRLZXkgPSBwYXJlbnQ7CiAgICB9CgogICAgcHVibGljIHNldChrZXkyOiBLMiwgdmFsdWU6IFYpOiB0aGlzIHsKICAgICAgICBjb25zdCBtZXJnZWRLZXk6IHN0cmluZyA9IHRoaXMubWVyZ2VLZXkoa2V5Mik7CiAgICAgICAgY29uc3Qga2V5SGFzaDogVWludDhBcnJheSA9IHRoaXMuZW5jb2RlUG9pbnRlcihtZXJnZWRLZXkpOwoKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdChrZXlIYXNoLCB2YWx1ZSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIHB1YmxpYyBnZXQoa2V5OiBLKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3QgbWVyZ2VkS2V5OiBzdHJpbmcgPSB0aGlzLm1lcmdlS2V5KGtleSk7CiAgICAgICAgcmV0dXJuIEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHRoaXMuZW5jb2RlUG9pbnRlcihtZXJnZWRLZXkpKTsKICAgIH0KCiAgICBwdWJsaWMgaGFzKGtleTogSyk6IGJvb2wgewogICAgICAgIGNvbnN0IG1lcmdlZEtleTogc3RyaW5nID0gdGhpcy5tZXJnZUtleShrZXkpOwogICAgICAgIHJldHVybiBCbG9ja2NoYWluLmhhc1N0b3JhZ2VBdCh0aGlzLmVuY29kZVBvaW50ZXIobWVyZ2VkS2V5KSk7CiAgICB9CgogICAgQHVuc2FmZQogICAgcHVibGljIGRlbGV0ZShfa2V5OiBLKTogYm9vbCB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpOwogICAgfQoKICAgIEB1bnNhZmUKICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsZWFyIG1ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBNZXJnZXMgdGhlIHBhcmVudEtleSBhbmQgdGhlIHByb3ZpZGVkIGtleSBieSBwcmVmaXhpbmcgZWFjaCB3aXRoIGl0cyBsZW5ndGguCiAgICAgKiBUaGlzIGF2b2lkcyBjb2xsaXNpb25zIHN1Y2ggYXM6CiAgICAgKiAgIHBhcmVudEtleSA9ICJhYmMiLCBrZXkgPSAiZGVmIiAgPT4gIjM6YWJjMzpkZWYiCiAgICAgKiAgIHBhcmVudEtleSA9ICJhYiIsICBrZXkgPSAiY2RlZiIgPT4gIjI6YWI0OmNkZWYiCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHByaXZhdGUgbWVyZ2VLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcgewogICAgICAgIHJldHVybiBgJHt0aGlzLnBhcmVudEtleS5sZW5ndGh9OiR7dGhpcy5wYXJlbnRLZXl9JHtrZXkubGVuZ3RofToke2tleX1gOwogICAgfQoKICAgIEBpbmxpbmUKICAgIHByaXZhdGUgZW5jb2RlUG9pbnRlcihrZXk6IHN0cmluZyk6IFVpbnQ4QXJyYXkgewogICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihrZXkubGVuZ3RoKTsKICAgICAgICB3cml0ZXIud3JpdGVTdHJpbmcoa2V5KTsKCiAgICAgICAgcmV0dXJuIGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoKHRoaXMucG9pbnRlciwgd3JpdGVyLmdldEJ1ZmZlcigpKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/memory/MapOfMap.ts": "aW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBOZXN0ZWQgfSBmcm9tICcuL05lc3RlZCc7CgpAZmluYWwKZXhwb3J0IGNsYXNzIE1hcE9mTWFwPFQ+IGV4dGVuZHMgTWFwPAogICAgQWRkcmVzcywKICAgIE5lc3RlZDxUPgo+IHsKICAgIHB1YmxpYyBwb2ludGVyOiB1MTY7CgogICAgY29uc3RydWN0b3IoCiAgICAgICAgcG9pbnRlcjogdTE2LAogICAgKSB7CiAgICAgICAgc3VwZXIoKTsKCiAgICAgICAgdGhpcy5wb2ludGVyID0gcG9pbnRlcjsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgZ2V0KGtleTogQWRkcmVzcyk6IE5lc3RlZDxUPiB7CiAgICAgICAgdGhpcy5jcmVhdGVLZXlNZXJnZXIoa2V5KTsKCiAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpOwogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzZXQoa2V5OiBBZGRyZXNzLCB2YWx1ZTogTmVzdGVkPFQ+KTogdGhpcyB7CiAgICAgICAgdGhpcy5jcmVhdGVLZXlNZXJnZXIoa2V5KTsKCiAgICAgICAgcmV0dXJuIDx0aGlzPnN1cGVyLnNldChrZXksIHZhbHVlKTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgaGFzKGtleTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIHJldHVybiBzdXBlci5oYXMoa2V5KTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgZGVsZXRlKGtleTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIHJldHVybiBzdXBlci5kZWxldGUoa2V5KTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7CiAgICAgICAgc3VwZXIuY2xlYXIoKTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwcml2YXRlIGNyZWF0ZUtleU1lcmdlcihrZXk6IEFkZHJlc3MpOiB2b2lkIHsKICAgICAgICBpZiAoIXN1cGVyLmhhcyhrZXkpKSB7CiAgICAgICAgICAgIHN1cGVyLnNldChrZXksIG5ldyBOZXN0ZWQ8VD4oa2V5LCB0aGlzLnBvaW50ZXIpKTsKICAgICAgICB9CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/memory/Nested.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoIH0gZnJvbSAnLi4vbWF0aC9hYmknOwppbXBvcnQgeyBCeXRlc1dyaXRlciB9IGZyb20gJy4uL2J1ZmZlci9CeXRlc1dyaXRlcic7CmltcG9ydCB7IHUyNTYgfSBmcm9tICdAYnRjLXZpc2lvbi9hcy1iaWdudW0vYXNzZW1ibHknOwppbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi4vdHlwZXMvQWRkcmVzcyc7CgpAZmluYWwKZXhwb3J0IGNsYXNzIE5lc3RlZDxUPiB7CiAgICBwdWJsaWMgcGFyZW50S2V5OiBVaW50OEFycmF5OwoKICAgIHB1YmxpYyBwb2ludGVyOiB1MTY7CgogICAgY29uc3RydWN0b3IoCiAgICAgICAgcGFyZW50OiBVaW50OEFycmF5LAogICAgICAgIHBvaW50ZXI6IHUxNiwKICAgICkgewogICAgICAgIHRoaXMucG9pbnRlciA9IHBvaW50ZXI7CgogICAgICAgIHRoaXMucGFyZW50S2V5ID0gcGFyZW50OwogICAgfQoKICAgIHB1YmxpYyBzZXQoa2V5OiBVaW50OEFycmF5LCB2YWx1ZTogVCk6IHRoaXMgewogICAgICAgIGNvbnN0IGtleUhhc2g6IFVpbnQ4QXJyYXkgPSB0aGlzLmdldEtleUhhc2goa2V5KTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdChrZXlIYXNoLCB0aGlzLmZyb20odmFsdWUpKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcHVibGljIGdldChrZXk6IFVpbnQ4QXJyYXkpOiBUIHsKICAgICAgICBjb25zdCBrZXlIYXNoOiBVaW50OEFycmF5ID0gdGhpcy5nZXRLZXlIYXNoKGtleSk7CgogICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQoa2V5SGFzaCkpOwogICAgfQoKICAgIHB1YmxpYyBoYXMoa2V5OiBVaW50OEFycmF5KTogYm9vbCB7CiAgICAgICAgY29uc3QgbWVyZ2VkS2V5OiBVaW50OEFycmF5ID0gdGhpcy5nZXRLZXlIYXNoKGtleSk7CgogICAgICAgIHJldHVybiBCbG9ja2NoYWluLmhhc1N0b3JhZ2VBdChtZXJnZWRLZXkpOwogICAgfQoKICAgIEB1bnNhZmUKICAgIHB1YmxpYyBkZWxldGUoX2tleTogVWludDhBcnJheSk6IGJvb2wgewogICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgIH0KCiAgICBAdW5zYWZlCiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGVhciBtZXRob2Qgbm90IGltcGxlbWVudGVkLicpOwogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydHMgcmF3IGJ5dGVzIGZyb20gc3RvcmFnZSBpbnRvIHR5cGUgVC4KICAgICAqLwogICAgcHJpdmF0ZSB0b1ZhbHVlKHZhbHVlOiBVaW50OEFycmF5KTogVCB7CiAgICAgICAgLy8gQ2hlY2sgVCdzIGNvbXBpbGUtdGltZSB0eXBlIElECiAgICAgICAgaWYgKGlkb2Y8VD4oKSA9PSBpZG9mPHUyNTY+KCkpIHsKICAgICAgICAgICAgLy8gV2Uga25vdyBUIGlzIHUyNTYKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8VD4odTI1Ni5mcm9tVWludDhBcnJheUJFKHZhbHVlKSk7CiAgICAgICAgfSBlbHNlIGlmIChpZG9mPFQ+KCkgPT0gaWRvZjxVaW50OEFycmF5PigpKSB7CiAgICAgICAgICAgIC8vIFdlIGtub3cgVCBpcyBVaW50OEFycmF5CiAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFQ+KHZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKGlkb2Y8VD4oKSA9PSBpZG9mPEFkZHJlc3M+KCkpIHsKICAgICAgICAgICAgLy8gV2Uga25vdyBUIGlzIEFkZHJlc3MKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8VD4odmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAoaXNJbnRlZ2VyPFQ+KCkpIHsKICAgICAgICAgICAgLy8gRm9yIGEgc2ltcGxlIGludGVnZXIsIGp1c3QgcHVsbCBvdXQgdGhlIGZpcnN0IGJ5dGUKICAgICAgICAgICAgcmV0dXJuIHZhbHVlWzBdIGFzIFQ7CiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZzxUPigpKSB7CiAgICAgICAgICAgIC8vIFQgaXMgYSBzdHJpbmcKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8VD4oU3RyaW5nLlVURjguZGVjb2RlKHZhbHVlLmJ1ZmZlcikpOwogICAgICAgIH0KCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCB0eXBlJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb252ZXJ0cyB0eXBlIFQgaW50byByYXcgYnl0ZXMgZm9yIHN0b3JhZ2UuCiAgICAgKi8KICAgIHByaXZhdGUgZnJvbSh2YWx1ZTogVCk6IFVpbnQ4QXJyYXkgewogICAgICAgIGlmIChpZG9mPFQ+KCkgPT0gaWRvZjx1MjU2PigpKSB7CiAgICAgICAgICAgIC8vIENhc3QgVCB0byB1MjU2LCB0aGVuIGNvbnZlcnQgdG8gYnl0ZXMKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8dTI1Nj4odmFsdWUpLnRvVWludDhBcnJheSh0cnVlKTsKICAgICAgICB9IGVsc2UgaWYgKGlkb2Y8VD4oKSA9PSBpZG9mPFVpbnQ4QXJyYXk+KCkpIHsKICAgICAgICAgICAgLy8gSnVzdCByZXR1cm4gaXQKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8VWludDhBcnJheT4odmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAoaWRvZjxUPigpID09IGlkb2Y8QWRkcmVzcz4oKSkgewogICAgICAgICAgICAvLyBBZGRyZXNzIGlzIGFscmVhZHkgYnl0ZXMKICAgICAgICAgICAgcmV0dXJuIGNoYW5nZXR5cGU8VWludDhBcnJheT4odmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAoaXNJbnRlZ2VyPFQ+KCkpIHsKICAgICAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKHNpemVvZjxUPigpKTsKICAgICAgICAgICAgd3JpdGVyLndyaXRlPFQ+KHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHdyaXRlci5nZXRCdWZmZXIoKTsKICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nPFQ+KCkpIHsKICAgICAgICAgICAgY29uc3Qgc3RyID0gY2hhbmdldHlwZTxzdHJpbmc+KHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkud3JhcChTdHJpbmcuVVRGOC5lbmNvZGUoc3RyKSk7CiAgICAgICAgfQoKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGUnKTsKICAgIH0KCiAgICBwcml2YXRlIGdldEtleUhhc2goa2V5OiBVaW50OEFycmF5KTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3Qgd3JpdGVyOiBCeXRlc1dyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihrZXkuYnl0ZUxlbmd0aCArIHRoaXMucGFyZW50S2V5LmJ5dGVMZW5ndGgpOwoKICAgICAgICB3cml0ZXIud3JpdGVCeXRlcyh0aGlzLnBhcmVudEtleSk7CiAgICAgICAgd3JpdGVyLndyaXRlQnl0ZXMoa2V5KTsKCiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlUG9pbnRlcih3cml0ZXIpOwogICAgfQoKICAgIHByaXZhdGUgZW5jb2RlUG9pbnRlcih3cml0ZXI6IEJ5dGVzV3JpdGVyKTogVWludDhBcnJheSB7CiAgICAgICAgcmV0dXJuIGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoKHRoaXMucG9pbnRlciwgd3JpdGVyLmdldEJ1ZmZlcigpKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/AddressCodec.ts": "aW1wb3J0IHsgSUNvZGVjIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ29kZWMnOwppbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi4vLi4vdHlwZXMvQWRkcmVzcyc7CgpjbGFzcyBfQWRkcmVzc0NvZGVjIGltcGxlbWVudHMgSUNvZGVjPEFkZHJlc3M+IHsKICAgIHB1YmxpYyBlbmNvZGUodmFsdWU6IEFkZHJlc3MpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXkpOiBBZGRyZXNzIHsKICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBBZGRyZXNzLnplcm8oKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBBZGRyZXNzLmZyb21VaW50OEFycmF5KGJ1ZmZlcik7CiAgICB9Cn0KCmV4cG9ydCBjb25zdCBpZE9mQWRkcmVzc0NvZGVjID0gaWRvZjxfQWRkcmVzc0NvZGVjPigpOwpleHBvcnQgY29uc3QgQWRkcmVzc0NvZGVjID0gbmV3IF9BZGRyZXNzQ29kZWMoKTs=",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/BooleanCodec.ts": "aW1wb3J0IHsgSUNvZGVjIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ29kZWMnOwoKY2xhc3MgX0Jvb2xlYW5Db2RlYyBpbXBsZW1lbnRzIElDb2RlYzxib29sPiB7CiAgICBwdWJsaWMgZW5jb2RlKHZhbHVlOiBib29sKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoMSk7CiAgICAgICAgb3V0WzBdID0gdmFsdWUgPyAxIDogMDsKICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIHB1YmxpYyBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5KTogYm9vbCB7CiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICAgIHJldHVybiBidWZmZXJbMF0gPT0gMTsKICAgIH0KfQoKZXhwb3J0IGNvbnN0IGlkT2ZCb29sQ29kZWMgPSBpZG9mPF9Cb29sZWFuQ29kZWM+KCk7CmV4cG9ydCBjb25zdCBCb29sZWFuQ29kZWMgPSBuZXcgX0Jvb2xlYW5Db2RlYygpOw==",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/Ids.ts": "aW1wb3J0IHsgaTEyOCwgdTEyOCwgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IFVpbnQ4QXJyYXkgfSBmcm9tICd0eXBlZGFycmF5JzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uLy4uL3R5cGVzL0FkZHJlc3MnOwoKZXhwb3J0IGNvbnN0IGlkT2ZVMjU2ID0gaWRvZjx1MjU2PigpOwpleHBvcnQgY29uc3QgaWRPZlUxMjggPSBpZG9mPHUxMjg+KCk7CmV4cG9ydCBjb25zdCBpZE9mSTEyOCA9IGlkb2Y8aTEyOD4oKTsKZXhwb3J0IGNvbnN0IGlkT2ZVaW50OEFycmF5ID0gaWRvZjxVaW50OEFycmF5PigpOwpleHBvcnQgY29uc3QgaWRPZlN0cmluZyA9IGlkb2Y8c3RyaW5nPigpOwpleHBvcnQgY29uc3QgaWRPZkFkZHJlc3MgPSBpZG9mPEFkZHJlc3M+KCk7",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/NumericCodec.ts": "aW1wb3J0IHsgaTEyOCwgdTEyOCwgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IElDb2RlYyB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUNvZGVjJzsKaW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi8uLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCeXRlc1JlYWRlciB9IGZyb20gJy4uLy4uL2J1ZmZlci9CeXRlc1JlYWRlcic7CmltcG9ydCB7IGlkT2ZJMTI4LCBpZE9mVTEyOCwgaWRPZlUyNTYgfSBmcm9tICcuL0lkcyc7CgovKioKICogQSBnZW5lcmljIE51bWVyaWNDb2RlYzxUPiB0aGF0IGhhbmRsZXM6CiAqICAtIGB1MjU2YCBmcm9tIEBidGMtdmlzaW9uL2FzLWJpZ251bSAoYmlnLWVuZGlhbikKICogIC0gQW55IGJ1aWx0LWluIGludGVnZXIgdHlwZSAoaTMyLCB1MzIsIGk2NCwgZXRjLikgYWxzbyBzdG9yZWQgYmlnLWVuZGlhbgogKi8KZXhwb3J0IGNsYXNzIE51bWVyaWNDb2RlYzxUPiBpbXBsZW1lbnRzIElDb2RlYzxUPiB7CiAgICBwdWJsaWMgZW5jb2RlKHZhbHVlOiBUKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3QgaWQgPSBpZG9mPFQ+KCk7CiAgICAgICAgc3dpdGNoIChpZCkgewogICAgICAgICAgICBjYXNlIGlkT2ZVMjU2OiB7CiAgICAgICAgICAgICAgICAvLyBUIGlzIGB1MjU2YAogICAgICAgICAgICAgICAgY29uc3QgdmFsID0gY2hhbmdldHlwZTx1MjU2Pih2YWx1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsLnRvVWludDhBcnJheSh0cnVlKTsgLy8gYmlnLWVuZGlhbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgaWRPZlUxMjg6IHsKICAgICAgICAgICAgICAgIC8vIFQgaXMgYHUxMjhgCiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBjaGFuZ2V0eXBlPHUxMjg+KHZhbHVlKTsKICAgICAgICAgICAgICAgIHJldHVybiB2YWwudG9VaW50OEFycmF5KHRydWUpOyAvLyBiaWctZW5kaWFuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSBpZE9mSTEyODogewogICAgICAgICAgICAgICAgLy8gVCBpcyBgaTEyOGAKICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGNoYW5nZXR5cGU8aTEyOD4odmFsdWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHZhbC50b1VpbnQ4QXJyYXkodHJ1ZSk7IC8vIGJpZy1lbmRpYW4KICAgICAgICAgICAgfQogICAgICAgICAgICBkZWZhdWx0OiB7CiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoc2l6ZW9mPFQ+KCkpOwogICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlPFQ+KHZhbHVlKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGVyLmdldEJ1ZmZlcigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5KTogVCB7CiAgICAgICAgY29uc3QgaWQgPSBpZG9mPFQ+KCk7CiAgICAgICAgc3dpdGNoIChpZCkgewogICAgICAgICAgICBjYXNlIGlkT2ZVMjU2OgogICAgICAgICAgICAgICAgLy8gVCBpcyBgdTI1NmAKICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFQ+KHUyNTYuZnJvbUJ5dGVzKGJ1ZmZlciwgdHJ1ZSkpOwogICAgICAgICAgICBjYXNlIGlkT2ZVMTI4OgogICAgICAgICAgICAgICAgLy8gVCBpcyBgdTEyOGAKICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFQ+KHUxMjguZnJvbUJ5dGVzKGJ1ZmZlciwgdHJ1ZSkpOwogICAgICAgICAgICBjYXNlIGlkT2ZJMTI4OgogICAgICAgICAgICAgICAgLy8gVCBpcyBgaTEyOGAKICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFQ+KGkxMjguZnJvbUJ5dGVzKGJ1ZmZlciwgdHJ1ZSkpOwogICAgICAgICAgICBkZWZhdWx0OiB7CiAgICAgICAgICAgICAgICBjb25zdCB3cml0ZXIgPSBuZXcgQnl0ZXNSZWFkZXIoYnVmZmVyKTsKICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXIucmVhZDxUPigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/StringCodec.ts": "aW1wb3J0IHsgSUNvZGVjIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ29kZWMnOwppbXBvcnQgeyBWYXJpYWJsZUJ5dGVzQ29kZWMgfSBmcm9tICcuL1ZhcmlhYmxlQnl0ZXNDb2RlYyc7CgpjbGFzcyBJU3RyaW5nQ29kZWMgaW1wbGVtZW50cyBJQ29kZWM8c3RyaW5nPiB7CiAgICBwdWJsaWMgZW5jb2RlKHZhbHVlOiBzdHJpbmcpOiBVaW50OEFycmF5IHsKICAgICAgICAvLyBDb252ZXJ0IHN0cmluZyAtPiBVVEY4IGJ5dGVzCiAgICAgICAgY29uc3QgdXRmOCA9IFN0cmluZy5VVEY4LmVuY29kZSh2YWx1ZSwgZmFsc2UpOwoKICAgICAgICAvLyBQYXNzIHRvIHZhcmlhYmxlLWJ5dGVzCiAgICAgICAgcmV0dXJuIFZhcmlhYmxlQnl0ZXNDb2RlYy5lbmNvZGUoVWludDhBcnJheS53cmFwKHV0ZjgpKTsKICAgIH0KCiAgICBwdWJsaWMgZGVjb2RlKGJ1ZmZlcjogVWludDhBcnJheSk6IHN0cmluZyB7CiAgICAgICAgY29uc3QgcmF3ID0gVmFyaWFibGVCeXRlc0NvZGVjLmRlY29kZShidWZmZXIpOwogICAgICAgIGlmIChyYXcubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFN0cmluZy5VVEY4LmRlY29kZShyYXcuYnVmZmVyLCBmYWxzZSk7CiAgICB9Cn0KCmV4cG9ydCBjb25zdCBpZE9mU3RyaW5nQ29kZWMgPSBpZG9mPElTdHJpbmdDb2RlYz4oKTsKZXhwb3J0IGNvbnN0IFN0cmluZ0NvZGVjID0gbmV3IElTdHJpbmdDb2RlYygpOw==",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/U256Codec.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IElDb2RlYyB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUNvZGVjJzsKCmNsYXNzIF9VMjU2Q29kZWMgaW1wbGVtZW50cyBJQ29kZWM8dTI1Nj4gewogICAgcHVibGljIGVuY29kZSh2YWx1ZTogdTI1Nik6IFVpbnQ4QXJyYXkgewogICAgICAgIC8vIGJpZy1lbmRpYW4KICAgICAgICByZXR1cm4gdmFsdWUudG9VaW50OEFycmF5KHRydWUpOwogICAgfQoKICAgIHB1YmxpYyBkZWNvZGUoYnVmZmVyOiBVaW50OEFycmF5KTogdTI1NiB7CiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gMCkgewogICAgICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHUyNTYuZnJvbVVpbnQ4QXJyYXlCRShidWZmZXIpOwogICAgfQp9CgpleHBvcnQgY29uc3QgaWRPZlUyNTZDb2RlYyA9IGlkb2Y8X1UyNTZDb2RlYz4oKTsKZXhwb3J0IGNvbnN0IFUyNTZDb2RlYyA9IG5ldyBfVTI1NkNvZGVjKCk7Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/codecs/VariableBytesCodec.ts": "aW1wb3J0IHsgSUNvZGVjIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ29kZWMnOwppbXBvcnQgeyBQb2ludGVyTWFuYWdlciB9IGZyb20gJy4uL1BvaW50ZXJNYW5hZ2VyJzsKaW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uLy4uL2Vudic7CmltcG9ydCB7IGJpZ0VuZGlhbkFkZCB9IGZyb20gJy4uLy4uL21hdGgvYnl0ZXMnOwoKLyoqCiAqIEEgZ2VuZXJpYyBjb2RlYyB0byBzdG9yZSBhbiBhcmJpdHJhcnktbGVuZ3RoIGJ5dGUgYXJyYXkgKCJwYXlsb2FkIikgaW4gY2h1bmtlZCAzMi1ieXRlIHNsb3RzLgogKiBMYXlvdXQ6CiAqICAgIC0gY2h1bmsgMCAocG9pbnRlciswKToKICogICAgICAgICBmaXJzdCA0IGJ5dGVzID0gbGVuZ3RoICh1MzIgYmlnLWVuZGlhbiksCiAqICAgICAgICAgbmV4dCAyOCBieXRlcyA9IHBhcnRpYWwgZGF0YQogKiAgICAtIGNodW5rIGk+MCAocG9pbnRlciArIGkpOiAzMiBieXRlcyBvZiBzdWJzZXF1ZW50IGRhdGEKICovCmV4cG9ydCBjbGFzcyBJVmFyaWFibGVCeXRlc0NvZGVjIGltcGxlbWVudHMgSUNvZGVjPFVpbnQ4QXJyYXk+IHsKICAgIHB1YmxpYyBlbmNvZGUodmFsdWU6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7CgogICAgICAgIC8vIE51bWJlciBvZiBieXRlcyB0aGF0IGZpdCBpbiAidGhlIGZpcnN0IGNodW5rIiA9IDI4IChzaW5jZSA0IGJ5dGVzIHVzZWQgYnkgbGVuZ3RoKQogICAgICAgIGNvbnN0IGZpcnN0Q2h1bmtEYXRhTGVuID0gbGVuZ3RoIDwgMjggPyBsZW5ndGggOiAyODsKICAgICAgICBsZXQgcmVtYWluaW5nID0gbGVuZ3RoIC0gZmlyc3RDaHVua0RhdGFMZW47CgogICAgICAgIC8vIElmIHJlbWFpbmluZyA+IDAsIGVhY2ggY2h1bmsgaXMgMzIgYnl0ZXMuCiAgICAgICAgLy8gU28gdG90YWwgY2h1bmtzIG5lZWRlZCA9IDEgKGZvciBmaXJzdCBjaHVuaykgKyBjZWlsKHJlbWFpbmluZyAvIDMyKS4KICAgICAgICBjb25zdCBhZGRpdGlvbmFsQ2h1bmtzOiB1MzIgPSByZW1haW5pbmcgPT0gMCA/IDAgOiAoKHJlbWFpbmluZyArIDMyIC0gMSkgLyAzMik7CiAgICAgICAgY29uc3QgdG90YWxDaHVua3M6IHUzMiA9IDEgKyBhZGRpdGlvbmFsQ2h1bmtzOwoKICAgICAgICAvLyAxKSBBbGxvY2F0ZSBgdG90YWxDaHVua3NgIGZyb20gUG9pbnRlck1hbmFnZXIKICAgICAgICBjb25zdCBwb2ludGVyQnl0ZXMgPSBQb2ludGVyTWFuYWdlci5hbGxvY2F0ZVNsb3RzKHRvdGFsQ2h1bmtzKTsKCiAgICAgICAgLy8gMikgV3JpdGUgY2h1bmsgMDogbGVuZ3RoICsgdXAgdG8gMjggYnl0ZXMKICAgICAgICBjb25zdCBjaHVuazAgPSBuZXcgVWludDhBcnJheSgzMik7CgogICAgICAgIC8vIHN0b3JlIGxlbmd0aCBpbiBiaWctZW5kaWFuICg0IGJ5dGVzKQogICAgICAgIGNodW5rMFswXSA9IDx1OD4oKGxlbmd0aCA+PiAyNCkgJiAweGZmKTsKICAgICAgICBjaHVuazBbMV0gPSA8dTg+KChsZW5ndGggPj4gMTYpICYgMHhmZik7CiAgICAgICAgY2h1bmswWzJdID0gPHU4PigobGVuZ3RoID4+IDgpICYgMHhmZik7CiAgICAgICAgY2h1bmswWzNdID0gPHU4PihsZW5ndGggJiAweGZmKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaXJzdENodW5rRGF0YUxlbjsgaSsrKSB7CiAgICAgICAgICAgIGNodW5rMFs0ICsgaV0gPSB2YWx1ZVtpXTsKICAgICAgICB9CgogICAgICAgIC8vIHN0b3JlIGNodW5rMAogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHBvaW50ZXJCeXRlcywgY2h1bmswKTsKCiAgICAgICAgLy8gMykgV3JpdGUgc3Vic2VxdWVudCBjaHVua3MKICAgICAgICBsZXQgb2Zmc2V0OiB1MzIgPSBmaXJzdENodW5rRGF0YUxlbjsKICAgICAgICBmb3IgKGxldCBpOiB1NjQgPSAxOyBpIDwgdTY0KHRvdGFsQ2h1bmtzKTsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoMzIpOwogICAgICAgICAgICBjb25zdCBjaHVua1NpemU6IHUzMiA9IHJlbWFpbmluZyA8IDMyID8gcmVtYWluaW5nIDogMzI7CgogICAgICAgICAgICBmb3IgKGxldCBqOiB1MzIgPSAwOyBqIDwgY2h1bmtTaXplOyBqKyspIHsKICAgICAgICAgICAgICAgIGNodW5rW2pdID0gdmFsdWVbb2Zmc2V0ICsgal07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIG9mZnNldCArPSBjaHVua1NpemU7CiAgICAgICAgICAgIHJlbWFpbmluZyAtPSBjaHVua1NpemU7CgogICAgICAgICAgICAvLyBjb21wdXRlIHBvaW50ZXIgKyBpIGluIGJpZy1lbmRpYW4KICAgICAgICAgICAgY29uc3QgY2h1bmtQb2ludGVyID0gYmlnRW5kaWFuQWRkKHBvaW50ZXJCeXRlcywgaSk7CiAgICAgICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KGNodW5rUG9pbnRlciwgY2h1bmspOwogICAgICAgIH0KCiAgICAgICAgLy8gNCkgUmV0dXJuIHRoZSBwb2ludGVyIGFzIHRoZSAiZW5jb2RlZCIgZGF0YSAoMzIgYnl0ZXMpLgogICAgICAgIHJldHVybiBwb2ludGVyQnl0ZXM7CiAgICB9CgogICAgcHVibGljIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXkpOiBVaW50OEFycmF5IHsKICAgICAgICAvLyBJZiBidWZmZXIgaXMgMCBvciBhbGwgemVybyA9PiBtZWFucyBubyBkYXRhCiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT0gMCB8fCBpc0FsbFplcm8oYnVmZmVyKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwb2ludGVyID0gYnVmZmVyOyAvLyB0aGUgcG9pbnRlciAoMzIgYnl0ZXMpCgogICAgICAgIC8vIGNodW5rMAogICAgICAgIGNvbnN0IGNodW5rMCA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHBvaW50ZXIpOwogICAgICAgIGlmIChjaHVuazAubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgLy8gTm8gZGF0YSBzdG9yZWQgPT4gZW1wdHkKICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDMyKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlYWQgbGVuZ3RoIGZyb20gZmlyc3QgNCBieXRlcwogICAgICAgIGNvbnN0IGIwID0gPHUzMj5jaHVuazBbMF07CiAgICAgICAgY29uc3QgYjEgPSA8dTMyPmNodW5rMFsxXTsKICAgICAgICBjb25zdCBiMiA9IDx1MzI+Y2h1bmswWzJdOwogICAgICAgIGNvbnN0IGIzID0gPHUzMj5jaHVuazBbM107CiAgICAgICAgY29uc3QgbGVuZ3RoID0gKGIwIDw8IDI0KSB8IChiMSA8PCAxNikgfCAoYjIgPDwgOCkgfCBiMzsKCiAgICAgICAgaWYgKGxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTsKICAgICAgICB9CgogICAgICAgIC8vIHJlYWQgdGhlIGRhdGEKICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOwogICAgICAgIGNvbnN0IGZpcnN0Q2h1bmtMZW4gPSBsZW5ndGggPCAyOCA/IGxlbmd0aCA6IDI4OwoKICAgICAgICAvLyBjb3B5IGZyb20gY2h1bmswCiAgICAgICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IGZpcnN0Q2h1bmtMZW47IGkrKykgewogICAgICAgICAgICBvdXRbaV0gPSBjaHVuazBbNCArIGldOwogICAgICAgIH0KCiAgICAgICAgbGV0IG9mZnNldCA9IGZpcnN0Q2h1bmtMZW47CiAgICAgICAgbGV0IHJlbWFpbmluZyA9IGxlbmd0aCAtIGZpcnN0Q2h1bmtMZW47CgogICAgICAgIC8vIHJlYWQgc3Vic2VxdWVudCBjaHVua3MKICAgICAgICBsZXQgY2h1bmtJbmRleDogdTY0ID0gMTsKICAgICAgICB3aGlsZSAocmVtYWluaW5nID4gMCkgewogICAgICAgICAgICBjb25zdCBjaHVua1BvaW50ZXIgPSBiaWdFbmRpYW5BZGQocG9pbnRlciwgY2h1bmtJbmRleCk7CiAgICAgICAgICAgIGNvbnN0IGNodW5rRGF0YSA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KGNodW5rUG9pbnRlcik7CiAgICAgICAgICAgIGNvbnN0IGNodW5rU2l6ZTogdTMyID0gcmVtYWluaW5nIDwgMzIgPyByZW1haW5pbmcgOiAzMjsKCiAgICAgICAgICAgIGZvciAobGV0IGo6IHUzMiA9IDA7IGogPCBjaHVua1NpemU7IGorKykgewogICAgICAgICAgICAgICAgb3V0W29mZnNldCArIGpdID0gY2h1bmtEYXRhW2pdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBvZmZzZXQgKz0gY2h1bmtTaXplOwogICAgICAgICAgICByZW1haW5pbmcgLT0gY2h1bmtTaXplOwogICAgICAgICAgICBjaHVua0luZGV4Kys7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb3V0OwogICAgfQp9CgpmdW5jdGlvbiBpc0FsbFplcm8oYXJyOiBVaW50OEFycmF5KTogYm9vbCB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcnJbaV0gIT0gMCkgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCmV4cG9ydCBjb25zdCBpZE9mVmFyaWFibGVCeXRlcyA9IGlkb2Y8SVZhcmlhYmxlQnl0ZXNDb2RlYz4oKTsKZXhwb3J0IGNvbnN0IFZhcmlhYmxlQnl0ZXNDb2RlYyA9IG5ldyBJVmFyaWFibGVCeXRlc0NvZGVjKCk7",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/interfaces/ICodec.ts": "ZXhwb3J0IGludGVyZmFjZSBJQ29kZWM8VD4gewogICAgLyoqCiAgICAgKiBFbmNvZGUgaW4tbWVtb3J5IGB2YWx1ZWAgaW50byBhIGJ1ZmZlciB0aGF0IHdpbGwgYmUgc3RvcmVkIGluIGJsb2NrY2hhaW4gc3RvcmFnZS4KICAgICAqIFBvc3NpYmx5IGEgc2luZ2xlIDMyLWJ5dGUgY2h1bmsgb3IgYSBwb2ludGVyIGlmIG1vcmUgaXMgbmVlZGVkLgogICAgICovCiAgICBlbmNvZGUodmFsdWU6IFQpOiBVaW50OEFycmF5OwoKICAgIC8qKgogICAgICogRGVjb2RlIGEgYnVmZmVyIGZyb20gc3RvcmFnZSBpbnRvIGFuIGluLW1lbW9yeSBgVGAuCiAgICAgKi8KICAgIGRlY29kZShidWZmZXI6IFVpbnQ4QXJyYXkpOiBUOwp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/PointerManager.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IFBvdGVudGlhbCB9IGZyb20gJy4uL2xhbmcvRGVmaW5pdGlvbnMnOwppbXBvcnQgeyBiaWdFbmRpYW5BZGQgfSBmcm9tICcuLi9tYXRoL2J5dGVzJzsKaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnLi4vcGx1Z2lucy9QbHVnaW4nOwoKLyoqCiAqIEEgdW5pcXVlIGtleSBpbiBzdG9yYWdlIHRoYXQgaG9sZHMgdGhlIG5leHQgZnJlZSAib2Zmc2V0IiBhcyBhIDI1Ni1iaXQgY291bnRlci4KICogWW91IGNhbiBjaGFuZ2UgdGhpcyB0byBhbnkgMzItYnl0ZSBjb25zdGFudCB5b3UgbGlrZS4KICovCmNvbnN0IEFMTE9DQVRPUl9LRVkgPSBuZXcgVWludDhBcnJheSgzMik7CmZvciAobGV0IGkgPSAwOyBpIDwgMzI7IGkrKykgewogICAgQUxMT0NBVE9SX0tFWVtpXSA9IDB4ZmY7Cn0KCi8qKgogKiBQb2ludGVyTWFuYWdlcjogZW5zdXJlcyB3ZSBuZXZlciBjb2xsaWRlIHdoaWxlIGFsbG9jYXRpbmcgdmFyaWFibGUtbGVuZ3RoIGRhdGEuCiAqIC0gV2Ugc3RvcmUgYSBnbG9iYWwgIm9mZnNldCIgaW4gQUxMT0NBVE9SX0tFWSAoYXMgYSBiaWctZW5kaWFuIHUyNTYpLgogKiAtIEVhY2ggdGltZSB3ZSBhbGxvY2F0ZSBOIHNsb3RzIChOICogMzIgYnl0ZXMpLCB3ZSBkbzoKICogICAgICBvbGRPZmZzZXQgPSBjdXJyZW50R2xvYmFsT2Zmc2V0CiAqICAgICAgbmV3T2Zmc2V0ID0gb2xkT2Zmc2V0ICsgTgogKiAgICAgIHN0b3JlIG5ld09mZnNldCBiYWNrCiAqICAgICAgcmV0dXJuIG9sZE9mZnNldCBhcyB0aGUgYmFzZSBwb2ludGVyCiAqLwpjbGFzcyBfUG9pbnRlck1hbmFnZXIgZXh0ZW5kcyBQbHVnaW4gewogICAgcHJpdmF0ZSBfY2FjaGVkT2Zmc2V0OiBQb3RlbnRpYWw8VWludDhBcnJheT4gPSBudWxsOwoKICAgIHByaXZhdGUgZ2V0IGNhY2hlZE9mZnNldCgpOiBVaW50OEFycmF5IHsKICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZE9mZnNldCkgewogICAgICAgICAgICB0aGlzLl9jYWNoZWRPZmZzZXQgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdChBTExPQ0FUT1JfS0VZKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRPZmZzZXQgYXMgVWludDhBcnJheTsKICAgIH0KCiAgICAvKioKICAgICAqIEFsbG9jYXRlcyBgbnVtU2xvdHNgIChlYWNoIDMyIGJ5dGVzKS4gUmV0dXJucyBhIDMyLWJ5dGUgcG9pbnRlciAodTI1NiBpbiBiaWctZW5kaWFuKS4KICAgICAqCiAgICAgKiBFYWNoIHNsb3QgaXMgY29uY2VwdHVhbGx5OgogICAgICogICBzbG90MCA9IHBvaW50ZXIgKyAwCiAgICAgKiAgIHNsb3QxID0gcG9pbnRlciArIDEKICAgICAqICAgLi4uCiAgICAgKiBhbmQgc28gZm9ydGggaW4gYmlnLWVuZGlhbiBhcml0aG1ldGljLgogICAgICovCiAgICBwdWJsaWMgYWxsb2NhdGVTbG90cyhudW1TbG90czogdTY0KTogVWludDhBcnJheSB7CiAgICAgICAgdGhpcy5fY2FjaGVkT2Zmc2V0ID0gYmlnRW5kaWFuQWRkKHRoaXMuY2FjaGVkT2Zmc2V0LCBudW1TbG90cyk7CgogICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuY2FjaGVkT2Zmc2V0OwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KEFMTE9DQVRPUl9LRVksIHZhbCk7CgogICAgICAgIHJldHVybiB2YWw7CiAgICB9Cn0KCmV4cG9ydCBjb25zdCBQb2ludGVyTWFuYWdlciA9IG5ldyBfUG9pbnRlck1hbmFnZXIoKTsKQmxvY2tjaGFpbi5yZWdpc3RlclBsdWdpbihQb2ludGVyTWFuYWdlcik7",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/storage/StorageMap.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uLy4uL2Vudic7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQnl0ZXNSZWFkZXIgfSBmcm9tICcuLi8uLi9idWZmZXIvQnl0ZXNSZWFkZXInOwppbXBvcnQgeyBlbmNvZGVQb2ludGVyVW5rbm93bkxlbmd0aCB9IGZyb20gJy4uLy4uL21hdGgvYWJpJzsKCmltcG9ydCB7IGkxMjgsIHUxMjgsIHUyNTYgfSBmcm9tICdAYnRjLXZpc2lvbi9hcy1iaWdudW0vYXNzZW1ibHknOwppbXBvcnQgeyBpZE9mQWRkcmVzcywgaWRPZkkxMjgsIGlkT2ZTdHJpbmcsIGlkT2ZVMTI4LCBpZE9mVTI1NiwgaWRPZlVpbnQ4QXJyYXkgfSBmcm9tICcuLi9jb2RlY3MvSWRzJzsKCmltcG9ydCB7IEFkZHJlc3NDb2RlYyB9IGZyb20gJy4uL2NvZGVjcy9BZGRyZXNzQ29kZWMnOwppbXBvcnQgeyBCb29sZWFuQ29kZWMgfSBmcm9tICcuLi9jb2RlY3MvQm9vbGVhbkNvZGVjJzsKaW1wb3J0IHsgU3RyaW5nQ29kZWMgfSBmcm9tICcuLi9jb2RlY3MvU3RyaW5nQ29kZWMnOwppbXBvcnQgeyBWYXJpYWJsZUJ5dGVzQ29kZWMgfSBmcm9tICcuLi9jb2RlY3MvVmFyaWFibGVCeXRlc0NvZGVjJzsKaW1wb3J0IHsgVTI1NkNvZGVjIH0gZnJvbSAnLi4vY29kZWNzL1UyNTZDb2RlYyc7CgppbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnLi4vLi4vdHlwZXMvQWRkcmVzcyc7CmltcG9ydCB7IFJldmVydCB9IGZyb20gJy4uLy4uL3R5cGVzL1JldmVydCc7CgovKioKICogQSByZWZsZWN0aW9uLWJhc2VkIFN0b3JhZ2VNYXA8SywgVj4uCiAqICAtIGBwb2ludGVyYCA9PiBhIHUxNiAibmFtZXNwYWNlIgogKiAgLSBgc2V0KGtleSwgdmFsdWUpYCA9PiBzdG9yZSBieXRlcwogKiAgLSBgZ2V0KGtleSlgID0+IGRlY29kZSBieXRlcwogKgogKiBUaGlzIHZlcnNpb24gdXNlcyBhIGNoYWluIG9mIGBpZi9lbHNlYCBmb3IgZWFjaCBwb3NzaWJsZSB0eXBlIFQsCiAqIHNvIHRoZSBjb21waWxlciBkb2Vzbid0IGNvbXBsYWluIGFib3V0IG1pc21hdGNoZWQgcmV0dXJucy4KICovCkBmaW5hbApleHBvcnQgY2xhc3MgU3RvcmFnZU1hcDxLLCBWPiB7CiAgICBwcml2YXRlIHJlYWRvbmx5IHBvaW50ZXI6IHUxNjsKCiAgICBjb25zdHJ1Y3Rvcihwb2ludGVyOiB1MTYpIHsKICAgICAgICB0aGlzLnBvaW50ZXIgPSBwb2ludGVyOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFBVQkxJQyBBUEkKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBwdWJsaWMgc2V0KGtleTogSywgdmFsdWU6IFYpOiB0aGlzIHsKICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gdGhpcy5nZXRTdG9yYWdlS2V5KGtleSk7CiAgICAgICAgdGhpcy5zdG9yZVZhbHVlPFY+KHN0b3JhZ2VLZXksIHZhbHVlKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBwdWJsaWMgZ2V0KGtleTogSyk6IFYgewogICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSB0aGlzLmdldFN0b3JhZ2VLZXkoa2V5KTsKICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVWYWx1ZTxWPihzdG9yYWdlS2V5KTsKICAgIH0KCiAgICBwdWJsaWMgaGFzKGtleTogSyk6IGJvb2wgewogICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSB0aGlzLmdldFN0b3JhZ2VLZXkoa2V5KTsKICAgICAgICByZXR1cm4gQmxvY2tjaGFpbi5oYXNTdG9yYWdlQXQoc3RvcmFnZUtleSk7CiAgICB9CgogICAgQHVuc2FmZQogICAgcHVibGljIGRlbGV0ZShrZXk6IEspOiBib29sIHsKICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gdGhpcy5nZXRTdG9yYWdlS2V5KGtleSk7CiAgICAgICAgaWYgKCFCbG9ja2NoYWluLmhhc1N0b3JhZ2VBdChzdG9yYWdlS2V5KSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdChzdG9yYWdlS2V5LCBuZXcgVWludDhBcnJheSgwKSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgQHVuc2FmZQogICAgcHVibGljIGNsZWFyKCk6IHZvaWQgewogICAgICAgIC8vIE5vdCBpbXBsZW1lbnRlZDogd2UnZCBuZWVkIGtleS10cmFja2luZyB0byByZW1vdmUgdGhlbSBhbGwKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyKCkgbm90IGltcGxlbWVudGVkOyBubyBrZXktdHJhY2tpbmcgbG9naWMgaGVyZS4nKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBJTlRFUk5BTDogRGVyaXZlIHRoZSBmaW5hbCBzdG9yYWdlIGtleQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIHByaXZhdGUgZ2V0U3RvcmFnZUtleShrOiBLKTogVWludDhBcnJheSB7CiAgICAgICAgLy8gMSkgZW5jb2RlIHRoZSBrZXkKICAgICAgICBjb25zdCBrZXlCeXRlcyA9IHRoaXMuZW5jb2RlVmFsdWU8Sz4oayk7CgogICAgICAgIC8vIDIpIHRyYW5zZm9ybSB3aXRoIHBvaW50ZXIKICAgICAgICByZXR1cm4gZW5jb2RlUG9pbnRlclVua25vd25MZW5ndGgodGhpcy5wb2ludGVyLCBrZXlCeXRlcyk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gRU5DT0RFIC8gREVDT0RFCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLyoqCiAgICAgKiBSZXRyaWV2ZSB0aGUgdmFsdWUgb2YgdHlwZSBQIGZyb20gdGhlIGdpdmVuIHN0b3JhZ2UgcG9pbnRlciAoMzIgYnl0ZXMpLgogICAgICogSWYgaXQncyBhIHZhcmlhYmxlLWxlbmd0aCB0eXBlLCB3ZSBkZWNvZGUgZnJvbSBwb2ludGVyLWJhc2VkIGFwcHJvYWNoCiAgICAgKiAobGlrZSBWYXJpYWJsZUJ5dGVzQ29kZWMgb3IgU3RyaW5nQ29kZWMpLgogICAgICogT3RoZXJ3aXNlLCB3ZSBnZXQgdGhlIHJhdyBmcm9tIHN0b3JhZ2UgYW5kIGRlY29kZS4KICAgICAqLwogICAgcHJpdmF0ZSBkZWNvZGVWYWx1ZTxQPihwb2ludGVyOiBVaW50OEFycmF5KTogUCB7CiAgICAgICAgLy8gRm9yIHNvbWUgdHlwZXMgbGlrZSBgVWludDhBcnJheWAgb3IgYHN0cmluZ2AsIHdlIG1pZ2h0IHdhbnQKICAgICAgICAvLyB0byB0cmVhdCB0aGUgcG9pbnRlciBhcyBhbiBhbGxvY2F0ZWQgInZhcmlhYmxlIiBsb2NhdGlvbi4KICAgICAgICBjb25zdCB0eXBlSWQgPSBpZG9mPFA+KCk7CgogICAgICAgIC8vIEZvciB2YXJpYWJsZS1sZW5ndGggdGhpbmdzOgogICAgICAgIGlmICh0eXBlSWQgPT0gaWRPZlVpbnQ4QXJyYXkpIHsKICAgICAgICAgICAgLy8gZGVjb2RlIHZhcmlhYmxlIGJ5dGVzIGZyb20gcG9pbnRlcgogICAgICAgICAgICBjb25zdCBhcnIgPSBWYXJpYWJsZUJ5dGVzQ29kZWMuZGVjb2RlKHBvaW50ZXIpOwogICAgICAgICAgICByZXR1cm4gY2hhbmdldHlwZTxQPihhcnIpOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZUlkID09IGlkT2ZTdHJpbmcpIHsKICAgICAgICAgICAgY29uc3Qgc3RyID0gU3RyaW5nQ29kZWMuZGVjb2RlKHBvaW50ZXIpOwogICAgICAgICAgICByZXR1cm4gY2hhbmdldHlwZTxQPihzdHIpOwogICAgICAgIH0KCiAgICAgICAgLy8gRm9yIGV2ZXJ5dGhpbmcgZWxzZSwgd2UgcmVhZCByYXcgZnJvbSBzdG9yYWdlCiAgICAgICAgY29uc3QgcmF3ID0gQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQocG9pbnRlcik7CgogICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJ5dGVzQXNUeXBlPFA+KHJhdyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBTdG9yZSBhIHZhbHVlIG9mIHR5cGUgUCBhdCB0aGUgZ2l2ZW4gc3RvcmFnZSBrZXkuCiAgICAgKiAtIFNvbWUgdHlwZXMgKHVpbnQ4YXJyYXksIHN0cmluZykgLT4gY2h1bmtlZCAocG9pbnRlci1iYXNlZCkuCiAgICAgKiAtIE90aGVycyAtPiBkaXJlY3QgYnl0ZXMgaW4gdGhhdCBzbG90LgogICAgICovCiAgICBwcml2YXRlIHN0b3JlVmFsdWU8UD4oc3RvcmFnZUtleTogVWludDhBcnJheSwgdmFsdWU6IFApOiB2b2lkIHsKICAgICAgICBjb25zdCByYXcgPSB0aGlzLmVuY29kZVZhbHVlPFA+KHZhbHVlKTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdChzdG9yYWdlS2V5LCByYXcpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIGRlY29kZUJ5dGVzQXNUeXBlOiBpbnRlcnByZXQgcmF3IGJ5dGVzIGFzIHR5cGUgUAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIHByaXZhdGUgZGVjb2RlQnl0ZXNBc1R5cGU8UD4ocmF3OiBVaW50OEFycmF5KTogUCB7CiAgICAgICAgLy8gaXNJbnRlZ2VyID0+IGJ1aWx0LWluIG51bWVyaWMgdHlwZXMgKGkzMiwgdTMyLCBldGMuKQogICAgICAgIGlmIChpc0ludGVnZXI8UD4oKSkgewogICAgICAgICAgICBpZiAocmF3Lmxlbmd0aCA8IDxpMzI+c2l6ZW9mPFA+KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFA+KDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgQnl0ZXNSZWFkZXIocmF3KTsKICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkPFA+KCk7CiAgICAgICAgfQoKICAgICAgICAvLyBpc0Jvb2xlYW4gPT4gZGVjb2RlIHdpdGggQm9vbGVhbkNvZGVjCiAgICAgICAgaWYgKGlzQm9vbGVhbjxQPigpKSB7CiAgICAgICAgICAgIGNvbnN0IGJvb2xWYWwgPSBCb29sZWFuQ29kZWMuZGVjb2RlKHJhdyk7CiAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFA+KGJvb2xWYWwpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdHlwZUlkID0gaWRvZjxQPigpOwoKICAgICAgICAvLyB1MjU2CiAgICAgICAgaWYgKHR5cGVJZCA9PSBpZE9mVTI1NikgewogICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gVTI1NkNvZGVjLmRlY29kZShyYXcpOwogICAgICAgICAgICByZXR1cm4gY2hhbmdldHlwZTxQPihkZWNvZGVkKTsKICAgICAgICB9CgogICAgICAgIC8vIGkxMjgKICAgICAgICBpZiAodHlwZUlkID09IGlkT2ZJMTI4KSB7CiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGkxMjguZnJvbVVpbnQ4QXJyYXlCRShyYXcpOwogICAgICAgICAgICByZXR1cm4gY2hhbmdldHlwZTxQPih2YWwpOwogICAgICAgIH0KCiAgICAgICAgLy8gdTEyOAogICAgICAgIGlmICh0eXBlSWQgPT0gaWRPZlUxMjgpIHsKICAgICAgICAgICAgY29uc3QgdmFsID0gdTEyOC5mcm9tVWludDhBcnJheUJFKHJhdyk7CiAgICAgICAgICAgIHJldHVybiBjaGFuZ2V0eXBlPFA+KHZhbCk7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGRyZXNzCiAgICAgICAgaWYgKHR5cGVJZCA9PSBpZE9mQWRkcmVzcykgewogICAgICAgICAgICBjb25zdCBhZGRyID0gQWRkcmVzc0NvZGVjLmRlY29kZShyYXcpOwogICAgICAgICAgICByZXR1cm4gY2hhbmdldHlwZTxQPihhZGRyKTsKICAgICAgICB9CgogICAgICAgIHRocm93IG5ldyBSZXZlcnQoYFVuc3VwcG9ydGVkIHR5cGUgJHt0eXBlSWR9YCk7CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gZW5jb2RlVmFsdWU8UD46IGNvbnZlcnQgYSB2YWx1ZSBvZiB0eXBlIFAgaW50byByYXcgYnl0ZXMKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBwcml2YXRlIGVuY29kZVZhbHVlPFA+KHZhbHVlOiBQKTogVWludDhBcnJheSB7CiAgICAgICAgLy8gYnVpbHQtaW4gaW50ZWdlciA9PiB3cml0ZSB3aXRoIEJ5dGVzV3JpdGVyCiAgICAgICAgaWYgKGlzSW50ZWdlcjxQPigpKSB7CiAgICAgICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBCeXRlc1dyaXRlcihzaXplb2Y8UD4oKSk7CiAgICAgICAgICAgIHdyaXRlci53cml0ZTxQPih2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiB3cml0ZXIuZ2V0QnVmZmVyKCk7CiAgICAgICAgfQoKICAgICAgICAvLyBib29sID0+IEJvb2xlYW5Db2RlYwogICAgICAgIGlmIChpc0Jvb2xlYW48UD4oKSkgewogICAgICAgICAgICByZXR1cm4gQm9vbGVhbkNvZGVjLmVuY29kZShjaGFuZ2V0eXBlPGJvb2w+KHZhbHVlKSk7CiAgICAgICAgfQoKICAgICAgICAvLyBDaGVjayByZWZsZWN0aW9uIGZvciBiaWdnZXIgdHlwZXMKICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7CiAgICAgICAgICAgIHJldHVybiBWYXJpYWJsZUJ5dGVzQ29kZWMuZW5jb2RlKHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChpc1N0cmluZzxQPigpKSB7CiAgICAgICAgICAgIGNvbnN0IHN0clZhbCA9IGNoYW5nZXR5cGU8c3RyaW5nPih2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiBTdHJpbmdDb2RlYy5lbmNvZGUoc3RyVmFsKTsKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHUyNTYpIHsKICAgICAgICAgICAgcmV0dXJuIFUyNTZDb2RlYy5lbmNvZGUoY2hhbmdldHlwZTx1MjU2Pih2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdTEyOCkgewogICAgICAgICAgICAvLyBzdG9yZSBiaWctZW5kaWFuCiAgICAgICAgICAgIGNvbnN0IHV2YWwgPSBjaGFuZ2V0eXBlPHUxMjg+KHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHV2YWwudG9VaW50OEFycmF5KHRydWUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgaTEyOCkgewogICAgICAgICAgICBjb25zdCBpdmFsID0gY2hhbmdldHlwZTxpMTI4Pih2YWx1ZSk7CiAgICAgICAgICAgIHJldHVybiBpdmFsLnRvVWludDhBcnJheSh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFkZHJlc3MpIHsKICAgICAgICAgICAgcmV0dXJuIEFkZHJlc3NDb2RlYy5lbmNvZGUoY2hhbmdldHlwZTxBZGRyZXNzPih2YWx1ZSkpOwogICAgICAgIH0KCiAgICAgICAgLy8gSWYgbmVzdGVkIG1hcCA9PiBoYW5kbGUgaW4gYSBjdXN0b20gYnJhbmNoIChub3Qgc2hvd24gaGVyZSk6CiAgICAgICAgLy8gaWYgKHZhbHVlIGluc3RhbmNlb2YgU3RvcmFnZU1hcDwuLi4+KSB7IC4uLiB9CgogICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ2VuY29kZVZhbHVlOiBVbnN1cHBvcnRlZCB0eXBlJyk7CiAgICB9Cn0=",
  "node_modules/@btc-vision/btc-runtime/runtime/nested/storage/StorageSet.ts": "aW1wb3J0IHsgSUNvZGVjIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ29kZWMnOwppbXBvcnQgeyBCeXRlc1dyaXRlciB9IGZyb20gJy4uLy4uL2J1ZmZlci9CeXRlc1dyaXRlcic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoIH0gZnJvbSAnLi4vLi4vbWF0aC9hYmknOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vLi4vZW52JzsKCgpleHBvcnQgY2xhc3MgU3RvcmFnZVNldDxUPiB7CiAgICBwcml2YXRlIHJlYWRvbmx5IHBvaW50ZXI6IHUxNjsKICAgIHByaXZhdGUgcmVhZG9ubHkgcGFyZW50S2V5OiBVaW50OEFycmF5OwoKICAgIHByaXZhdGUgZWxlbWVudENvZGVjOiBJQ29kZWM8VD47CgogICAgY29uc3RydWN0b3IocG9pbnRlcjogdTE2LCBwYXJlbnRLZXk6IFVpbnQ4QXJyYXksIGVsZW1lbnRDb2RlYzogSUNvZGVjPFQ+KSB7CiAgICAgICAgdGhpcy5wb2ludGVyID0gcG9pbnRlcjsKICAgICAgICB0aGlzLnBhcmVudEtleSA9IHBhcmVudEtleTsKICAgICAgICB0aGlzLmVsZW1lbnRDb2RlYyA9IGVsZW1lbnRDb2RlYzsKICAgIH0KCiAgICBwdWJsaWMgYWRkKHZhbHVlOiBUKTogdm9pZCB7CiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IHRoaXMuZ2V0U3RvcmFnZUtleSh2YWx1ZSk7CgogICAgICAgIC8vIEEgMS1ieXRlIGFycmF5IHdpdGggYSBzaW5nbGUgMHgwMSBpcyBlbm91Z2ggdG8gbWFyayBwcmVzZW5jZQogICAgICAgIGNvbnN0IGZsYWcgPSBuZXcgVWludDhBcnJheSgxKTsKICAgICAgICBmbGFnWzMxXSA9IDE7CgogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHN0b3JhZ2VLZXksIGZsYWcpOwogICAgfQoKICAgIHB1YmxpYyBoYXModmFsdWU6IFQpOiBib29sIHsKICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gdGhpcy5nZXRTdG9yYWdlS2V5KHZhbHVlKTsKICAgICAgICByZXR1cm4gQmxvY2tjaGFpbi5oYXNTdG9yYWdlQXQoc3RvcmFnZUtleSk7CiAgICB9CgogICAgcHVibGljIGRlbGV0ZSh2YWx1ZTogVCk6IGJvb2wgewogICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSB0aGlzLmdldFN0b3JhZ2VLZXkodmFsdWUpOwogICAgICAgIGlmICghQmxvY2tjaGFpbi5oYXNTdG9yYWdlQXQoc3RvcmFnZUtleSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQoc3RvcmFnZUtleSwgbmV3IFVpbnQ4QXJyYXkoMzIpKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBAdW5zYWZlCiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhcigpIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgIH0KCiAgICBwcml2YXRlIGdldFN0b3JhZ2VLZXkodmFsdWU6IFQpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBlbmNvZGVkID0gdGhpcy5lbGVtZW50Q29kZWMuZW5jb2RlKHZhbHVlKTsKICAgICAgICBjb25zdCB3cml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIodGhpcy5wYXJlbnRLZXkubGVuZ3RoICsgZW5jb2RlZC5sZW5ndGgpOwogICAgICAgIHdyaXRlci53cml0ZUJ5dGVzKHRoaXMucGFyZW50S2V5KTsKICAgICAgICB3cml0ZXIud3JpdGVCeXRlcyhlbmNvZGVkKTsKCiAgICAgICAgcmV0dXJuIGVuY29kZVBvaW50ZXJVbmtub3duTGVuZ3RoKHRoaXMucG9pbnRlciwgd3JpdGVyLmdldEJ1ZmZlcigpKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/plugins/Plugin.ts": "aW1wb3J0IHsgQ2FsbGRhdGEgfSBmcm9tICcuLi90eXBlcyc7CgpleHBvcnQgY2xhc3MgUGx1Z2luIHsKICAgIHB1YmxpYyBvbkRlcGxveW1lbnQoX2NhbGxkYXRhOiBDYWxsZGF0YSk6IHZvaWQgewogICAgfQoKICAgIHB1YmxpYyBvbkV4ZWN1dGlvblN0YXJ0ZWQoKTogdm9pZCB7CiAgICB9CgogICAgcHVibGljIG9uRXhlY3V0aW9uQ29tcGxldGVkKCk6IHZvaWQgewogICAgfQp9",
  "node_modules/@btc-vision/btc-runtime/runtime/secp256k1/ECPoint.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IFNhZmVNYXRoIH0gZnJvbSAnLi4vdHlwZXMvU2FmZU1hdGgnOwoKLy8gc2VjcDI1NmsxIHByaW1lIChsaXR0bGUtZW5kaWFuKTogMHhGRkZGRkZGRl9GRkZGRkZGRl9GRkZGRkZGRl9GRkZGRkZGRl9GRkZGRkZGRl9GRkZGRkZGRl9GRkZGRkZGRV9GRkZGRkMyRgpjb25zdCBQX0JZVEVTOiB1OFtdID0gWwogICAgMHgyZiwgMHhmYywgMHhmZiwgMHhmZiwgMHhmZSwgMHhmZiwgMHhmZiwgMHhmZiwKICAgIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYsCiAgICAweGZmLCAweGZmLCAweGZmLCAweGZmLCAweGZmLCAweGZmLCAweGZmLCAweGZmLAogICAgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwgMHhmZiwKXTsKCi8vIEd4IChsaXR0bGUtZW5kaWFuKSA9IDc5QkU2NjdFLi4uRjgxNzk4IHJldmVyc2VkCmNvbnN0IEdYX0JZVEVTOiB1OFtdID0gWwogICAgMHg5OCwgMHgxNywgMHhmOCwgMHgxNiwgMHhiMSwgMHg1YiwgMHgyOCwgMHhkOSwKICAgIDB4NTksIDB4MjgsIDB4Y2UsIDB4MmQsIDB4ZGIsIDB4ZmMsIDB4OWIsIDB4MDIsCiAgICAweDcwLCAweGIwLCAweDg3LCAweGNlLCAweDk1LCAweGEwLCAweDYyLCAweDU1LAogICAgMHhhYywgMHhiYiwgMHhkYywgMHhmOSwgMHhlZiwgMHg2NiwgMHhiZSwgMHg3OSwKXTsKCi8vIEJpZy1lbmRpYW46ICA0OCAzQSBEQSA3NyAyNiBBMyBDNCA2NSA1RCBBNCBGQiBGQyAwRSAxMSAwOCBBOCBGRCAxNyBCNCA0OCBBNiA4NSA1NCAxOSA5QyA0NyBEMCA4RiBGQiAxMCBENCBCOAovLyBMaXR0bGUtZW5kaWFuIHJldmVyc2FsOgpjb25zdCBHWV9CWVRFUzogdThbXSA9IFsKICAgIDB4YjgsIDB4ZDQsIDB4MTAsIDB4ZmIsIDB4OGYsIDB4ZDAsIDB4NDcsIDB4OWMsCiAgICAweDE5LCAweDU0LCAweDg1LCAweGE2LCAweDQ4LCAweGI0LCAweDE3LCAweGZkLAogICAgMHhhOCwgMHgwOCwgMHgxMSwgMHgwZSwgMHhmYywgMHhmYiwgMHhhNCwgMHg1ZCwKICAgIDB4NjUsIDB4YzQsIDB4YTMsIDB4MjYsIDB4NzcsIDB4ZGEsIDB4M2EsIDB4NDgsCl07CgpleHBvcnQgY29uc3QgUCA9IHUyNTYuZnJvbUJ5dGVzTEUoUF9CWVRFUyk7CmV4cG9ydCBjb25zdCBHWCA9IHUyNTYuZnJvbUJ5dGVzTEUoR1hfQllURVMpOwpleHBvcnQgY29uc3QgR1kgPSB1MjU2LmZyb21CeXRlc0xFKEdZX0JZVEVTKTsKCi8vIFJlcHJlc2VudGluZyBhIHBvaW50ICh4LCB5KSBvbiBzZWNwMjU2azEKZXhwb3J0IGNsYXNzIEVDUG9pbnQgewogICAgeDogdTI1NjsKICAgIHk6IHUyNTY7CgogICAgY29uc3RydWN0b3IoeDogdTI1NiwgeTogdTI1NikgewogICAgICAgIHRoaXMueCA9IHg7CiAgICAgICAgdGhpcy55ID0geTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBQb2ludCBEb3VibGluZzogMlAgPSBQICsgUAogICAgLy8gKGZvciB5XjIgPSB4XjMgKyA3IHdpdGggYT0wKQogICAgLy8gzrsgPSAoMyp4XjIpIC8gKDIqeSkgbW9kIFAKICAgIC8vIHgzID0gzrteMiAtIDJ4IG1vZCBQCiAgICAvLyB5MyA9IM67Kih4IC0geDMpIC0geSBtb2QgUAogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgc3RhdGljIGRvdWJsZShwOiBFQ1BvaW50KTogRUNQb2ludCB7CiAgICAgICAgLy8gSWYgeT0wLCByZXR1cm4gaW5maW5pdHkKICAgICAgICBpZiAocC55ID09IHUyNTYuWmVybykgewogICAgICAgICAgICByZXR1cm4gbmV3IEVDUG9pbnQodTI1Ni5aZXJvLCB1MjU2Llplcm8pOyAvLyAiUG9pbnQgYXQgaW5maW5pdHkiIGNvbnZlbnRpb24KICAgICAgICB9CgogICAgICAgIGNvbnN0IHR3byA9IHUyNTYuZnJvbVU2NCgyKTsKICAgICAgICBjb25zdCB0aHJlZSA9IHUyNTYuZnJvbVU2NCgzKTsKCiAgICAgICAgLy8gbnVtZXJhdG9yID0gMyp4XjIgbW9kIFAKICAgICAgICBjb25zdCB4U3F1YXJlZCA9IFNhZmVNYXRoLnBvdyhwLngsIHR3byk7CiAgICAgICAgY29uc3QgbnVtZXJhdG9yID0gU2FmZU1hdGgubW9kKFNhZmVNYXRoLm11bCh0aHJlZSwgeFNxdWFyZWQpLCBQKTsKCiAgICAgICAgLy8gZGVub21pbmF0b3IgPSAoMip5KV4tMSBtb2QgUAogICAgICAgIGNvbnN0IHR3b1kgPSBTYWZlTWF0aC5tdWwodHdvLCBwLnkpOwogICAgICAgIGNvbnN0IGRlbm9taW5hdG9ySW52ID0gU2FmZU1hdGgubW9kSW52ZXJzZSh0d29ZLCBQKTsKCiAgICAgICAgLy8gzrsgPSBudW1lcmF0b3IgKiBkZW5vbWluYXRvcl4tMSBtb2QgUAogICAgICAgIGNvbnN0IGxhbWJkYSA9IFNhZmVNYXRoLm1vZChTYWZlTWF0aC5tdWwobnVtZXJhdG9yLCBkZW5vbWluYXRvckludiksIFApOwoKICAgICAgICAvLyB4ciA9IM67XjIgLSAyeCBtb2QgUAogICAgICAgIGNvbnN0IGxhbWJkYVNxdWFyZWQgPSBTYWZlTWF0aC5wb3cobGFtYmRhLCB0d28pOwogICAgICAgIGNvbnN0IHR3b1ggPSBTYWZlTWF0aC5tdWwodHdvLCBwLngpOwogICAgICAgIGNvbnN0IHhyID0gU2FmZU1hdGgubW9kKFNhZmVNYXRoLnN1YihsYW1iZGFTcXVhcmVkLCB0d29YKSwgUCk7CgogICAgICAgIC8vIHlyID0gzrsqKHggLSB4cikgLSB5IG1vZCBQCiAgICAgICAgY29uc3QgeE1pbnVzWHIgPSBTYWZlTWF0aC5zdWIocC54LCB4cik7CiAgICAgICAgY29uc3QgbGFtYmRhVGltZXNYRGlmZiA9IFNhZmVNYXRoLm11bChsYW1iZGEsIHhNaW51c1hyKTsKICAgICAgICBjb25zdCB5ciA9IFNhZmVNYXRoLm1vZChTYWZlTWF0aC5zdWIobGFtYmRhVGltZXNYRGlmZiwgcC55KSwgUCk7CgogICAgICAgIHJldHVybiBuZXcgRUNQb2ludCh4ciwgeXIpOwogICAgfQoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFBvaW50IEFkZGl0aW9uOiBSID0gUCArIFEKICAgIC8vIM67ID0gKHkyIC0geTEpIC8gKHgyIC0geDEpIG1vZCBQCiAgICAvLyB4MyA9IM67XjIgLSB4MSAtIHgyIG1vZCBQCiAgICAvLyB5MyA9IM67Kih4MSAtIHgzKSAtIHkxIG1vZCBQCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBzdGF0aWMgYWRkKHA6IEVDUG9pbnQsIHE6IEVDUG9pbnQpOiBFQ1BvaW50IHsKICAgICAgICAvLyAxKSBDaGVjayBmb3IgaW5maW5pdHkgY2FzZXMKICAgICAgICBjb25zdCBpc1BJbmZpbml0eSA9IHAueC5pc1plcm8oKSAmJiBwLnkuaXNaZXJvKCk7CiAgICAgICAgY29uc3QgaXNRSW5maW5pdHkgPSBxLnguaXNaZXJvKCkgJiYgcS55LmlzWmVybygpOwoKICAgICAgICBpZiAoaXNQSW5maW5pdHkpIHJldHVybiBxOyAvLyDiiJ4gKyBRID0gUQogICAgICAgIGlmIChpc1FJbmZpbml0eSkgcmV0dXJuIHA7IC8vIFAgKyDiiJ4gPSBQCgogICAgICAgIC8vIDIpIENoZWNrIGlmIFAgPT0gUSA9PiBkb3VibGluZwogICAgICAgIGlmIChwLnggPT0gcS54ICYmIHAueSA9PSBxLnkpIHsKICAgICAgICAgICAgcmV0dXJuIEVDUG9pbnQuZG91YmxlKHApOwogICAgICAgIH0KCiAgICAgICAgLy8gMykgQ2hlY2sgaWYgUCA9PSAtUSA9PiByZXR1cm4gaW5maW5pdHkKICAgICAgICAvLyAoeDEgPT0geDIsIGJ1dCB5MSAhPSB5MiA9PiBQICsgUSA9IOKInikKICAgICAgICBpZiAocC54ID09IHEueCAmJiBwLnkgIT0gcS55KSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgRUNQb2ludCh1MjU2Llplcm8sIHUyNTYuWmVybyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBudW1lcmF0b3IgPSBTYWZlTWF0aC5zdWIocS55LCBwLnkpOwogICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gU2FmZU1hdGguc3ViKHEueCwgcC54KTsKICAgICAgICBjb25zdCBkZW5vbWluYXRvckludiA9IFNhZmVNYXRoLm1vZEludmVyc2UoZGVub21pbmF0b3IsIFApOwogICAgICAgIGNvbnN0IGxhbWJkYSA9IFNhZmVNYXRoLm1vZChTYWZlTWF0aC5tdWwobnVtZXJhdG9yLCBkZW5vbWluYXRvckludiksIFApOwoKICAgICAgICAvLyB4MyA9IM67XjIgLSAoeDEgKyB4MikgbW9kIFAKICAgICAgICBjb25zdCBsYW1iZGFTcSA9IFNhZmVNYXRoLnBvdyhsYW1iZGEsIHUyNTYuZnJvbVU2NCgyKSk7CiAgICAgICAgbGV0IHhyID0gU2FmZU1hdGguc3ViKGxhbWJkYVNxLCBTYWZlTWF0aC5hZGQocC54LCBxLngpKTsKICAgICAgICB4ciA9IFNhZmVNYXRoLm1vZCh4ciwgUCk7CgogICAgICAgIC8vIHkzID0gzrsqKHgxIC0geDMpIC0geTEgbW9kIFAKICAgICAgICBjb25zdCB4RGlmZiA9IFNhZmVNYXRoLnN1YihwLngsIHhyKTsKICAgICAgICBsZXQgeXIgPSBTYWZlTWF0aC5tdWwobGFtYmRhLCB4RGlmZik7CiAgICAgICAgeXIgPSBTYWZlTWF0aC5zdWIoeXIsIHAueSk7CiAgICAgICAgeXIgPSBTYWZlTWF0aC5tb2QoeXIsIFApOwoKICAgICAgICByZXR1cm4gbmV3IEVDUG9pbnQoeHIsIHlyKTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBTY2FsYXIgTXVsdGlwbGljYXRpb246IGsqUAogICAgLy8gRG91YmxlLWFuZC1hZGQgYXBwcm9hY2gKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHN0YXRpYyBzY2FsYXJNdWx0aXBseShwOiBFQ1BvaW50LCBrOiB1MjU2KTogRUNQb2ludCB7CiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBFQ1BvaW50KHUyNTYuWmVybywgdTI1Ni5aZXJvKTsgLy8g4oieCiAgICAgICAgbGV0IGFkZGVuZCA9IHA7CiAgICAgICAgY29uc3QgdHdvID0gdTI1Ni5mcm9tVTY0KDIpOwoKICAgICAgICAvLyBXaGlsZSBrICE9IDAKICAgICAgICB3aGlsZSAoIWsuaXNaZXJvKCkpIHsKICAgICAgICAgICAgLy8gSWYgayBpcyBvZGQgPT4gYWRkCiAgICAgICAgICAgIGlmICghU2FmZU1hdGguaXNFdmVuKGspKSB7CiAgICAgICAgICAgICAgICByZXN1bHQgPSBFQ1BvaW50LmFkZChyZXN1bHQsIGFkZGVuZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRG91YmxlIHRoZSBwb2ludAogICAgICAgICAgICBhZGRlbmQgPSBFQ1BvaW50LmRvdWJsZShhZGRlbmQpOwogICAgICAgICAgICAvLyAiRGl2aWRlIiBrIGJ5IDIgPT4gc2hpZnQgcmlnaHQgYnkgMQogICAgICAgICAgICBrID0gU2FmZU1hdGguZGl2KGssIHR3byk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/shared-libraries/OP20Utils.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVNlbGVjdG9yLCBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RILCBTRUxFQ1RPUl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uL3V0aWxzJzsKCmV4cG9ydCBjbGFzcyBPUDIwVXRpbHMgewogICAgcHVibGljIHN0YXRpYyBnZXQgQkFMQU5DRV9PRl9TRUxFQ1RPUigpOiBTZWxlY3RvciB7CiAgICAgICAgcmV0dXJuIGVuY29kZVNlbGVjdG9yKCdiYWxhbmNlT2YoYWRkcmVzcyknKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGJhbGFuY2VPZih0b2tlbjogQWRkcmVzcywgb3duZXI6IEFkZHJlc3MpOiB1MjU2IHsKICAgICAgICBjb25zdCBjYWxsZGF0YTogQnl0ZXNXcml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoU0VMRUNUT1JfQllURV9MRU5HVEggKyBBRERSRVNTX0JZVEVfTEVOR1RIKTsKICAgICAgICBjYWxsZGF0YS53cml0ZVNlbGVjdG9yKE9QMjBVdGlscy5CQUxBTkNFX09GX1NFTEVDVE9SKTsKICAgICAgICBjYWxsZGF0YS53cml0ZUFkZHJlc3Mob3duZXIpOwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IEJsb2NrY2hhaW4uY2FsbCh0b2tlbiwgY2FsbGRhdGEpOwoKICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVhZFUyNTYoKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/shared-libraries/TransferHelper.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVNlbGVjdG9yLCBTZWxlY3RvciB9IGZyb20gJy4uL21hdGgvYWJpJzsKaW1wb3J0IHsgQWRkcmVzcyB9IGZyb20gJy4uL3R5cGVzL0FkZHJlc3MnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgeyBBRERSRVNTX0JZVEVfTEVOR1RILCBTRUxFQ1RPUl9CWVRFX0xFTkdUSCwgVTI1Nl9CWVRFX0xFTkdUSCB9IGZyb20gJy4uL3V0aWxzJzsKCmV4cG9ydCBjb25zdCBUcmFuc2ZlclN0ciA9ICd0cmFuc2ZlcihhZGRyZXNzLHVpbnQyNTYpJzsKZXhwb3J0IGNvbnN0IEFwcHJvdmVTdHIgPSAnYXBwcm92ZShhZGRyZXNzLHVpbnQyNTYpJzsKZXhwb3J0IGNvbnN0IFRyYW5zZmVyRnJvbVN0ciA9ICd0cmFuc2ZlckZyb20oYWRkcmVzcyxhZGRyZXNzLHVpbnQyNTYpJzsKCmV4cG9ydCBjbGFzcyBUcmFuc2ZlckhlbHBlciB7CiAgICBwdWJsaWMgc3RhdGljIGdldCBBUFBST1ZFX1NFTEVDVE9SKCk6IFNlbGVjdG9yIHsKICAgICAgICByZXR1cm4gZW5jb2RlU2VsZWN0b3IoQXBwcm92ZVN0cik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBnZXQgVFJBTlNGRVJfU0VMRUNUT1IoKTogU2VsZWN0b3IgewogICAgICAgIHJldHVybiBlbmNvZGVTZWxlY3RvcihUcmFuc2ZlclN0cik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBnZXQgVFJBTlNGRVJfRlJPTV9TRUxFQ1RPUigpOiBTZWxlY3RvciB7CiAgICAgICAgcmV0dXJuIGVuY29kZVNlbGVjdG9yKFRyYW5zZmVyRnJvbVN0cik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBzYWZlQXBwcm92ZSh0b2tlbjogQWRkcmVzcywgc3BlbmRlcjogQWRkcmVzcywgYW1vdW50OiB1MjU2KTogdm9pZCB7CiAgICAgICAgY29uc3QgY2FsbGRhdGEgPSBuZXcgQnl0ZXNXcml0ZXIoCiAgICAgICAgICAgIFNFTEVDVE9SX0JZVEVfTEVOR1RIICsgQUREUkVTU19CWVRFX0xFTkdUSCArIFUyNTZfQllURV9MRU5HVEgsCiAgICAgICAgKTsKICAgICAgICBjYWxsZGF0YS53cml0ZVNlbGVjdG9yKHRoaXMuQVBQUk9WRV9TRUxFQ1RPUik7CiAgICAgICAgY2FsbGRhdGEud3JpdGVBZGRyZXNzKHNwZW5kZXIpOwogICAgICAgIGNhbGxkYXRhLndyaXRlVTI1NihhbW91bnQpOwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IEJsb2NrY2hhaW4uY2FsbCh0b2tlbiwgY2FsbGRhdGEpOwogICAgICAgIGNvbnN0IGlzT2sgPSByZXNwb25zZS5yZWFkQm9vbGVhbigpOwoKICAgICAgICBpZiAoIWlzT2spIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydChgVHJhbnNmZXJIZWxwZXI6IEFQUFJPVkVfRkFJTEVEYCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgc2FmZVRyYW5zZmVyKHRva2VuOiBBZGRyZXNzLCB0bzogQWRkcmVzcywgYW1vdW50OiB1MjU2KTogdm9pZCB7CiAgICAgICAgY29uc3QgY2FsbGRhdGEgPSBuZXcgQnl0ZXNXcml0ZXIoCiAgICAgICAgICAgIFNFTEVDVE9SX0JZVEVfTEVOR1RIICsgQUREUkVTU19CWVRFX0xFTkdUSCArIFUyNTZfQllURV9MRU5HVEgsCiAgICAgICAgKTsKICAgICAgICBjYWxsZGF0YS53cml0ZVNlbGVjdG9yKHRoaXMuVFJBTlNGRVJfU0VMRUNUT1IpOwogICAgICAgIGNhbGxkYXRhLndyaXRlQWRkcmVzcyh0byk7CiAgICAgICAgY2FsbGRhdGEud3JpdGVVMjU2KGFtb3VudCk7CgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gQmxvY2tjaGFpbi5jYWxsKHRva2VuLCBjYWxsZGF0YSk7CiAgICAgICAgY29uc3QgaXNPayA9IHJlc3BvbnNlLnJlYWRCb29sZWFuKCk7CgogICAgICAgIGlmICghaXNPaykgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBUcmFuc2ZlckhlbHBlcjogVFJBTlNGRVJfRkFJTEVEYCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgc2FmZVRyYW5zZmVyRnJvbSh0b2tlbjogQWRkcmVzcywgZnJvbTogQWRkcmVzcywgdG86IEFkZHJlc3MsIGFtb3VudDogdTI1Nik6IHZvaWQgewogICAgICAgIGNvbnN0IGNhbGxkYXRhID0gbmV3IEJ5dGVzV3JpdGVyKAogICAgICAgICAgICBTRUxFQ1RPUl9CWVRFX0xFTkdUSCArIEFERFJFU1NfQllURV9MRU5HVEggKiAyICsgVTI1Nl9CWVRFX0xFTkdUSCwKICAgICAgICApOwogICAgICAgIGNhbGxkYXRhLndyaXRlU2VsZWN0b3IodGhpcy5UUkFOU0ZFUl9GUk9NX1NFTEVDVE9SKTsKICAgICAgICBjYWxsZGF0YS53cml0ZUFkZHJlc3MoZnJvbSk7CiAgICAgICAgY2FsbGRhdGEud3JpdGVBZGRyZXNzKHRvKTsKICAgICAgICBjYWxsZGF0YS53cml0ZVUyNTYoYW1vdW50KTsKCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBCbG9ja2NoYWluLmNhbGwodG9rZW4sIGNhbGxkYXRhKTsKICAgICAgICBjb25zdCBpc09rID0gcmVzcG9uc2UucmVhZEJvb2xlYW4oKTsKCiAgICAgICAgaWYgKCFpc09rKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYFRyYW5zZmVySGVscGVyOiBUUkFOU0ZFUl9GUk9NX0ZBSUxFRGApOwogICAgICAgIH0KICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredAddressArray.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi8uLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vLi4vZW52JzsKaW1wb3J0IHsKICAgIGFkZFVpbnQ4QXJyYXlzQkUsCiAgICBiaWdFbmRpYW5BZGQsCiAgICBlbmNvZGVCYXNlUG9pbnRlciwKICAgIHJlYWRMZW5ndGhBbmRTdGFydEluZGV4LAogICAgdTY0VG9CRTMyQnl0ZXMsCn0gZnJvbSAnLi4vLi4vbWF0aC9ieXRlcyc7CmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICcuLi8uLi90eXBlcy9BZGRyZXNzJzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vLi4vdHlwZXMvUmV2ZXJ0JzsKCi8qKgogKiBAY2xhc3MgU3RvcmVkQWRkcmVzc0FycmF5CiAqIEBkZXNjcmlwdGlvbiBNYW5hZ2VzIGFuIGFycmF5IG9mIEFkZHJlc3MgdmFsdWVzIGFjcm9zcyBtdWx0aXBsZSBzdG9yYWdlIHNsb3RzLgogKiBFYWNoIHNsb3QgaG9sZHMgb25lIEFkZHJlc3MgKHN0b3JlZCBhcyBhIHJhdyBVaW50OEFycmF5IGluIHN0b3JhZ2UpLgogKi8KQGZpbmFsCmV4cG9ydCBjbGFzcyBTdG9yZWRBZGRyZXNzQXJyYXkgewogICAgcHJpdmF0ZSByZWFkb25seSBiYXNlVTI1NlBvaW50ZXI6IFVpbnQ4QXJyYXk7CiAgICBwcml2YXRlIHJlYWRvbmx5IGxlbmd0aFBvaW50ZXI6IFVpbnQ4QXJyYXk7CgogICAgcHJpdmF0ZSBfdmFsdWVzOiBNYXA8dTY0LCBBZGRyZXNzPiA9IG5ldyBNYXAoKTsgLy8gc2xvdEluZGV4IC0+IEFkZHJlc3MKICAgIHByaXZhdGUgX2lzQ2hhbmdlZDogU2V0PHU2ND4gPSBuZXcgU2V0KCk7IC8vIHRyYWNrIGNoYW5nZWQgc2xvdEluZGV4ZXMKCiAgICBwcml2YXRlIF9sZW5ndGg6IHU2NCA9IDA7CiAgICBwcml2YXRlIF9zdGFydEluZGV4OiB1NjQgPSAwOwogICAgcHJpdmF0ZSBfaXNDaGFuZ2VkTGVuZ3RoOiBib29sID0gZmFsc2U7CiAgICBwcml2YXRlIF9pc0NoYW5nZWRTdGFydEluZGV4OiBib29sID0gZmFsc2U7CgogICAgcHJpdmF0ZSByZWFkb25seSBNQVhfTEVOR1RIOiB1NjQgPSB1NjQodTMyLk1BWF9WQUxVRSAtIDEpOwoKICAgIHByaXZhdGUgcmVhZG9ubHkgZGVmYXVsdFZhbHVlOiBBZGRyZXNzID0gQWRkcmVzcy56ZXJvKCk7CgogICAgLyoqCiAgICAgKiBAY29uc3RydWN0b3IKICAgICAqIEBwYXJhbSB7dTE2fSBwb2ludGVyIC0gVGhlIHByaW1hcnkgcG9pbnRlciBpZGVudGlmaWVyLgogICAgICogQHBhcmFtIHtVaW50OEFycmF5fSBzdWJQb2ludGVyIC0gVGhlIHN1Yi1wb2ludGVyIGZvciBtZW1vcnkgc2xvdCBhZGRyZXNzaW5nLgogICAgICovCiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcG9pbnRlcjogdTE2LCBwdWJsaWMgc3ViUG9pbnRlcjogVWludDhBcnJheSkgewogICAgICAgIGFzc2VydCgKICAgICAgICAgICAgc3ViUG9pbnRlci5sZW5ndGggPD0gMzAsCiAgICAgICAgICAgIGBZb3UgbXVzdCBwYXNzIGEgMzAgYnl0ZXMgc3ViLXBvaW50ZXIuIChBZGRyZXNzQXJyYXksIGdvdCAke3N1YlBvaW50ZXIubGVuZ3RofSlgLAogICAgICAgICk7CgogICAgICAgIGNvbnN0IGJhc2VQb2ludGVyID0gZW5jb2RlQmFzZVBvaW50ZXIocG9pbnRlciwgc3ViUG9pbnRlcik7CiAgICAgICAgdGhpcy5sZW5ndGhQb2ludGVyID0gVWludDhBcnJheS53cmFwKGJhc2VQb2ludGVyLmJ1ZmZlcik7CiAgICAgICAgdGhpcy5iYXNlVTI1NlBvaW50ZXIgPSBiaWdFbmRpYW5BZGQoYmFzZVBvaW50ZXIsIDEpOwoKICAgICAgICBjb25zdCBzdG9yZWRMZW5TdGFydCA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KGJhc2VQb2ludGVyKTsKICAgICAgICBjb25zdCBkYXRhID0gcmVhZExlbmd0aEFuZFN0YXJ0SW5kZXgoc3RvcmVkTGVuU3RhcnQpOwoKICAgICAgICB0aGlzLl9sZW5ndGggPSBkYXRhWzBdOwogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSBkYXRhWzFdOwogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBoYXMoaW5kZXg6IHU2NCk6IGJvb2wgewogICAgICAgIHJldHVybiBpbmRleCA8IHRoaXMuX2xlbmd0aDsKICAgIH0KCiAgICAvKiogR2V0IGFuIGVsZW1lbnQgYnkgaXRzIGdsb2JhbCBpbmRleC4gKi8KICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignW10nKQogICAgcHVibGljIGdldChpbmRleDogdTY0KTogQWRkcmVzcyB7CiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuX2xlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdnZXQ6IGluZGV4IG91dCBvZiByYW5nZSAoYWRkcmVzcyBhcnJheSknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBoeXNpY2FsSW5kZXggPSAodGhpcy5fc3RhcnRJbmRleCArIGluZGV4KSAlIHRoaXMuTUFYX0xFTkdUSDsKICAgICAgICBjb25zdCBzbG90SW5kZXg6IHUzMiA9IDx1MzI+cGh5c2ljYWxJbmRleDsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlcyhzbG90SW5kZXgpOwoKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzLmdldChzbG90SW5kZXgpOwogICAgfQoKICAgIC8qKiBTZXQgYW4gZWxlbWVudCBieSBpdHMgZ2xvYmFsIGluZGV4LiAqLwogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCdbXT0nKQogICAgcHVibGljIHNldChpbmRleDogdTY0LCB2YWx1ZTogQWRkcmVzcyk6IHZvaWQgewogICAgICAgIGlmIChpbmRleCA+PSB0aGlzLl9sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnc2V0OiBpbmRleCBvdXQgb2YgcmFuZ2UgKGFkZHJlc3MgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwaHlzaWNhbEluZGV4ID0gKHRoaXMuX3N0YXJ0SW5kZXggKyBpbmRleCkgJSB0aGlzLk1BWF9MRU5HVEg7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4OiB1MzIgPSA8dTMyPnBoeXNpY2FsSW5kZXg7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZXMoc2xvdEluZGV4KTsKCiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChzbG90SW5kZXgpOwogICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT0gdmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnNldChzbG90SW5kZXgsIHZhbHVlKTsKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmFkZChzbG90SW5kZXgpOwogICAgICAgIH0KICAgIH0KCiAgICAvKiogQXBwZW5kIGFuIGFkZHJlc3MgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgcHVzaCh2YWx1ZTogQWRkcmVzcyk6IHZvaWQgewogICAgICAgIGlmICh0aGlzLl9sZW5ndGggPj0gdGhpcy5NQVhfTEVOR1RIKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ3B1c2g6IGFycmF5IHJlYWNoZWQgbWF4aW11bSBsZW5ndGggKGFkZHJlc3MgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBuZXdMb2dpY2FsSW5kZXg6IHU2NCA9IHRoaXMuX2xlbmd0aDsKICAgICAgICBjb25zdCBwaHlzaWNhbEluZGV4OiB1NjQgPSAodGhpcy5fc3RhcnRJbmRleCArIG5ld0xvZ2ljYWxJbmRleCkgJSB0aGlzLk1BWF9MRU5HVEg7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4OiB1MzIgPSA8dTMyPnBoeXNpY2FsSW5kZXg7CgogICAgICAgIHRoaXMuZW5zdXJlVmFsdWVzKHNsb3RJbmRleCk7CiAgICAgICAgdGhpcy5fdmFsdWVzLnNldChzbG90SW5kZXgsIHZhbHVlKTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CgogICAgICAgIHRoaXMuX2xlbmd0aCArPSAxOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZExlbmd0aCA9IHRydWU7CiAgICB9CgogICAgLyoqIERlbGV0ZSB0aGUgbGFzdCBlbGVtZW50LiAqLwogICAgcHVibGljIGRlbGV0ZUxhc3QoKTogdm9pZCB7CiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdkZWxldGVMYXN0OiBhcnJheSBpcyBlbXB0eSAoYWRkcmVzcyBhcnJheSknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGxhc3RMb2dpY2FsSW5kZXg6IHU2NCA9IHRoaXMuX2xlbmd0aCAtIDE7CiAgICAgICAgY29uc3QgcGh5c2ljYWxJbmRleDogdTY0ID0gKHRoaXMuX3N0YXJ0SW5kZXggKyBsYXN0TG9naWNhbEluZGV4KSAlIHRoaXMuTUFYX0xFTkdUSDsKICAgICAgICBjb25zdCBzbG90SW5kZXg6IHUzMiA9IDx1MzI+cGh5c2ljYWxJbmRleDsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlcyhzbG90SW5kZXgpOwoKICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLl92YWx1ZXMuZ2V0KHNsb3RJbmRleCk7CiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPSB0aGlzLmRlZmF1bHRWYWx1ZSkgewogICAgICAgICAgICB0aGlzLl92YWx1ZXMuc2V0KHNsb3RJbmRleCwgdGhpcy5kZWZhdWx0VmFsdWUpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9sZW5ndGggLT0gMTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRMZW5ndGggPSB0cnVlOwogICAgfQoKICAgIC8qKiBBZGp1c3QgdGhlIHN0YXJ0aW5nIGluZGV4LiAqLwogICAgcHVibGljIHNldFN0YXJ0aW5nSW5kZXgoaW5kZXg6IHU2NCk6IHZvaWQgewogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSBpbmRleDsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRTdGFydEluZGV4ID0gdHJ1ZTsKICAgIH0KCiAgICAvKiogRGVsZXRlIGEgc3BlY2lmaWMgZWxlbWVudCBieSBzZXR0aW5nIGl0IHRvIGBkZWZhdWx0VmFsdWVgLiAqLwogICAgQGlubGluZQogICAgcHVibGljIGRlbGV0ZShpbmRleDogdTY0KTogdm9pZCB7CiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5NQVhfTEVOR1RIKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ2RlbGV0ZTogaW5kZXggb3V0IG9mIHJhbmdlIChhZGRyZXNzIGFycmF5KScpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcGh5c2ljYWxJbmRleDogdTY0ID0gKHRoaXMuX3N0YXJ0SW5kZXggKyBpbmRleCkgJSB0aGlzLk1BWF9MRU5HVEg7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4OiB1MzIgPSA8dTMyPnBoeXNpY2FsSW5kZXg7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZXMoc2xvdEluZGV4KTsKCiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChzbG90SW5kZXgpOwogICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT0gdGhpcy5kZWZhdWx0VmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnNldChzbG90SW5kZXgsIHRoaXMuZGVmYXVsdFZhbHVlKTsKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmFkZChzbG90SW5kZXgpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFBlcnNpc3QgY2hhbmdlcyB0byBzdG9yYWdlLgogICAgICogIC0gU3RvcmUgYW55IGNoYW5nZWQgc2xvdEluZGV4IC0+IEFkZHJlc3MKICAgICAqICAtIFN0b3JlIHVwZGF0ZWQgbGVuZ3RoIGFuZCBzdGFydEluZGV4IGlmIGNoYW5nZWQKICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIHNhdmUoKTogdm9pZCB7CiAgICAgICAgLy8gMSkgU2F2ZSBjaGFuZ2VkIHNsb3RzCiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2lzQ2hhbmdlZC52YWx1ZXMoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gY2hhbmdlZFtpXTsKICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVBvaW50ZXIgPSB0aGlzLmNhbGN1bGF0ZVN0b3JhZ2VQb2ludGVyKHNsb3RJbmRleCk7CgogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ZhbHVlcy5nZXQoc2xvdEluZGV4KTsKICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQoc3RvcmFnZVBvaW50ZXIsIHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmNsZWFyKCk7CgogICAgICAgIC8vIDIpIFNhdmUgbGVuZ3RoIGFuZCBzdGFydEluZGV4IGlmIGNoYW5nZWQKICAgICAgICBpZiAodGhpcy5faXNDaGFuZ2VkTGVuZ3RoIHx8IHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXgpIHsKICAgICAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKDE2KTsKICAgICAgICAgICAgd3JpdGVyLndyaXRlVTY0KHRoaXMuX2xlbmd0aCk7CiAgICAgICAgICAgIHdyaXRlci53cml0ZVU2NCh0aGlzLl9zdGFydEluZGV4KTsKCiAgICAgICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMubGVuZ3RoUG9pbnRlciwgd3JpdGVyLmdldEJ1ZmZlcigpKTsKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXggPSBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqIENsZWFyIGVudGlyZSBhcnJheSBjb250ZW50IGZyb20gc3RvcmFnZSwgcmVzZXQgbGVuZ3RoIGFuZCBzdGFydEluZGV4LiAqLwogICAgcHVibGljIGRlbGV0ZUFsbCgpOiB2b2lkIHsKICAgICAgICBjb25zdCBrZXlzID0gdGhpcy5fdmFsdWVzLmtleXMoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0ga2V5c1tpXTsKICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVBvaW50ZXIgPSB0aGlzLmNhbGN1bGF0ZVN0b3JhZ2VQb2ludGVyKHNsb3RJbmRleCk7CiAgICAgICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHN0b3JhZ2VQb2ludGVyLCB0aGlzLmRlZmF1bHRWYWx1ZSk7CiAgICAgICAgfQoKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLmxlbmd0aFBvaW50ZXIsIG5ldyBVaW50OEFycmF5KDMyKSk7CgogICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7CiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IDA7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gZmFsc2U7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkU3RhcnRJbmRleCA9IGZhbHNlOwoKICAgICAgICB0aGlzLl92YWx1ZXMuY2xlYXIoKTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWQuY2xlYXIoKTsKICAgIH0KCiAgICAvKiogQnVsay1zZXQgbXVsdGlwbGUgYWRkcmVzc2VzIHN0YXJ0aW5nIGF0IGBzdGFydEluZGV4YC4gKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzZXRNdWx0aXBsZShzdGFydEluZGV4OiB1MzIsIHZhbHVlczogQWRkcmVzc1tdKTogdm9pZCB7CiAgICAgICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLnNldCg8dTY0PihzdGFydEluZGV4ICsgaSksIHZhbHVlc1tpXSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKiBSZXRyaWV2ZSBhIGJhdGNoIG9mIGFkZHJlc3NlcyAocmFuZ2UpLiAqLwogICAgQGlubGluZQogICAgcHVibGljIGdldEFsbChzdGFydEluZGV4OiB1MzIsIGNvdW50OiB1MzIpOiBBZGRyZXNzW10gewogICAgICAgIGlmIChzdGFydEluZGV4ICsgY291bnQgPiB0aGlzLl9sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnZ2V0QWxsOiBpbmRleCBvdXQgb2YgcmFuZ2UgKGFkZHJlc3MgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8QWRkcmVzcz4oY291bnQpOwogICAgICAgIGZvciAobGV0IGk6IHUzMiA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIHJlc3VsdFtpXSA9IHRoaXMuZ2V0KDx1NjQ+KHN0YXJ0SW5kZXggKyBpKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqIFJldHVybnMgYSBzdHJpbmcgb2YgdGhlIGZvcm0gIlthZGRyMCwgYWRkcjEsIC4uLl0iLiAqLwogICAgQGlubGluZQogICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CiAgICAgICAgbGV0IHN0ciA9ICdbJzsKICAgICAgICBmb3IgKGxldCBpOiB1MzIgPSAwOyBpIDwgdGhpcy5fbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldCg8dTY0PmkpOwogICAgICAgICAgICBzdHIgKz0gdmFsdWUudG9TdHJpbmcoKTsKICAgICAgICAgICAgaWYgKGkgIT09IHRoaXMuX2xlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgIHN0ciArPSAnLCAnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHN0ciArPSAnXSc7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0KCiAgICAvKiogUmVzZXQgaW4tbWVtb3J5IGFuZCBwZXJzaXN0LiAqLwogICAgQGlubGluZQogICAgcHVibGljIHJlc2V0KCk6IHZvaWQgewogICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7CiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IDA7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gdHJ1ZTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRTdGFydEluZGV4ID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5fdmFsdWVzLmNsZWFyKCk7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmNsZWFyKCk7CgogICAgICAgIHRoaXMuc2F2ZSgpOwogICAgfQoKICAgIC8qKiBDdXJyZW50IGFycmF5IGxlbmd0aC4gKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXRMZW5ndGgoKTogdTY0IHsKICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoOwogICAgfQoKICAgIC8qKiBDdXJyZW50IHN0YXJ0aW5nIGluZGV4LiAqLwogICAgcHVibGljIHN0YXJ0aW5nSW5kZXgoKTogdTY0IHsKICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRJbmRleDsKICAgIH0KCiAgICAvKioKICAgICAqIEVuc3VyZSB0aGUgZ2l2ZW4gc2xvdCBpbmRleCBpcyBsb2FkZWQgaW50byBgX3ZhbHVlc2AuCiAgICAgKi8KICAgIHByaXZhdGUgZW5zdXJlVmFsdWVzKHNsb3RJbmRleDogdTMyKTogdm9pZCB7CiAgICAgICAgaWYgKCF0aGlzLl92YWx1ZXMuaGFzKHNsb3RJbmRleCkpIHsKICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVBvaW50ZXIgPSB0aGlzLmNhbGN1bGF0ZVN0b3JhZ2VQb2ludGVyKHNsb3RJbmRleCk7CgogICAgICAgICAgICAvLyBMb2FkIHJhdyBieXRlcyBmcm9tIHN0b3JhZ2UKICAgICAgICAgICAgY29uc3Qgc3RvcmVkOiBVaW50OEFycmF5ID0gQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQoc3RvcmFnZVBvaW50ZXIpOwoKICAgICAgICAgICAgY29uc3Qgc3RvcmVkQWRkcmVzczogQWRkcmVzcyA9CiAgICAgICAgICAgICAgICBzdG9yZWQubGVuZ3RoID09IDAgPyB0aGlzLmRlZmF1bHRWYWx1ZSA6IEFkZHJlc3MuZnJvbVVpbnQ4QXJyYXkoc3RvcmVkKTsKCiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5zZXQoc2xvdEluZGV4LCBzdG9yZWRBZGRyZXNzKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBDb21wdXRlIGEgMzItYnl0ZSBzdG9yYWdlIHBvaW50ZXIgPSBiYXNlUG9pbnRlciArIChzbG90SW5kZXggKyAxKSBiaWctZW5kaWFuLgogICAgICovCiAgICBwcml2YXRlIGNhbGN1bGF0ZVN0b3JhZ2VQb2ludGVyKHNsb3RJbmRleDogdTY0KTogVWludDhBcnJheSB7CiAgICAgICAgLy8gQ29udmVydCAoc2xvdEluZGV4KSB0byBhIDMyLWJ5dGUgYmlnLWVuZGlhbiBvZmZzZXQKICAgICAgICBjb25zdCBvZmZzZXQgPSB1NjRUb0JFMzJCeXRlcyhzbG90SW5kZXgpOwoKICAgICAgICByZXR1cm4gYWRkVWludDhBcnJheXNCRSh0aGlzLmJhc2VVMjU2UG9pbnRlciwgb2Zmc2V0KTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredBooleanArray.ts": "aW1wb3J0IHsgQnl0ZXNXcml0ZXIgfSBmcm9tICcuLi8uLi9idWZmZXIvQnl0ZXNXcml0ZXInOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vLi4vZW52JzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vLi4vdHlwZXMvUmV2ZXJ0JzsKaW1wb3J0IHsKICAgIGFkZFVpbnQ4QXJyYXlzQkUsCiAgICBiaWdFbmRpYW5BZGQsCiAgICBlbmNvZGVCYXNlUG9pbnRlciwKICAgIEdFVF9FTVBUWV9CVUZGRVIsCiAgICBnZXRCaXQsCiAgICByZWFkTGVuZ3RoQW5kU3RhcnRJbmRleCwKICAgIHNldEJpdCwKICAgIHU2NFRvQkUzMkJ5dGVzLAp9IGZyb20gJy4uLy4uL21hdGgvYnl0ZXMnOwoKLyoqCiAqIEBjbGFzcyBTdG9yZWRCb29sZWFuQXJyYXkKICogTWFuYWdlcyBhbiBhcnJheSBvZiBib29sZWFuIHZhbHVlcyBhY3Jvc3MgbXVsdGlwbGUgc3RvcmFnZSBzbG90cy4KICogRWFjaCBzbG90IGlzIGEgMzItYnl0ZSBVaW50OEFycmF5LCBlYWNoIGNvbnRhaW5pbmcgMjU2IGJpdHMgKDEgYml0IHBlciBib29sZWFuKS4KICoKICogRm9yIGV4YW1wbGU6CiAqICAtIHNsb3QgMCBzdG9yZXMgaW5kZXhlcyBbMC4uMjU1XQogKiAgLSBzbG90IDEgc3RvcmVzIGluZGV4ZXMgWzI1Ni4uNTExXQogKiAgLSAuLi4KICovCkBmaW5hbApleHBvcnQgY2xhc3MgU3RvcmVkQm9vbGVhbkFycmF5IHsKICAgIHByaXZhdGUgcmVhZG9ubHkgYmFzZVBvaW50ZXI6IFVpbnQ4QXJyYXk7CiAgICBwcml2YXRlIHJlYWRvbmx5IGxlbmd0aFBvaW50ZXI6IFVpbnQ4QXJyYXk7CgogICAgcHJpdmF0ZSBfdmFsdWVzOiBNYXA8dTY0LCBVaW50OEFycmF5PiA9IG5ldyBNYXAoKTsKICAgIHByaXZhdGUgX2lzQ2hhbmdlZDogU2V0PHU2ND4gPSBuZXcgU2V0KCk7CgogICAgcHJpdmF0ZSBfbGVuZ3RoOiB1NjQgPSAwOwogICAgcHJpdmF0ZSBfc3RhcnRJbmRleDogdTY0ID0gMDsKICAgIHByaXZhdGUgX2lzQ2hhbmdlZExlbmd0aDogYm9vbCA9IGZhbHNlOwogICAgcHJpdmF0ZSBfaXNDaGFuZ2VkU3RhcnRJbmRleDogYm9vbCA9IGZhbHNlOwoKICAgIHByaXZhdGUgcmVhZG9ubHkgTUFYX0xFTkdUSDogdTY0ID0gdTMyLk1BWF9WQUxVRTsKCiAgICAvKioKICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICogQHBhcmFtIHt1MTZ9IHBvaW50ZXIgICAgICAgLSBUaGUgcHJpbWFyeSBwb2ludGVyIGlkZW50aWZpZXIuCiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHN1YlB0ciAtIFRoZSBzdWItcG9pbnRlciBmb3IgbWVtb3J5IHNsb3QgYWRkcmVzc2luZy4KICAgICAqCiAgICAgKiBUaGUgY29kZSBiZWxvdyB0cmVhdHMgdGhlIGZpcnN0IDE2IGJ5dGVzIG9mIGBsZW5ndGhQb2ludGVyYCBhcyBzdG9yaW5nIFtsZW5ndGgsIHN0YXJ0SW5kZXhdLgogICAgICovCiAgICBjb25zdHJ1Y3RvcigKICAgICAgICBwdWJsaWMgcG9pbnRlcjogdTE2LAogICAgICAgIHB1YmxpYyBzdWJQdHI6IFVpbnQ4QXJyYXksCiAgICApIHsKICAgICAgICBhc3NlcnQoc3ViUHRyLmxlbmd0aCA8PSAzMCwgYFlvdSBtdXN0IHBhc3MgYSAzMCBieXRlcyBzdWItcG9pbnRlci4gKFN0b3JlZEJvb2xlYW5BcnJheSwgZ290ICR7c3ViUHRyLmxlbmd0aH0pYCk7CgogICAgICAgIGNvbnN0IGJhc2VQb2ludGVyID0gZW5jb2RlQmFzZVBvaW50ZXIocG9pbnRlciwgc3ViUHRyKTsKICAgICAgICB0aGlzLmxlbmd0aFBvaW50ZXIgPSBVaW50OEFycmF5LndyYXAoYmFzZVBvaW50ZXIuYnVmZmVyKTsKICAgICAgICB0aGlzLmJhc2VQb2ludGVyID0gYmlnRW5kaWFuQWRkKGJhc2VQb2ludGVyLCAxKTsKCiAgICAgICAgY29uc3Qgc3RvcmVkTGVuU3RhcnQgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdChiYXNlUG9pbnRlcik7CiAgICAgICAgY29uc3QgZGF0YSA9IHJlYWRMZW5ndGhBbmRTdGFydEluZGV4KHN0b3JlZExlblN0YXJ0KTsKCiAgICAgICAgdGhpcy5fbGVuZ3RoID0gZGF0YVswXTsKICAgICAgICB0aGlzLl9zdGFydEluZGV4ID0gZGF0YVsxXTsKICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLSBQdWJsaWMgQWNjZXNzb3JzIC0tLS0tLS0tLS0tLS0tIC8vCgogICAgQGlubGluZQogICAgcHVibGljIGhhcyhpbmRleDogdTY0KTogYm9vbCB7CiAgICAgICAgcmV0dXJuIGluZGV4IDwgdGhpcy5fbGVuZ3RoOwogICAgfQoKICAgIC8qKgogICAgICogUmV0cmlldmUgYm9vbGVhbiBhdCBgaW5kZXhgLgogICAgICovCiAgICBAb3BlcmF0b3IoJ1tdJykKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXQoaW5kZXg6IHU2NCk6IGJvb2wgewogICAgICAgIGlmIChpbmRleCA+PSB0aGlzLl9sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydChgZ2V0OiBpbmRleCBvdXQgb2YgcmFuZ2UgKCR7aW5kZXh9ID49ICR7dGhpcy5fbGVuZ3RofSwgYm9vbGVhbiBhcnJheSlgKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGVmZmVjdGl2ZUluZGV4ID0gdGhpcy5fc3RhcnRJbmRleCArIGluZGV4OwogICAgICAgIGNvbnN0IHdyYXBwZWRJbmRleCA9IGVmZmVjdGl2ZUluZGV4IDwgdGhpcy5NQVhfTEVOR1RICiAgICAgICAgICAgID8gZWZmZWN0aXZlSW5kZXgKICAgICAgICAgICAgOiBlZmZlY3RpdmVJbmRleCAlIHRoaXMuTUFYX0xFTkdUSDsKCiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gd3JhcHBlZEluZGV4IC8gMjU2OwogICAgICAgIGNvbnN0IGJpdEluZGV4ID0gPHUxNj4od3JhcHBlZEluZGV4ICUgMjU2KTsKCiAgICAgICAgdGhpcy5lbnN1cmVTbG90TG9hZGVkKHNsb3RJbmRleCk7CgogICAgICAgIGNvbnN0IHNsb3RWYWx1ZSA9IHRoaXMuX3ZhbHVlcy5nZXQoc2xvdEluZGV4KTsKICAgICAgICByZXR1cm4gc2xvdFZhbHVlID8gZ2V0Qml0KHNsb3RWYWx1ZSwgYml0SW5kZXgpIDogZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXQgYm9vbGVhbiBhdCBgaW5kZXhgLgogICAgICovCiAgICBAb3BlcmF0b3IoJ1tdPScpCiAgICBAaW5saW5lCiAgICBwdWJsaWMgc2V0KGluZGV4OiB1NjQsIHZhbHVlOiBib29sKTogdm9pZCB7CiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuX2xlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBzZXQ6IGluZGV4IG91dCBvZiByYW5nZSAoJHtpbmRleH0gPj0gJHt0aGlzLl9sZW5ndGh9LCBib29sZWFuIGFycmF5KWApOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgZWZmZWN0aXZlSW5kZXggPSB0aGlzLl9zdGFydEluZGV4ICsgaW5kZXg7CiAgICAgICAgY29uc3Qgd3JhcHBlZEluZGV4ID0gZWZmZWN0aXZlSW5kZXggPCB0aGlzLk1BWF9MRU5HVEgKICAgICAgICAgICAgPyBlZmZlY3RpdmVJbmRleAogICAgICAgICAgICA6IGVmZmVjdGl2ZUluZGV4ICUgdGhpcy5NQVhfTEVOR1RIOwoKICAgICAgICBjb25zdCBzbG90SW5kZXggPSB3cmFwcGVkSW5kZXggLyAyNTY7CiAgICAgICAgY29uc3QgYml0SW5kZXggPSA8dTE2Pih3cmFwcGVkSW5kZXggJSAyNTYpOwoKICAgICAgICB0aGlzLmVuc3VyZVNsb3RMb2FkZWQoc2xvdEluZGV4KTsKCiAgICAgICAgY29uc3Qgc2xvdFZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChzbG90SW5kZXgpOwogICAgICAgIGlmIChzbG90VmFsdWUpIHsKICAgICAgICAgICAgY29uc3Qgb2xkVmFsID0gZ2V0Qml0KHNsb3RWYWx1ZSwgYml0SW5kZXgpOwogICAgICAgICAgICBpZiAob2xkVmFsICE9IHZhbHVlKSB7CiAgICAgICAgICAgICAgICBzZXRCaXQoc2xvdFZhbHVlLCBiaXRJbmRleCwgdmFsdWUpOwogICAgICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmFkZChzbG90SW5kZXgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUHVzaCBhIG5ldyBib29sZWFuIGF0IHRoZSAiZW5kIiBvZiB0aGUgYXJyYXkuCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBwdXNoKHZhbHVlOiBib29sKTogdm9pZCB7CiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA+PSB0aGlzLk1BWF9MRU5HVEgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgncHVzaDogcmVhY2hlZCBtYXggYWxsb3dlZCBsZW5ndGggKGJvb2xlYW4gYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBuZXdJbmRleCA9IHRoaXMuX2xlbmd0aDsKICAgICAgICBjb25zdCBlZmZlY3RpdmVJbmRleCA9IHRoaXMuX3N0YXJ0SW5kZXggKyBuZXdJbmRleDsKICAgICAgICBjb25zdCB3cmFwcGVkSW5kZXggPSBlZmZlY3RpdmVJbmRleCA8IHRoaXMuTUFYX0xFTkdUSAogICAgICAgICAgICA/IGVmZmVjdGl2ZUluZGV4CiAgICAgICAgICAgIDogZWZmZWN0aXZlSW5kZXggJSB0aGlzLk1BWF9MRU5HVEg7CgogICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHdyYXBwZWRJbmRleCAvIDI1NjsKICAgICAgICBjb25zdCBiaXRJbmRleCA9IDx1MTY+KHdyYXBwZWRJbmRleCAlIDI1Nik7CgogICAgICAgIHRoaXMuZW5zdXJlU2xvdExvYWRlZChzbG90SW5kZXgpOwoKICAgICAgICBjb25zdCBzbG90VmFsdWUgPSB0aGlzLl92YWx1ZXMuZ2V0KHNsb3RJbmRleCk7CiAgICAgICAgaWYgKHNsb3RWYWx1ZSkgewogICAgICAgICAgICBzZXRCaXQoc2xvdFZhbHVlLCBiaXRJbmRleCwgdmFsdWUpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9sZW5ndGggKz0gMTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRMZW5ndGggPSB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogRGVsZXRlIHRoZSBib29sZWFuIGF0IGBpbmRleGAgYnkgc2V0dGluZyBpdCB0byBmYWxzZS4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGRlbGV0ZShpbmRleDogdTY0KTogdm9pZCB7CiAgICAgICAgaWYgKGluZGV4ID49IHRoaXMuX2xlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdkZWxldGU6IGluZGV4IG91dCBvZiByYW5nZSAoYm9vbGVhbiBhcnJheSknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGVmZmVjdGl2ZUluZGV4ID0gdGhpcy5fc3RhcnRJbmRleCArIGluZGV4OwogICAgICAgIGNvbnN0IHdyYXBwZWRJbmRleCA9IGVmZmVjdGl2ZUluZGV4IDwgdGhpcy5NQVhfTEVOR1RICiAgICAgICAgICAgID8gZWZmZWN0aXZlSW5kZXgKICAgICAgICAgICAgOiBlZmZlY3RpdmVJbmRleCAlIHRoaXMuTUFYX0xFTkdUSDsKCiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gd3JhcHBlZEluZGV4IC8gMjU2OwogICAgICAgIGNvbnN0IGJpdEluZGV4ID0gPHUxNj4od3JhcHBlZEluZGV4ICUgMjU2KTsKCiAgICAgICAgdGhpcy5lbnN1cmVTbG90TG9hZGVkKHNsb3RJbmRleCk7CgogICAgICAgIGNvbnN0IHNsb3RWYWx1ZSA9IHRoaXMuX3ZhbHVlcy5nZXQoc2xvdEluZGV4KTsKICAgICAgICBpZiAoc2xvdFZhbHVlKSB7CiAgICAgICAgICAgIGNvbnN0IG9sZFZhbCA9IGdldEJpdChzbG90VmFsdWUsIGJpdEluZGV4KTsKICAgICAgICAgICAgaWYgKG9sZFZhbCkgewogICAgICAgICAgICAgICAgc2V0Qml0KHNsb3RWYWx1ZSwgYml0SW5kZXgsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5hZGQoc2xvdEluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFJlbW92ZSB0aGUgbGFzdCBlbGVtZW50IGJ5IHNldHRpbmcgaXQgZmFsc2UgYW5kIGRlY3JlbWVudGluZyBsZW5ndGguCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBkZWxldGVMYXN0KCk6IHZvaWQgewogICAgICAgIGlmICh0aGlzLl9sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnZGVsZXRlTGFzdDogYXJyYXkgaXMgZW1wdHknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHRoaXMuX2xlbmd0aCAtIDE7CiAgICAgICAgdGhpcy5kZWxldGUobGFzdEluZGV4KTsKCiAgICAgICAgdGhpcy5fbGVuZ3RoIC09IDE7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIENvbW1pdCBhbnkgY2hhbmdlZCBzbG90cyB0byBzdG9yYWdlLCBhcyB3ZWxsIGFzIGxlbmd0aCAvIHN0YXJ0SW5kZXggaWYgY2hhbmdlZC4KICAgICAqLwogICAgcHVibGljIHNhdmUoKTogdm9pZCB7CiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2lzQ2hhbmdlZC52YWx1ZXMoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gY2hhbmdlZFtpXTsKICAgICAgICAgICAgY29uc3Qgc2xvdFZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChzbG90SW5kZXgpOwogICAgICAgICAgICBjb25zdCBzdG9yYWdlUG9pbnRlciA9IHRoaXMuY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4KTsKCiAgICAgICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHN0b3JhZ2VQb2ludGVyLCBzbG90VmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmNsZWFyKCk7CgogICAgICAgIC8vIDIpIElmIGxlbmd0aCBvciBzdGFydEluZGV4IGNoYW5nZWQsIHN0b3JlIHRoZW0KICAgICAgICBpZiAodGhpcy5faXNDaGFuZ2VkTGVuZ3RoIHx8IHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXgpIHsKICAgICAgICAgICAgY29uc3QgdyA9IG5ldyBCeXRlc1dyaXRlcigzMik7CiAgICAgICAgICAgIHcud3JpdGVVNjQodGhpcy5fbGVuZ3RoKTsKICAgICAgICAgICAgdy53cml0ZVU2NCh0aGlzLl9zdGFydEluZGV4KTsKCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB3LmdldEJ1ZmZlcigpOwogICAgICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLmxlbmd0aFBvaW50ZXIsIGRhdGEpOwoKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXggPSBmYWxzZTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWxldGUgYWxsIHNsb3RzIGluIHN0b3JhZ2UgKHRoYXQgYXJlIGxvYWRlZCkgKyByZXNldCBsZW5ndGggKyBfc3RhcnRJbmRleC4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGRlbGV0ZUFsbCgpOiB2b2lkIHsKICAgICAgICBjb25zdCBrZXlzID0gdGhpcy5fdmFsdWVzLmtleXMoKTsKICAgICAgICBjb25zdCB6ZXJvQXJyID0gR0VUX0VNUFRZX0JVRkZFUigpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBzbG90SW5kZXggPSBrZXlzW2ldOwogICAgICAgICAgICBjb25zdCBzdG9yYWdlUG9pbnRlciA9IHRoaXMuY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4KTsKICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQoc3RvcmFnZVBvaW50ZXIsIHplcm9BcnIpOwogICAgICAgIH0KCiAgICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IEJ5dGVzV3JpdGVyKDMyKTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLmxlbmd0aFBvaW50ZXIsIHdyaXRlci5nZXRCdWZmZXIoKSk7CgogICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7CiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IDA7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gZmFsc2U7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkU3RhcnRJbmRleCA9IGZhbHNlOwoKICAgICAgICB0aGlzLl92YWx1ZXMuY2xlYXIoKTsKICAgICAgICB0aGlzLl9pc0NoYW5nZWQuY2xlYXIoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldCBtdWx0aXBsZSBib29scyBzdGFydGluZyBhdCBgc3RhcnRJbmRleGAuCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzZXRNdWx0aXBsZShzdGFydEluZGV4OiB1NjQsIHZhbHVlczogYm9vbFtdKTogdm9pZCB7CiAgICAgICAgZm9yIChsZXQgaTogdTY0ID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLnNldChzdGFydEluZGV4ICsgaSwgdmFsdWVzW2ldKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXRyaWV2ZSBhIGJhdGNoIG9mIGJvb2xzLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgZ2V0QWxsKHN0YXJ0OiB1NjQsIGNvdW50OiB1NjQpOiBib29sW10gewogICAgICAgIGlmIChzdGFydCArIGNvdW50ID4gdGhpcy5fbGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ2dldEFsbDogcmFuZ2UgZXhjZWVkcyBhcnJheSBsZW5ndGggKGJvb2xlYW4gYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoY291bnQgPiB1NjQodTMyLk1BWF9WQUxVRSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnZ2V0QWxsOiByYW5nZSBleGNlZWRzIG1heCBhbGxvd2VkIChib29sZWFuIGFycmF5KScpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5PGJvb2w+KDxpMzI+Y291bnQpOwogICAgICAgIGZvciAobGV0IGk6IHU2NCA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICAgIHJlc3VsdFs8aTMyPmldID0gdGhpcy5nZXQoc3RhcnQgKyBpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBQcmludCBvdXQgdGhlIGFycmF5IGFzICJbdHJ1ZSwgZmFsc2UsIC4uLl0iLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHsKICAgICAgICBsZXQgcyA9ICdbJzsKICAgICAgICBmb3IgKGxldCBpOiB1NjQgPSAwOyBpIDwgdGhpcy5fbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgcyArPSB0aGlzLmdldChpKS50b1N0cmluZygpOwogICAgICAgICAgICBpZiAoaSA8IHRoaXMuX2xlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgIHMgKz0gJywgJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzICs9ICddJzsKICAgICAgICByZXR1cm4gczsKICAgIH0KCiAgICAvKioKICAgICAqIFJlc2V0IHRoZSBhcnJheSBpbiBtZW1vcnkgKGNsZWFyIGxlbmd0aCwgc3RhcnRJbmRleCwgY2FjaGVzKSwgdGhlbiBzYXZlIHRvIHN0b3JhZ2UuCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHsKICAgICAgICB0aGlzLl9sZW5ndGggPSAwOwogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSAwOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZExlbmd0aCA9IHRydWU7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkU3RhcnRJbmRleCA9IHRydWU7CgogICAgICAgIHRoaXMuX3ZhbHVlcy5jbGVhcigpOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5jbGVhcigpOwoKICAgICAgICB0aGlzLnNhdmUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIEN1cnJlbnQgYXJyYXkgbGVuZ3RoIChudW1iZXIgb2YgYm9vbGVhbnMgc3RvcmVkKS4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGdldExlbmd0aCgpOiB1NjQgewogICAgICAgIHJldHVybiB0aGlzLl9sZW5ndGg7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHNldFN0YXJ0aW5nSW5kZXgoaW5kZXg6IHU2NCk6IHZvaWQgewogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSBpbmRleDsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRTdGFydEluZGV4ID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEN1cnJlbnQgc3RhcnRpbmcgaW5kZXggZm9yIHRoZSBhcnJheS4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIHN0YXJ0aW5nSW5kZXgoKTogdTY0IHsKICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRJbmRleDsKICAgIH0KCiAgICAvKioKICAgICAqIEVuc3VyZSB0aGUgMzItYnl0ZSBzbG90IGZvciBgc2xvdEluZGV4YCBpcyBsb2FkZWQgaW50byBfdmFsdWVzLgogICAgICovCiAgICBwcml2YXRlIGVuc3VyZVNsb3RMb2FkZWQoc2xvdEluZGV4OiB1NjQpOiB2b2lkIHsKICAgICAgICBpZiAoIXRoaXMuX3ZhbHVlcy5oYXMoc2xvdEluZGV4KSkgewogICAgICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYWxjdWxhdGVTdG9yYWdlUG9pbnRlcihzbG90SW5kZXgpOwogICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdChwb2ludGVyKTsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzLnNldChzbG90SW5kZXgsIHN0b3JlZCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogQ29udmVydCBgc2xvdEluZGV4YCAtPiBwb2ludGVyID0gYmFzZVBvaW50ZXIgKyAoc2xvdEluZGV4ICsgMSksIGFzIGJpZy1lbmRpYW4gYWRkaXRpb24uCiAgICAgKi8KICAgIHByaXZhdGUgY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBvZmZzZXQgPSB1NjRUb0JFMzJCeXRlcyhzbG90SW5kZXgpOwogICAgICAgIHJldHVybiBhZGRVaW50OEFycmF5c0JFKHRoaXMuYmFzZVBvaW50ZXIsIG9mZnNldCk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredPackedArray.ts": "aW1wb3J0IHsKICAgIGJpZ0VuZGlhbkFkZCwKICAgIGVuY29kZUJhc2VQb2ludGVyLAogICAgR0VUX0VNUFRZX0JVRkZFUiwKICAgIHJlYWRMZW5ndGhBbmRTdGFydEluZGV4LAogICAgd3JpdGVMZW5ndGhBbmRTdGFydEluZGV4LAp9IGZyb20gJy4uLy4uL21hdGgvYnl0ZXMnOwppbXBvcnQgeyBCbG9ja2NoYWluIH0gZnJvbSAnLi4vLi4vZW52JzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vLi4vdHlwZXMvUmV2ZXJ0JzsKCi8qKgogKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBhbiBhcnJheSBvZiBUIHZhbHVlcyB0aGF0IGFyZSBwYWNrZWQKICogaW4gMzItYnl0ZSAoVWludDhBcnJheSkgInNsb3RzIiBpbiBzdG9yYWdlLgogKgogKiAtIFRyYWNrcyBsZW5ndGggKyBzdGFydEluZGV4IGluIHRoZSBmaXJzdCAxNiBieXRlcyBvZiBgbGVuZ3RoUG9pbnRlcmAuCiAqIC0gTWFwcyBlYWNoIGdsb2JhbCBpbmRleCB0byAoc2xvdEluZGV4LCBzdWJJbmRleCkuCiAqIC0gQ2hpbGQgY2xhc3NlcyBkZWZpbmUgaG93IG1hbnkgVCBpdGVtcyBmaXQgcGVyIDMyLWJ5dGUgc2xvdAogKiAgIGFuZCBob3cgdG8gcGFjay91bnBhY2sgdGhlbS4KICovCmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdG9yZWRQYWNrZWRBcnJheTxUPiB7CiAgICAvKiogMzItYnl0ZSBiYXNlIHBvaW50ZXIgKHVzZWQgdG8gZGVyaXZlIHN0b3JhZ2Uga2V5cykuICovCiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYmFzZVBvaW50ZXI6IFVpbnQ4QXJyYXk7CgogICAgLyoqIFNhbWUgcG9pbnRlciB1c2VkIHRvIHJlYWQvd3JpdGUgbGVuZ3RoICsgc3RhcnRJbmRleC4gKi8KICAgIHByb3RlY3RlZCByZWFkb25seSBsZW5ndGhQb2ludGVyOiBVaW50OEFycmF5OwoKICAgIC8qKiBJbnRlcm5hbCBsZW5ndGggb2YgdGhlIGFycmF5LiAqLwogICAgcHJvdGVjdGVkIF9sZW5ndGg6IHU2NCA9IDA7CgogICAgLyoqIE9wdGlvbmFsICJzdGFydCBpbmRleCIgaWYgbmVlZGVkIGJ5IHlvdXIgbG9naWMuICovCiAgICBwcm90ZWN0ZWQgX3N0YXJ0SW5kZXg6IHU2NCA9IDA7CgogICAgLyoqIFdoZXRoZXIgbGVuZ3RoIG9yIHN0YXJ0SW5kZXggY2hhbmdlZC4gKi8KICAgIHByb3RlY3RlZCBfaXNDaGFuZ2VkTGVuZ3RoOiBib29sID0gZmFsc2U7CiAgICBwcm90ZWN0ZWQgX2lzQ2hhbmdlZFN0YXJ0SW5kZXg6IGJvb2wgPSBmYWxzZTsKCiAgICAvKioKICAgICAqIEEgbWFwIGZyb20gc2xvdEluZGV4ID0+IHRoZSAzMi1ieXRlIHNsb3QgZGF0YSBpbiBtZW1vcnkuCiAgICAgKiBDaGlsZCBjbGFzc2VzIHdpbGwgcGFyc2UgdGhhdCAzMiBieXRlcyBpbnRvIGFuIGFycmF5IG9mIFQsIG9yIHZpY2UgdmVyc2EuCiAgICAgKi8KICAgIHByb3RlY3RlZCBfc2xvdHM6IE1hcDx1NjQsIFVpbnQ4QXJyYXk+ID0gbmV3IE1hcCgpOwoKICAgIC8qKiBUcmFjayB3aGljaCBzbG90SW5kZXhlcyBhcmUgY2hhbmdlZCBhbmQgbmVlZCBzYXZpbmcuICovCiAgICBwcm90ZWN0ZWQgX2lzQ2hhbmdlZDogU2V0PHU2ND4gPSBuZXcgU2V0KCk7CgogICAgLyoqCiAgICAgKiBNYXhpbXVtIGxlbmd0aCB0byBwcmV2ZW50IHVuYm91bmRlZCB1c2FnZS4KICAgICAqIEFkanVzdCB0byBmaXQgeW91ciBjb25zdHJhaW50cyAoZS5nLiBgdTY0Lk1BWF9WQUxVRWApLgogICAgICovCiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgTUFYX0xFTkdUSDogdTY0ID0gPHU2ND4odTMyLk1BWF9WQUxVRSAtIDEpOwoKICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihwdWJsaWMgcG9pbnRlcjogdTE2LCBwdWJsaWMgc3ViUG9pbnRlcjogVWludDhBcnJheSwgcHJvdGVjdGVkIGRlZmF1bHRWYWx1ZTogVCkgewogICAgICAgIGFzc2VydChzdWJQb2ludGVyLmxlbmd0aCA8PSAzMCwgYFlvdSBtdXN0IHBhc3MgYSAzMCBieXRlcyBzdWItcG9pbnRlci4gKEFycmF5LCBnb3QgJHtzdWJQb2ludGVyLmxlbmd0aH0pYCk7CgogICAgICAgIGNvbnN0IGJhc2VQb2ludGVyID0gZW5jb2RlQmFzZVBvaW50ZXIocG9pbnRlciwgc3ViUG9pbnRlcik7CiAgICAgICAgdGhpcy5sZW5ndGhQb2ludGVyID0gVWludDhBcnJheS53cmFwKGJhc2VQb2ludGVyLmJ1ZmZlcik7CiAgICAgICAgdGhpcy5iYXNlUG9pbnRlciA9IGJpZ0VuZGlhbkFkZChiYXNlUG9pbnRlciwgMSk7CgogICAgICAgIGNvbnN0IHN0b3JlZExlblN0YXJ0ID0gQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQoYmFzZVBvaW50ZXIpOwogICAgICAgIGNvbnN0IGRhdGEgPSByZWFkTGVuZ3RoQW5kU3RhcnRJbmRleChzdG9yZWRMZW5TdGFydCk7CgogICAgICAgIHRoaXMuX2xlbmd0aCA9IGRhdGFbMF07CiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IGRhdGFbMV07CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCdbXScpCiAgICBwdWJsaWMgZ2V0KGluZGV4OiB1NjQpOiBUIHsKICAgICAgICAvLyBtYXggbGVuZ3RoIHVzZWQgb24gcHVycG9zZSB0byBwcmV2ZW50IHVuYm91bmRlZCB1c2FnZQogICAgICAgIGlmIChpbmRleCA+IHRoaXMuTUFYX0xFTkdUSCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdnZXQ6IG91dCBvZiByYW5nZScpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVhbEluZGV4ID0gKHRoaXMuX3N0YXJ0SW5kZXggKyBpbmRleCkgJSB0aGlzLk1BWF9MRU5HVEg7CiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5nZXRTbG90Q2FwYWNpdHkoKTsKICAgICAgICBjb25zdCBzbG90SW5kZXggPSByZWFsSW5kZXggLyBjYXA7CiAgICAgICAgY29uc3Qgc3ViSW5kZXggPSA8dTMyPihyZWFsSW5kZXggJSBjYXApOwoKICAgICAgICBjb25zdCBzbG90RGF0YSA9IHRoaXMuZW5zdXJlU2xvdChzbG90SW5kZXgpOwogICAgICAgIGNvbnN0IGFyciA9IHRoaXMudW5wYWNrU2xvdChzbG90RGF0YSk7CgogICAgICAgIHJldHVybiBhcnJbc3ViSW5kZXhdOwogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXRfcGh5c2ljYWwoaW5kZXg6IHU2NCk6IFQgewogICAgICAgIGlmIChpbmRleCA+IHRoaXMuTUFYX0xFTkdUSCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdnZXQ6IGluZGV4IGV4Y2VlZHMgTUFYX0xFTkdUSCAocGFja2VkIGFycmF5KScpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5nZXRTbG90Q2FwYWNpdHkoKTsKICAgICAgICBjb25zdCBzbG90SW5kZXggPSBpbmRleCAvIGNhcDsKICAgICAgICBjb25zdCBzdWJJbmRleCA9IDx1MzI+KGluZGV4ICUgY2FwKTsKCiAgICAgICAgY29uc3Qgc2xvdERhdGEgPSB0aGlzLmVuc3VyZVNsb3Qoc2xvdEluZGV4KTsKICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnVucGFja1Nsb3Qoc2xvdERhdGEpOwoKICAgICAgICByZXR1cm4gYXJyW3N1YkluZGV4XTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBAb3BlcmF0b3IoJ1tdPScpCiAgICBwdWJsaWMgc2V0KGluZGV4OiB1NjQsIHZhbHVlOiBUKTogdm9pZCB7CiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy5NQVhfTEVOR1RIKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ3NldDogaW5kZXggZXhjZWVkcyBNQVhfTEVOR1RIIChwYWNrZWQgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByZWFsSW5kZXggPSAodGhpcy5fc3RhcnRJbmRleCArIGluZGV4KSAlIHRoaXMuTUFYX0xFTkdUSDsKICAgICAgICBjb25zdCBjYXAgPSB0aGlzLmdldFNsb3RDYXBhY2l0eSgpOwogICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IHJlYWxJbmRleCAvIGNhcDsKICAgICAgICBjb25zdCBzdWJJbmRleCA9IDx1MzI+KHJlYWxJbmRleCAlIGNhcCk7CgogICAgICAgIGxldCBzbG90RGF0YSA9IHRoaXMuZW5zdXJlU2xvdChzbG90SW5kZXgpOwogICAgICAgIGNvbnN0IGFyciA9IHRoaXMudW5wYWNrU2xvdChzbG90RGF0YSk7CgogICAgICAgIGlmICghdGhpcy5lcShhcnJbc3ViSW5kZXhdLCB2YWx1ZSkpIHsKICAgICAgICAgICAgYXJyW3N1YkluZGV4XSA9IHZhbHVlOwogICAgICAgICAgICBzbG90RGF0YSA9IHRoaXMucGFja1Nsb3QoYXJyKTsKICAgICAgICAgICAgdGhpcy5fc2xvdHMuc2V0KHNsb3RJbmRleCwgc2xvdERhdGEpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzZXRfcGh5c2ljYWwoaW5kZXg6IHU2NCwgdmFsdWU6IFQpOiB2b2lkIHsKICAgICAgICBpZiAoaW5kZXggPiB0aGlzLk1BWF9MRU5HVEgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnc2V0OiBpbmRleCBleGNlZWRzIE1BWF9MRU5HVEggKHBhY2tlZCBhcnJheSknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGNhcCA9IHRoaXMuZ2V0U2xvdENhcGFjaXR5KCk7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gaW5kZXggLyBjYXA7CiAgICAgICAgY29uc3Qgc3ViSW5kZXggPSA8dTMyPihpbmRleCAlIGNhcCk7CgogICAgICAgIGxldCBzbG90RGF0YSA9IHRoaXMuZW5zdXJlU2xvdChzbG90SW5kZXgpOwogICAgICAgIGNvbnN0IGFyciA9IHRoaXMudW5wYWNrU2xvdChzbG90RGF0YSk7CgogICAgICAgIGlmICghdGhpcy5lcShhcnJbc3ViSW5kZXhdLCB2YWx1ZSkpIHsKICAgICAgICAgICAgYXJyW3N1YkluZGV4XSA9IHZhbHVlOwogICAgICAgICAgICBzbG90RGF0YSA9IHRoaXMucGFja1Nsb3QoYXJyKTsKICAgICAgICAgICAgdGhpcy5fc2xvdHMuc2V0KHNsb3RJbmRleCwgc2xvdERhdGEpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBwdXNoKHZhbHVlOiBULCBpc1BoeXNpY2FsOiBib29sID0gZmFsc2UpOiB2b2lkIHsKICAgICAgICBpZiAodGhpcy5fbGVuZ3RoID49IHRoaXMuTUFYX0xFTkdUSCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdwdXNoOiBhcnJheSBoYXMgcmVhY2hlZCBNQVhfTEVOR1RIJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByZWFsSW5kZXggPSAoKGlzUGh5c2ljYWwgPyAwIDogdGhpcy5fc3RhcnRJbmRleCkgKyB0aGlzLl9sZW5ndGgpICUgdGhpcy5NQVhfTEVOR1RIOwogICAgICAgIGNvbnN0IGNhcCA9IHRoaXMuZ2V0U2xvdENhcGFjaXR5KCk7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gcmVhbEluZGV4IC8gY2FwOwogICAgICAgIGNvbnN0IHN1YkluZGV4ID0gPHUzMj4ocmVhbEluZGV4ICUgY2FwKTsKCiAgICAgICAgbGV0IHNsb3REYXRhID0gdGhpcy5lbnN1cmVTbG90KHNsb3RJbmRleCk7CiAgICAgICAgY29uc3QgYXJyID0gdGhpcy51bnBhY2tTbG90KHNsb3REYXRhKTsKCiAgICAgICAgaWYgKCF0aGlzLmVxKGFycltzdWJJbmRleF0sIHZhbHVlKSkgewogICAgICAgICAgICBhcnJbc3ViSW5kZXhdID0gdmFsdWU7CiAgICAgICAgICAgIHNsb3REYXRhID0gdGhpcy5wYWNrU2xvdChhcnIpOwogICAgICAgICAgICB0aGlzLl9zbG90cy5zZXQoc2xvdEluZGV4LCBzbG90RGF0YSk7CiAgICAgICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5hZGQoc2xvdEluZGV4KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX2xlbmd0aCArPSAxOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZExlbmd0aCA9IHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIGZpcnN0IGVsZW1lbnQgYnkgemVyb2luZyBpdCBhbmQgc2hpZnRpbmcgYWxsIG90aGVyIGVsZW1lbnRzLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgc2hpZnQoKTogVCB7CiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ3NoaWZ0OiBhcnJheSBpcyBlbXB0eSAocGFja2VkIGFycmF5KScpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbmV3SW5kZXggPSB0aGlzLl9zdGFydEluZGV4OwogICAgICAgIGNvbnN0IGNhcCA9IHRoaXMuZ2V0U2xvdENhcGFjaXR5KCk7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gbmV3SW5kZXggLyBjYXA7CiAgICAgICAgY29uc3Qgc3ViSW5kZXggPSA8dTMyPihuZXdJbmRleCAlIGNhcCk7CgogICAgICAgIGxldCBzbG90RGF0YSA9IHRoaXMuZW5zdXJlU2xvdChzbG90SW5kZXgpOwoKICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnVucGFja1Nsb3Qoc2xvdERhdGEpOwogICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gYXJyW3N1YkluZGV4XTsKCiAgICAgICAgaWYgKCF0aGlzLmVxKGN1cnJlbnREYXRhLCB0aGlzLmRlZmF1bHRWYWx1ZSkpIHsKICAgICAgICAgICAgYXJyW3N1YkluZGV4XSA9IHRoaXMuZGVmYXVsdFZhbHVlOwogICAgICAgICAgICBzbG90RGF0YSA9IHRoaXMucGFja1Nsb3QoYXJyKTsKCiAgICAgICAgICAgIHRoaXMuX3Nsb3RzLnNldChzbG90SW5kZXgsIHNsb3REYXRhKTsKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkLmFkZChzbG90SW5kZXgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fbGVuZ3RoIC09IDE7CiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCArPSAxOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZExlbmd0aCA9IHRydWU7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkU3RhcnRJbmRleCA9IHRydWU7CgogICAgICAgIHJldHVybiBjdXJyZW50RGF0YTsKICAgIH0KCiAgICAvKioKICAgICAqICJEZWxldGUiIGJ5IHplcm9pbmcgb3V0IHRoZSBlbGVtZW50IGF0IGBpbmRleGAsCiAgICAgKiBidXQgZG9lcyBub3QgcmVkdWNlIHRoZSBsZW5ndGguCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBkZWxldGUoaW5kZXg6IHU2NCk6IHZvaWQgewogICAgICAgIGNvbnN0IHJlYWxJbmRleCA9ICh0aGlzLl9zdGFydEluZGV4ICsgaW5kZXgpICUgdGhpcy5NQVhfTEVOR1RIOwogICAgICAgIGNvbnN0IGNhcCA9IHRoaXMuZ2V0U2xvdENhcGFjaXR5KCk7CiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gcmVhbEluZGV4IC8gY2FwOwogICAgICAgIGNvbnN0IHN1YkluZGV4ID0gPHUzMj4ocmVhbEluZGV4ICUgY2FwKTsKCiAgICAgICAgbGV0IHNsb3REYXRhID0gdGhpcy5lbnN1cmVTbG90KHNsb3RJbmRleCk7CiAgICAgICAgY29uc3QgYXJyID0gdGhpcy51bnBhY2tTbG90KHNsb3REYXRhKTsKCiAgICAgICAgY29uc3QgemVyb1ZhbCA9IHRoaXMuemVyb1ZhbHVlKCk7CiAgICAgICAgaWYgKCF0aGlzLmVxKGFycltzdWJJbmRleF0sIHplcm9WYWwpKSB7CiAgICAgICAgICAgIGFycltzdWJJbmRleF0gPSB6ZXJvVmFsOwogICAgICAgICAgICBzbG90RGF0YSA9IHRoaXMucGFja1Nsb3QoYXJyKTsKICAgICAgICAgICAgdGhpcy5fc2xvdHMuc2V0KHNsb3RJbmRleCwgc2xvdERhdGEpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogIkRlbGV0ZSIgYnkgemVyb2luZyBvdXQgdGhlIGVsZW1lbnQgYXQgYGluZGV4YCwKICAgICAqIGJ1dCBkb2VzIG5vdCByZWR1Y2UgdGhlIGxlbmd0aC4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGRlbGV0ZV9waHlzaWNhbChpbmRleDogdTY0KTogdm9pZCB7CiAgICAgICAgY29uc3QgY2FwID0gdGhpcy5nZXRTbG90Q2FwYWNpdHkoKTsKICAgICAgICBjb25zdCBzbG90SW5kZXggPSBpbmRleCAvIGNhcDsKICAgICAgICBjb25zdCBzdWJJbmRleCA9IDx1MzI+KGluZGV4ICUgY2FwKTsKCiAgICAgICAgbGV0IHNsb3REYXRhID0gdGhpcy5lbnN1cmVTbG90KHNsb3RJbmRleCk7CiAgICAgICAgY29uc3QgYXJyID0gdGhpcy51bnBhY2tTbG90KHNsb3REYXRhKTsKCiAgICAgICAgY29uc3QgemVyb1ZhbCA9IHRoaXMuemVyb1ZhbHVlKCk7CiAgICAgICAgaWYgKCF0aGlzLmVxKGFycltzdWJJbmRleF0sIHplcm9WYWwpKSB7CiAgICAgICAgICAgIGFycltzdWJJbmRleF0gPSB6ZXJvVmFsOwogICAgICAgICAgICBzbG90RGF0YSA9IHRoaXMucGFja1Nsb3QoYXJyKTsKICAgICAgICAgICAgdGhpcy5fc2xvdHMuc2V0KHNsb3RJbmRleCwgc2xvdERhdGEpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWQuYWRkKHNsb3RJbmRleCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmVtb3ZlIHRoZSBsYXN0IGVsZW1lbnQgYnkgemVyb2luZyBpdCBhbmQgZGVjcmVtZW50aW5nIGxlbmd0aCBieSAxLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgZGVsZXRlTGFzdCgpOiB2b2lkIHsKICAgICAgICBpZiAodGhpcy5fbGVuZ3RoID09IDApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJldmVydCgnZGVsZXRlTGFzdDogYXJyYXkgaXMgZW1wdHkgKHBhY2tlZCBhcnJheSknKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHRoaXMuX2xlbmd0aCAtIDE7CiAgICAgICAgdGhpcy5kZWxldGUobGFzdEluZGV4KTsKCiAgICAgICAgdGhpcy5fbGVuZ3RoIC09IDE7CiAgICAgICAgdGhpcy5faXNDaGFuZ2VkTGVuZ3RoID0gdHJ1ZTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgc2V0TXVsdGlwbGUoc3RhcnRJbmRleDogdTY0LCB2YWx1ZXM6IFRbXSk6IHZvaWQgewogICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0SW5kZXggKyA8dTY0PnZhbHVlcy5sZW5ndGg7CiAgICAgICAgaWYgKGVuZCA+IHRoaXMuX2xlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KCdzZXRNdWx0aXBsZTogb3V0IG9mIHJhbmdlIChwYWNrZWQgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLnNldChzdGFydEluZGV4ICsgPHU2ND5pLCB2YWx1ZXNbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gICAgICAgICAgICAgIFB1YmxpYyBBcnJheS1MaWtlIE1ldGhvZHMKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBAaW5saW5lCiAgICBwdWJsaWMgZ2V0QWxsKHN0YXJ0SW5kZXg6IHU2NCwgY291bnQ6IHU2NCk6IFRbXSB7CiAgICAgICAgaWYgKGNvdW50ID4gPHU2ND51MzIuTUFYX1ZBTFVFKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoJ2dldEFsbDogY291bnQgdG9vIGxhcmdlIChwYWNrZWQgYXJyYXkpJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBvdXQgPSBuZXcgQXJyYXk8VD4oPGkzMj5jb3VudCk7CiAgICAgICAgZm9yIChsZXQgaTogdTY0ID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgICAgb3V0WzxpMzI+aV0gPSB0aGlzLmdldChzdGFydEluZGV4ICsgaSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXRMZW5ndGgoKTogdTY0IHsKICAgICAgICByZXR1cm4gdGhpcy5fbGVuZ3RoOwogICAgfQoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzdGFydGluZ0luZGV4KCk6IHU2NCB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0SW5kZXg7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHNldFN0YXJ0aW5nSW5kZXgoaW5kZXg6IHU2NCk6IHZvaWQgewogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSBpbmRleDsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRTdGFydEluZGV4ID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiBzdHJpbmcgIlt2MCwgdjEsIC4uLl0iCiAgICAgKi8KICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcgewogICAgICAgIGxldCBzID0gJ1snOwogICAgICAgIGZvciAobGV0IGk6IHU2NCA9IDA7IGkgPCB0aGlzLl9sZW5ndGg7IGkrKykgewogICAgICAgICAgICBzICs9IGAke3RoaXMuZ2V0KGkpfWA7CiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5fbGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgcyArPSAnLCAnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHMgKz0gJ10nOwogICAgICAgIHJldHVybiBzOwogICAgfQoKICAgIHB1YmxpYyBzYXZlKCk6IHZvaWQgewogICAgICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9pc0NoYW5nZWQudmFsdWVzKCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IGNoYW5nZWRbaV07CiAgICAgICAgICAgIGNvbnN0IHNsb3REYXRhID0gdGhpcy5fc2xvdHMuZ2V0KHNsb3RJbmRleCk7CiAgICAgICAgICAgIGlmIChzbG90RGF0YSkgewogICAgICAgICAgICAgICAgY29uc3QgcHRyID0gdGhpcy5jYWxjdWxhdGVTdG9yYWdlUG9pbnRlcihzbG90SW5kZXgpOwogICAgICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQocHRyLCBzbG90RGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5jbGVhcigpOwoKICAgICAgICBpZiAodGhpcy5faXNDaGFuZ2VkTGVuZ3RoIHx8IHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXgpIHsKICAgICAgICAgICAgY29uc3QgZW5jb2RlZCA9IHdyaXRlTGVuZ3RoQW5kU3RhcnRJbmRleCh0aGlzLl9sZW5ndGgsIHRoaXMuX3N0YXJ0SW5kZXgpOwogICAgICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLmxlbmd0aFBvaW50ZXIsIGVuY29kZWQpOwogICAgICAgICAgICB0aGlzLl9pc0NoYW5nZWRMZW5ndGggPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5faXNDaGFuZ2VkU3RhcnRJbmRleCA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZGVsZXRlQWxsKCk6IHZvaWQgewogICAgICAgIGNvbnN0IGtleXMgPSB0aGlzLl9zbG90cy5rZXlzKCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IGtleXNbaV07CiAgICAgICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4KTsKICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQocHRyLCBHRVRfRU1QVFlfQlVGRkVSKCkpOyAvLyAzMiBieXRlcyBvZiB6ZXJvCiAgICAgICAgfQoKICAgICAgICAvLyBSZXNldCBsZW5ndGggKyBzdGFydEluZGV4CiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5sZW5ndGhQb2ludGVyLCBHRVRfRU1QVFlfQlVGRkVSKCkpOwoKICAgICAgICB0aGlzLl9sZW5ndGggPSAwOwogICAgICAgIHRoaXMuX3N0YXJ0SW5kZXggPSAwOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZExlbmd0aCA9IGZhbHNlOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXggPSBmYWxzZTsKICAgICAgICB0aGlzLl9zbG90cy5jbGVhcigpOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5jbGVhcigpOwogICAgfQoKICAgIC8qKgogICAgICogUmVzZXQgdGhlIGFycmF5IHRvIGl0cyBpbml0aWFsIHN0YXRlLgogICAgICovCiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7CiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDsKICAgICAgICB0aGlzLl9zdGFydEluZGV4ID0gMDsKICAgICAgICB0aGlzLl9pc0NoYW5nZWRMZW5ndGggPSB0cnVlOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZFN0YXJ0SW5kZXggPSB0cnVlOwoKICAgICAgICB0aGlzLl9zbG90cy5jbGVhcigpOwogICAgICAgIHRoaXMuX2lzQ2hhbmdlZC5jbGVhcigpOwoKICAgICAgICB0aGlzLnNhdmUoKTsKICAgIH0KCiAgICAvKiogTnVtYmVyIG9mIFQgaXRlbXMgdGhhdCBmaXQgaW4gb25lIDMyLWJ5dGUgc2xvdC4gKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRTbG90Q2FwYWNpdHkoKTogdTY0OwoKICAgIC8qKiBSZXR1cm4gdGhlICJ6ZXJvIiB2YWx1ZSBvZiB0eXBlIFQuICovCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgemVyb1ZhbHVlKCk6IFQ7CgogICAgLyoqIENvbXBhcmUgdHdvIFQgdmFsdWVzIGZvciBlcXVhbGl0eS4gKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBlcShhOiBULCBiOiBUKTogYm9vbDsKCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgLy8gICAgICAgICAgICAgICAgIFBlcnNpc3RlbmNlIChzYXZlLCByZXNldCwgZXRjLikKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLyoqCiAgICAgKiBQYWNrIGFuIGFycmF5IG9mIFQgKGxlbmd0aCA9IGdldFNsb3RDYXBhY2l0eSgpKSBpbnRvIGEgMzItYnl0ZSBidWZmZXIuCiAgICAgKi8KICAgIHByb3RlY3RlZCBhYnN0cmFjdCBwYWNrU2xvdCh2YWx1ZXM6IFRbXSk6IFVpbnQ4QXJyYXk7CgogICAgLyoqCiAgICAgKiBVbnBhY2sgYSAzMi1ieXRlIGJ1ZmZlciBpbnRvIGFuIGFycmF5IG9mIFQgKGxlbmd0aCA9IGdldFNsb3RDYXBhY2l0eSgpKS4KICAgICAqLwogICAgcHJvdGVjdGVkIGFic3RyYWN0IHVucGFja1Nsb3Qoc2xvdERhdGE6IFVpbnQ4QXJyYXkpOiBUW107CgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgc3RvcmFnZSBwb2ludGVyIGZvciBlYWNoIHNsb3QgaW5kZXguCiAgICAgKiBUeXBpY2FsbHkgImJhc2VQb2ludGVyICsgKHNsb3RJbmRleCsxKSIgaW4gYmlnLWVuZGlhbiBhZGRpdGlvbiwKICAgICAqIGJ1dCB5b3UgY2FuIGRvIHlvdXIgb3duIGFwcHJvYWNoLgogICAgICovCiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5OwoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyAgICAgICAgICAgICAgSW50ZXJuYWwgU2xvdC1Mb2FkaW5nIEhlbHBlcnMKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLyoqCiAgICAgKiBFbnN1cmUgdGhhdCBzbG90SW5kZXggaXMgbG9hZGVkIGludG8gX3Nsb3RzLiBJZiBtaXNzaW5nLCByZWFkIGZyb20gc3RvcmFnZS4KICAgICAqLwogICAgcHJvdGVjdGVkIGVuc3VyZVNsb3Qoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5IHsKICAgICAgICBpZiAoIXRoaXMuX3Nsb3RzLmhhcyhzbG90SW5kZXgpKSB7CiAgICAgICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4KTsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHB0cik7CgogICAgICAgICAgICAvLyBNdXN0IGJlIGV4YWN0bHkgMzIgYnl0ZXM7IGlmIGl0J3MgZW1wdHksIHlvdSBnZXQgMzIgemVybyBieXRlcyBmcm9tIEdFVF9FTVBUWV9CVUZGRVIoKQogICAgICAgICAgICB0aGlzLl9zbG90cy5zZXQoc2xvdEluZGV4LCBkYXRhKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLl9zbG90cy5nZXQoc2xvdEluZGV4KTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU128Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgdTEyOCB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IGJpZ0VuZGlhbkFkZCB9IGZyb20gJy4uLy4uL21hdGgvYnl0ZXMnOwoKLyoqCiAqIFN0b3JlZFUxMjhBcnJheQogKiAgLSAyIGl0ZW1zIG9mIHR5cGUgYHUxMjhgIGZpdCBpbiBvbmUgMzItYnl0ZSBzbG90LgogKiAgICAoRWFjaCB1MTI4IGlzIDE2IGJ5dGVzLikKICovCkBmaW5hbApleHBvcnQgY2xhc3MgU3RvcmVkVTEyOEFycmF5IGV4dGVuZHMgU3RvcmVkUGFja2VkQXJyYXk8dTEyOD4gewogICAgcHVibGljIGNvbnN0cnVjdG9yKHBvaW50ZXI6IHUxNiwgc3ViUG9pbnRlcjogVWludDhBcnJheSkgewogICAgICAgIHN1cGVyKHBvaW50ZXIsIHN1YlBvaW50ZXIsIHUxMjguWmVybyk7CiAgICB9CgogICAgcHJvdGVjdGVkIGdldFNsb3RDYXBhY2l0eSgpOiB1NjQgewogICAgICAgIHJldHVybiAyOyAvLyAyIHggdTEyOCA9PiAzMiBieXRlcwogICAgfQoKICAgIHByb3RlY3RlZCB6ZXJvVmFsdWUoKTogdTEyOCB7CiAgICAgICAgcmV0dXJuIHUxMjguWmVybzsgIC8vIGZyb20gdGhlIGFzLWJpZ251bSBsaWJyYXJ5CiAgICB9CgogICAgcHJvdGVjdGVkIGVxKGE6IHUxMjgsIGI6IHUxMjgpOiBib29sIHsKICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgfQoKICAgIHByb3RlY3RlZCBwYWNrU2xvdCh2YWx1ZXM6IHUxMjhbXSk6IFVpbnQ4QXJyYXkgewogICAgICAgIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KDMyKTsKICAgICAgICBjb25zdCBmaXJzdEJ5dGVzID0gdmFsdWVzWzBdLnRvQnl0ZXModHJ1ZSk7CiAgICAgICAgY29uc3Qgc2Vjb25kQnl0ZXMgPSB2YWx1ZXNbMV0udG9CeXRlcyh0cnVlKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHsKICAgICAgICAgICAgb3V0W2ldID0gZmlyc3RCeXRlc1tpXTsKICAgICAgICB9CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgICAgICAgICBvdXRbMTYgKyBpXSA9IHNlY29uZEJ5dGVzW2ldOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdW5wYWNrU2xvdChzbG90RGF0YTogVWludDhBcnJheSk6IHUxMjhbXSB7CiAgICAgICAgLy8gc2xvdERhdGEubGVuZ3RoID09IDMyCiAgICAgICAgY29uc3QgZmlyc3QgPSBuZXcgVWludDhBcnJheSgxNik7CiAgICAgICAgY29uc3Qgc2Vjb25kID0gbmV3IFVpbnQ4QXJyYXkoMTYpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgICAgICAgICBmaXJzdFtpXSA9IHNsb3REYXRhW2ldOwogICAgICAgIH0KCiAgICAgICAgZm9yIChsZXQgaSA9IDE2OyBpIDwgMzI7IGkrKykgewogICAgICAgICAgICBzZWNvbmRbaSAtIDE2XSA9IHNsb3REYXRhW2ldOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdmFsMCA9IHUxMjguZnJvbVVpbnQ4QXJyYXlCRShmaXJzdCk7CiAgICAgICAgY29uc3QgdmFsMSA9IHUxMjguZnJvbVVpbnQ4QXJyYXlCRShzZWNvbmQpOwoKICAgICAgICByZXR1cm4gW3ZhbDAsIHZhbDFdOwogICAgfQoKICAgIHByb3RlY3RlZCBjYWxjdWxhdGVTdG9yYWdlUG9pbnRlcihzbG90SW5kZXg6IHU2NCk6IFVpbnQ4QXJyYXkgewogICAgICAgIHJldHVybiBiaWdFbmRpYW5BZGQodGhpcy5iYXNlUG9pbnRlciwgc2xvdEluZGV4KTsKICAgIH0KfQ==",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU16Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgYmlnRW5kaWFuQWRkIH0gZnJvbSAnLi4vLi4vbWF0aC9ieXRlcyc7CgovKioKICogRWFjaCAzMi1ieXRlIHNsb3QgY2FuIHN0b3JlIDE2IHUxNiB2YWx1ZXMgKDIgYnl0ZXMgZWFjaCkuCiAqLwpAZmluYWwKZXhwb3J0IGNsYXNzIFN0b3JlZFUxNkFycmF5IGV4dGVuZHMgU3RvcmVkUGFja2VkQXJyYXk8dTE2PiB7CiAgICBwdWJsaWMgY29uc3RydWN0b3IocG9pbnRlcjogdTE2LCBzdWJQb2ludGVyOiBVaW50OEFycmF5KSB7CiAgICAgICAgc3VwZXIocG9pbnRlciwgc3ViUG9pbnRlciwgMCk7CiAgICB9CgogICAgcHJvdGVjdGVkIGdldFNsb3RDYXBhY2l0eSgpOiB1NjQgewogICAgICAgIHJldHVybiAxNjsgLy8gMTYgeCB1MTYgPSAzMiBieXRlcwogICAgfQoKICAgIHByb3RlY3RlZCB6ZXJvVmFsdWUoKTogdTE2IHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZXEoYTogdTE2LCBiOiB1MTYpOiBib29sIHsKICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgfQoKICAgIC8qKgogICAgICogUGFjayBhbiBhcnJheSBvZiAxNiB1MTZzIGludG8gYSAzMi1ieXRlIGJ1ZmZlci4KICAgICAqLwogICAgcHJvdGVjdGVkIHBhY2tTbG90KHZhbHVlczogdTE2W10pOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheSgzMik7CiAgICAgICAgbGV0IG9mZnNldCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIG91dFtvZmZzZXRdID0gPHU4PigodiA+PiA4KSAmIDB4ZmYpOyAgIC8vIGhpZ2ggYnl0ZQogICAgICAgICAgICBvdXRbb2Zmc2V0ICsgMV0gPSA8dTg+KHYgJiAweGZmKTsgICAgICAgICAvLyBsb3cgYnl0ZQogICAgICAgICAgICBvZmZzZXQgKz0gMjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCiAgICAvKioKICAgICAqIFVucGFjayBhIDMyLWJ5dGUgYnVmZmVyIGludG8gYW4gYXJyYXkgb2YgMTYgdTE2LgogICAgICovCiAgICBwcm90ZWN0ZWQgdW5wYWNrU2xvdChzbG90RGF0YTogVWludDhBcnJheSk6IHUxNltdIHsKICAgICAgICBjb25zdCBvdXQgPSBuZXcgQXJyYXk8dTE2PigxNik7CiAgICAgICAgbGV0IG9mZnNldCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGhpID0gc2xvdERhdGFbb2Zmc2V0XTsKICAgICAgICAgICAgY29uc3QgbG8gPSBzbG90RGF0YVtvZmZzZXQgKyAxXTsKICAgICAgICAgICAgb3V0W2ldID0gKChoaSA8PCA4KSB8IGxvKSBhcyB1MTY7CiAgICAgICAgICAgIG9mZnNldCArPSAyOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIHByb3RlY3RlZCBjYWxjdWxhdGVTdG9yYWdlUG9pbnRlcihzbG90SW5kZXg6IHU2NCk6IFVpbnQ4QXJyYXkgewogICAgICAgIHJldHVybiBiaWdFbmRpYW5BZGQodGhpcy5iYXNlUG9pbnRlciwgc2xvdEluZGV4KTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU256Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IGJpZ0VuZGlhbkFkZCB9IGZyb20gJy4uLy4uL21hdGgvYnl0ZXMnOwoKLyoqCiAqIFN0b3JlZFUyNTZBcnJheQogKiAgLSAxIGl0ZW0gb2YgdHlwZSBgdTI1NmAgZml0cyBpbiBvbmUgMzItYnl0ZSBzbG90LgogKi8KQGZpbmFsCmV4cG9ydCBjbGFzcyBTdG9yZWRVMjU2QXJyYXkgZXh0ZW5kcyBTdG9yZWRQYWNrZWRBcnJheTx1MjU2PiB7CiAgICBwdWJsaWMgY29uc3RydWN0b3IocG9pbnRlcjogdTE2LCBzdWJQb2ludGVyOiBVaW50OEFycmF5KSB7CiAgICAgICAgc3VwZXIocG9pbnRlciwgc3ViUG9pbnRlciwgdTI1Ni5aZXJvKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZ2V0U2xvdENhcGFjaXR5KCk6IHU2NCB7CiAgICAgICAgcmV0dXJuIDE7IC8vIDEgeCB1MjU2ID0+IDMyIGJ5dGVzCiAgICB9CgogICAgcHJvdGVjdGVkIHplcm9WYWx1ZSgpOiB1MjU2IHsKICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgfQoKICAgIHByb3RlY3RlZCBlcShhOiB1MjU2LCBiOiB1MjU2KTogYm9vbCB7CiAgICAgICAgcmV0dXJuIGEgPT0gYjsKICAgIH0KCiAgICBwcm90ZWN0ZWQgcGFja1Nsb3QodmFsdWVzOiB1MjU2W10pOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gdmFsdWVzWzBdLnRvVWludDhBcnJheSh0cnVlKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgdW5wYWNrU2xvdChzbG90RGF0YTogVWludDhBcnJheSk6IHUyNTZbXSB7CiAgICAgICAgY29uc3QgdmFsID0gdTI1Ni5mcm9tQnl0ZXMoc2xvdERhdGEsIHRydWUpOwogICAgICAgIHJldHVybiBbdmFsXTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gYmlnRW5kaWFuQWRkKHRoaXMuYmFzZVBvaW50ZXIsIHNsb3RJbmRleCk7CiAgICB9Cn0=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU32Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgYmlnRW5kaWFuQWRkIH0gZnJvbSAnLi4vLi4vbWF0aC9ieXRlcyc7CgovKioKICogU3RvcmVkVTMyQXJyYXkKICogIC0gOCBpdGVtcyBvZiB0eXBlIGB1MzJgIGZpdCBpbiBvbmUgMzItYnl0ZSBzbG90LgogKi8KQGZpbmFsCmV4cG9ydCBjbGFzcyBTdG9yZWRVMzJBcnJheSBleHRlbmRzIFN0b3JlZFBhY2tlZEFycmF5PHUzMj4gewogICAgcHVibGljIGNvbnN0cnVjdG9yKHBvaW50ZXI6IHUxNiwgc3ViUG9pbnRlcjogVWludDhBcnJheSkgewogICAgICAgIHN1cGVyKHBvaW50ZXIsIHN1YlBvaW50ZXIsIDApOwogICAgfQoKICAgIHByb3RlY3RlZCBnZXRTbG90Q2FwYWNpdHkoKTogdTY0IHsKICAgICAgICByZXR1cm4gODsgLy8gOCB4IHUzMiA9PiAzMiBieXRlcwogICAgfQoKICAgIHByb3RlY3RlZCB6ZXJvVmFsdWUoKTogdTMyIHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZXEoYTogdTMyLCBiOiB1MzIpOiBib29sIHsKICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgfQoKICAgIHByb3RlY3RlZCBwYWNrU2xvdCh2YWx1ZXM6IHUzMltdKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoMzIpOwogICAgICAgIGxldCBvZmZzZXQgPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIG91dFtvZmZzZXRdID0gPHU4PigodiA+PiAyNCkgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDFdID0gPHU4PigodiA+PiAxNikgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDJdID0gPHU4PigodiA+PiA4KSAmIDB4ZmYpOwogICAgICAgICAgICBvdXRbb2Zmc2V0ICsgM10gPSA8dTg+KHYgJiAweGZmKTsKICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvdXQ7CiAgICB9CgogICAgcHJvdGVjdGVkIHVucGFja1Nsb3Qoc2xvdERhdGE6IFVpbnQ4QXJyYXkpOiB1MzJbXSB7CiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEFycmF5PHUzMj4oOCk7CiAgICAgICAgbGV0IG9mZnNldCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHsKICAgICAgICAgICAgY29uc3QgYjAgPSBzbG90RGF0YVtvZmZzZXRdOwogICAgICAgICAgICBjb25zdCBiMSA9IHNsb3REYXRhW29mZnNldCArIDFdOwogICAgICAgICAgICBjb25zdCBiMiA9IHNsb3REYXRhW29mZnNldCArIDJdOwogICAgICAgICAgICBjb25zdCBiMyA9IHNsb3REYXRhW29mZnNldCArIDNdOwogICAgICAgICAgICBvdXRbaV0gPSAoKDx1MzI+YjAgPDwgMjQpIHwgKDx1MzI+YjEgPDwgMTYpIHwgKDx1MzI+YjIgPDwgOCkgfCBiMykgYXMgdTMyOwogICAgICAgICAgICBvZmZzZXQgKz0gNDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gYmlnRW5kaWFuQWRkKHRoaXMuYmFzZVBvaW50ZXIsIHNsb3RJbmRleCk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU64Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgYmlnRW5kaWFuQWRkIH0gZnJvbSAnLi4vLi4vbWF0aC9ieXRlcyc7CgovKioKICogU3RvcmVkVTY0QXJyYXkKICogIC0gNCBpdGVtcyBvZiB0eXBlIGB1NjRgIGZpdCBpbiBvbmUgMzItYnl0ZSBzbG90LgogKi8KQGZpbmFsCmV4cG9ydCBjbGFzcyBTdG9yZWRVNjRBcnJheSBleHRlbmRzIFN0b3JlZFBhY2tlZEFycmF5PHU2ND4gewogICAgcHVibGljIGNvbnN0cnVjdG9yKHBvaW50ZXI6IHUxNiwgc3ViUG9pbnRlcjogVWludDhBcnJheSkgewogICAgICAgIHN1cGVyKHBvaW50ZXIsIHN1YlBvaW50ZXIsIDApOwogICAgfQoKICAgIHByb3RlY3RlZCBnZXRTbG90Q2FwYWNpdHkoKTogdTY0IHsKICAgICAgICByZXR1cm4gNDsgLy8gNCB4IHU2NCA9PiAzMiBieXRlcwogICAgfQoKICAgIHByb3RlY3RlZCB6ZXJvVmFsdWUoKTogdTY0IHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZXEoYTogdTY0LCBiOiB1NjQpOiBib29sIHsKICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgfQoKICAgIHByb3RlY3RlZCBwYWNrU2xvdCh2YWx1ZXM6IHU2NFtdKTogVWludDhBcnJheSB7CiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoMzIpOwogICAgICAgIGxldCBvZmZzZXQgPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IHYgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIG91dFtvZmZzZXRdID0gPHU4PigodiA+PiA1NikgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDFdID0gPHU4PigodiA+PiA0OCkgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDJdID0gPHU4PigodiA+PiA0MCkgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDNdID0gPHU4PigodiA+PiAzMikgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDRdID0gPHU4PigodiA+PiAyNCkgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDVdID0gPHU4PigodiA+PiAxNikgJiAweGZmKTsKICAgICAgICAgICAgb3V0W29mZnNldCArIDZdID0gPHU4PigodiA+PiA4KSAmIDB4ZmYpOwogICAgICAgICAgICBvdXRbb2Zmc2V0ICsgN10gPSA8dTg+KHYgJiAweGZmKTsKICAgICAgICAgICAgb2Zmc2V0ICs9IDg7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvdXQ7CiAgICB9CgogICAgcHJvdGVjdGVkIHVucGFja1Nsb3Qoc2xvdERhdGE6IFVpbnQ4QXJyYXkpOiB1NjRbXSB7CiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEFycmF5PHU2ND4oNCk7CiAgICAgICAgbGV0IG9mZnNldCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgICAgY29uc3QgYjAgPSA8dTY0PnNsb3REYXRhW29mZnNldF07CiAgICAgICAgICAgIGNvbnN0IGIxID0gPHU2ND5zbG90RGF0YVtvZmZzZXQgKyAxXTsKICAgICAgICAgICAgY29uc3QgYjIgPSA8dTY0PnNsb3REYXRhW29mZnNldCArIDJdOwogICAgICAgICAgICBjb25zdCBiMyA9IDx1NjQ+c2xvdERhdGFbb2Zmc2V0ICsgM107CiAgICAgICAgICAgIGNvbnN0IGI0ID0gPHU2ND5zbG90RGF0YVtvZmZzZXQgKyA0XTsKICAgICAgICAgICAgY29uc3QgYjUgPSA8dTY0PnNsb3REYXRhW29mZnNldCArIDVdOwogICAgICAgICAgICBjb25zdCBiNiA9IDx1NjQ+c2xvdERhdGFbb2Zmc2V0ICsgNl07CiAgICAgICAgICAgIGNvbnN0IGI3ID0gPHU2ND5zbG90RGF0YVtvZmZzZXQgKyA3XTsKICAgICAgICAgICAgb3V0W2ldID0gKGIwIDw8IDU2KSB8IChiMSA8PCA0OCkgfCAoYjIgPDwgNDApIHwgKGIzIDw8IDMyKSB8CiAgICAgICAgICAgICAgICAoYjQgPDwgMjQpIHwgKGI1IDw8IDE2KSB8IChiNiA8PCA4KSB8IGI3OwogICAgICAgICAgICBvZmZzZXQgKz0gODsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG91dDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlU3RvcmFnZVBvaW50ZXIoc2xvdEluZGV4OiB1NjQpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gYmlnRW5kaWFuQWRkKHRoaXMuYmFzZVBvaW50ZXIsIHNsb3RJbmRleCk7CiAgICB9Cn0=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/arrays/StoredU8Array.ts": "aW1wb3J0IHsgU3RvcmVkUGFja2VkQXJyYXkgfSBmcm9tICcuL1N0b3JlZFBhY2tlZEFycmF5JzsKaW1wb3J0IHsgYmlnRW5kaWFuQWRkIH0gZnJvbSAnLi4vLi4vbWF0aC9ieXRlcyc7CgovKioKICogU3RvcmVkVThBcnJheQogKiAgLSAzMiBpdGVtcyBvZiB0eXBlIGB1OGAgZml0IGluIG9uZSAzMi1ieXRlIHNsb3QuCiAqLwpAZmluYWwKZXhwb3J0IGNsYXNzIFN0b3JlZFU4QXJyYXkgZXh0ZW5kcyBTdG9yZWRQYWNrZWRBcnJheTx1OD4gewogICAgcHVibGljIGNvbnN0cnVjdG9yKHBvaW50ZXI6IHUxNiwgc3ViUG9pbnRlcjogVWludDhBcnJheSkgewogICAgICAgIHN1cGVyKHBvaW50ZXIsIHN1YlBvaW50ZXIsIDApOwogICAgfQoKICAgIHByb3RlY3RlZCBnZXRTbG90Q2FwYWNpdHkoKTogdTY0IHsKICAgICAgICByZXR1cm4gMzI7IC8vIDMyIGJ5dGVzID0+IDMyIHggdTgKICAgIH0KCiAgICBwcm90ZWN0ZWQgemVyb1ZhbHVlKCk6IHU4IHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZXEoYTogdTgsIGI6IHU4KTogYm9vbCB7CiAgICAgICAgcmV0dXJuIGEgPT0gYjsKICAgIH0KCiAgICBwcm90ZWN0ZWQgcGFja1Nsb3QodmFsdWVzOiB1OFtdKTogVWludDhBcnJheSB7CiAgICAgICAgLy8gdmFsdWVzLmxlbmd0aCA9PSAzMgogICAgICAgIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KDMyKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspIHsKICAgICAgICAgICAgb3V0W2ldID0gdmFsdWVzW2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIHByb3RlY3RlZCB1bnBhY2tTbG90KHNsb3REYXRhOiBVaW50OEFycmF5KTogdThbXSB7CiAgICAgICAgLy8gc2xvdERhdGEubGVuZ3RoID09IDMyCiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEFycmF5PHU4PigzMik7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMjsgaSsrKSB7CiAgICAgICAgICAgIG91dFtpXSA9IHNsb3REYXRhW2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIHByb3RlY3RlZCBjYWxjdWxhdGVTdG9yYWdlUG9pbnRlcihzbG90SW5kZXg6IHU2NCk6IFVpbnQ4QXJyYXkgewogICAgICAgIC8vIGJhc2VQb2ludGVyICsgKHNsb3RJbmRleCsxKSBpbiBiaWctZW5kaWFuCiAgICAgICAgcmV0dXJuIGJpZ0VuZGlhbkFkZCh0aGlzLmJhc2VQb2ludGVyLCBzbG90SW5kZXgpOwogICAgfQp9",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/StoredAddress.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXIgfSBmcm9tICcuLi9tYXRoL2FiaSc7CmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICcuLi90eXBlcy9BZGRyZXNzJzsKaW1wb3J0IHsgRU1QVFlfUE9JTlRFUiB9IGZyb20gJy4uL21hdGgvYnl0ZXMnOwppbXBvcnQgeyBlcVVpbnQgfSBmcm9tICcuLi9nZW5lcmljL01hcFVpbnQ4QXJyYXknOwoKLyoqCiAqIERlZmF1bHQgaXMgQWRkcmVzcy5kZWFkKCk7CiAqLwpAZmluYWwKZXhwb3J0IGNsYXNzIFN0b3JlZEFkZHJlc3MgewogICAgcHJpdmF0ZSByZWFkb25seSBhZGRyZXNzUG9pbnRlcjogVWludDhBcnJheTsKCiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcG9pbnRlcjogdTE2KSB7CiAgICAgICAgdGhpcy5hZGRyZXNzUG9pbnRlciA9IGVuY29kZVBvaW50ZXIocG9pbnRlciwgRU1QVFlfUE9JTlRFUik7CiAgICB9CgogICAgcHJpdmF0ZSBfdmFsdWU6IEFkZHJlc3MgPSBBZGRyZXNzLmRlYWQoKTsKCiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IEFkZHJlc3MgewogICAgICAgIHRoaXMuZW5zdXJlVmFsdWUoKTsKCiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBzZXQgdmFsdWUodmFsdWU6IEFkZHJlc3MpIHsKICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTsKCiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5hZGRyZXNzUG9pbnRlciwgdGhpcy5fdmFsdWUpOwogICAgfQoKICAgIHB1YmxpYyBpc0RlYWQoKTogYm9vbCB7CiAgICAgICAgcmV0dXJuIGVxVWludChBZGRyZXNzLmRlYWQoKSwgdGhpcy52YWx1ZSk7CiAgICB9CgogICAgcHJpdmF0ZSBlbnN1cmVWYWx1ZSgpOiB2b2lkIHsKICAgICAgICBjb25zdCB2YWx1ZSA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHRoaXMuYWRkcmVzc1BvaW50ZXIpOwogICAgICAgIHRoaXMuX3ZhbHVlLnNldCh2YWx1ZSk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/StoredBoolean.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IEdFVF9FTVBUWV9CVUZGRVIgfSBmcm9tICcuLi9tYXRoL2J5dGVzJzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi4vdHlwZXMvUmV2ZXJ0JzsKCkBmaW5hbApleHBvcnQgY2xhc3MgU3RvcmVkQm9vbGVhbiB7CiAgICBwcml2YXRlIHJlYWRvbmx5IHBvaW50ZXJCdWZmZXI6IFVpbnQ4QXJyYXk7CgogICAgY29uc3RydWN0b3IoCiAgICAgICAgcHVibGljIHBvaW50ZXI6IHUxNiwKICAgICAgICBkZWZhdWx0VmFsdWU6IGJvb2wsCiAgICApIHsKICAgICAgICBjb25zdCBwb2ludGVyQnVmZmVyID0gR0VUX0VNUFRZX0JVRkZFUigpOwogICAgICAgIHBvaW50ZXJCdWZmZXJbMF0gPSBwb2ludGVyICYgMjU1OwogICAgICAgIHBvaW50ZXJCdWZmZXJbMV0gPSAocG9pbnRlciA8PCA4KSAmIDI1NTsKCiAgICAgICAgdGhpcy5wb2ludGVyQnVmZmVyID0gcG9pbnRlckJ1ZmZlcjsKCiAgICAgICAgY29uc3QgdmFsdWUgPSBHRVRfRU1QVFlfQlVGRkVSKCk7CiAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkgewogICAgICAgICAgICB2YWx1ZVswXSA9IDE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlOwogICAgfQoKICAgIHByaXZhdGUgX3ZhbHVlOiBVaW50OEFycmF5OwoKICAgIEBpbmxpbmUKICAgIHB1YmxpYyBnZXQgdmFsdWUoKTogYm9vbCB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVbMF0gPT09IDE7CiAgICB9CgogICAgcHVibGljIHNldCB2YWx1ZSh2YWx1ZTogYm9vbCkgewogICAgICAgIHRoaXMuX3ZhbHVlWzBdID0gdmFsdWUgPyAxIDogMDsKCiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5wb2ludGVyQnVmZmVyLCB0aGlzLl92YWx1ZSk7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHRvVWludDhBcnJheSgpOiBVaW50OEFycmF5IHsKICAgICAgICBpZiAoIXRoaXMuX3ZhbHVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBSZXZlcnQoYE5vdCBkZWZpbmVkLmApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlOwogICAgfQoKICAgIHByaXZhdGUgZW5zdXJlVmFsdWUoKTogdm9pZCB7CiAgICAgICAgdGhpcy5fdmFsdWUgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdCgKICAgICAgICAgICAgdGhpcy5wb2ludGVyQnVmZmVyLAogICAgICAgICk7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/StoredString.ts": "aW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXIgfSBmcm9tICcuLi9tYXRoL2FiaSc7CmltcG9ydCB7IGJpZ0VuZGlhbkFkZCB9IGZyb20gJy4uL21hdGgvYnl0ZXMnOwppbXBvcnQgeyBSZXZlcnQgfSBmcm9tICcuLi90eXBlcy9SZXZlcnQnOwppbXBvcnQgeyB1MjU2IH0gZnJvbSAnQGJ0Yy12aXNpb24vYXMtYmlnbnVtL2Fzc2VtYmx5JzsKaW1wb3J0IHsgU2FmZU1hdGggfSBmcm9tICcuLi90eXBlcy9TYWZlTWF0aCc7Cgpjb25zdCBNQVhfTEVOR1RIID0gPHUzMj51MTYuTUFYX1ZBTFVFOwpjb25zdCBNQVhfTEVOR1RIX1UyNTYgPSB1MjU2LmZyb21VMzIoPHUzMj5NQVhfTEVOR1RIKTsKCi8qKgogKiBAY2xhc3MgU3RvcmVkU3RyaW5nCiAqIEBkZXNjcmlwdGlvbgogKiBTdG9yZXMgYSBzdHJpbmcgaW4gYSBzZXF1ZW5jZSBvZiAzMi1ieXRlIHN0b3JhZ2Ugc2xvdHMsIGluIFVURi04IGZvcm1hdDoKICogIC0gU2xvdCAwOiBmaXJzdCA0IGJ5dGVzID0gbGVuZ3RoIChiaWctZW5kaWFuKSwgbmV4dCAyOCBieXRlcyA9IHBhcnRpYWwgZGF0YQogKiAgLSBTbG90IE4+MDogMzIgYnl0ZXMgb2YgZGF0YSBlYWNoCiAqCiAqIFRoZSBtYXhpbXVtIGlzIDY1LDUzNSBieXRlcyBpbiBVVEYtOCBmb3JtIChub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgYXMgY29kZSBwb2ludHMpLgogKi8KQGZpbmFsCmV4cG9ydCBjbGFzcyBTdG9yZWRTdHJpbmcgewogICAgcHJpdmF0ZSByZWFkb25seSBzdWJQb2ludGVyOiBVaW50OEFycmF5OwoKICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBwb2ludGVyOiB1MTYsIGluZGV4OiB1NjQgPSAwKSB7CiAgICAgICAgY29uc3QgaW5kZXhlZCA9IFNhZmVNYXRoLm11bCh1MjU2LmZyb21VNjQoaW5kZXgpLCBNQVhfTEVOR1RIX1UyNTYpOwogICAgICAgIHRoaXMuc3ViUG9pbnRlciA9IGluZGV4ZWQudG9VaW50OEFycmF5KHRydWUpLnNsaWNlKDAsIDMwKTsKICAgIH0KCiAgICBwcml2YXRlIF92YWx1ZTogc3RyaW5nID0gJyc7CgogICAgLyoqCiAgICAgKiBDYWNoZWQgc3RyaW5nIHZhbHVlLiBJZiBgX3ZhbHVlYCBpcyBlbXB0eSwgd2UgY2FsbCBgbG9hZCgpYCBvbiBmaXJzdCBhY2Nlc3MuCiAgICAgKi8KICAgIHB1YmxpYyBnZXQgdmFsdWUoKTogc3RyaW5nIHsKICAgICAgICBpZiAoIXRoaXMuX3ZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMubG9hZCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7CiAgICB9CgogICAgcHVibGljIHNldCB2YWx1ZSh2OiBzdHJpbmcpIHsKICAgICAgICB0aGlzLl92YWx1ZSA9IHY7CgogICAgICAgIHRoaXMuc2F2ZSgpOwogICAgfQoKICAgIC8qKgogICAgICogRGVyaXZlcyBhIDMyLWJ5dGUgcG9pbnRlciBmb3IgdGhlIGdpdmVuIGNodW5rSW5kZXggYW5kIHBlcmZvcm1zIGJpZy1lbmRpYW4gYWRkaXRpb24uCiAgICAgKiBjaHVua0luZGV4PTAgPT4gaGVhZGVyIHNsb3QsIDEgPT4gc2Vjb25kIHNsb3QsIGV0Yy4KICAgICAqLwogICAgcHJpdmF0ZSBnZXRQb2ludGVyKGNodW5rSW5kZXg6IHU2NCk6IFVpbnQ4QXJyYXkgewogICAgICAgIGNvbnN0IGJhc2UgPSBlbmNvZGVQb2ludGVyKHRoaXMucG9pbnRlciwgdGhpcy5zdWJQb2ludGVyKTsKICAgICAgICByZXR1cm4gYmlnRW5kaWFuQWRkKGJhc2UsIGNodW5rSW5kZXgpOwogICAgfQoKICAgIC8qKgogICAgICogUmVhZHMgdGhlIGZpcnN0IHNsb3QgYW5kIHJldHVybnMgdGhlIHN0b3JlZCBieXRlIGxlbmd0aCAoYmlnLWVuZGlhbikuCiAgICAgKiBSZXR1cm5zIDAgaWYgdGhlIHNsb3QgaXMgYWxsIHplcm8uCiAgICAgKi8KICAgIHByaXZhdGUgZ2V0U3RvcmVkTGVuZ3RoKCk6IHUzMiB7CiAgICAgICAgY29uc3QgaGVhZGVyU2xvdCA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHRoaXMuZ2V0UG9pbnRlcigwKSk7CiAgICAgICAgY29uc3QgYjAgPSA8dTMyPmhlYWRlclNsb3RbMF07CiAgICAgICAgY29uc3QgYjEgPSA8dTMyPmhlYWRlclNsb3RbMV07CiAgICAgICAgY29uc3QgYjIgPSA8dTMyPmhlYWRlclNsb3RbMl07CiAgICAgICAgY29uc3QgYjMgPSA8dTMyPmhlYWRlclNsb3RbM107CiAgICAgICAgcmV0dXJuIChiMCA8PCAyNCkgfCAoYjEgPDwgMTYpIHwgKGIyIDw8IDgpIHwgYjM7CiAgICB9CgogICAgLyoqCiAgICAgKiBDbGVhcnMgb2xkIGRhdGEgZnJvbSBzdG9yYWdlLiBCYXNlZCBvbiBgb2xkTGVuZ3RoYCwgZGV0ZXJtaW5lcyBob3cgbWFueSBzbG90cwogICAgICogd2VyZSB1c2VkLCBhbmQgd3JpdGVzIHplcm9lZCAzMi1ieXRlIGFycmF5cyB0byBlYWNoLgogICAgICovCiAgICBwcml2YXRlIGNsZWFyT2xkU3RvcmFnZShvbGRMZW5ndGg6IHUzMik6IHZvaWQgewogICAgICAgIGlmIChvbGRMZW5ndGggPT0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBXZSBhbHdheXMgdXNlIGF0IGxlYXN0IDEgc2xvdCAodGhlIGhlYWRlciBzbG90KS4KICAgICAgICBsZXQgY2h1bmtDb3VudDogdTY0ID0gMTsKCiAgICAgICAgLy8gSW4gdGhlIGhlYWRlciBzbG90LCB3ZSBjYW4gc3RvcmUgdXAgdG8gMjggYnl0ZXMgb2YgZGF0YS4KICAgICAgICBjb25zdCByZW1haW5pbmcgPSBvbGRMZW5ndGggPiAyOCA/IG9sZExlbmd0aCAtIDI4IDogMDsKICAgICAgICBpZiAocmVtYWluaW5nID4gMCkgewogICAgICAgICAgICAvLyBFYWNoIGFkZGl0aW9uYWwgY2h1bmsgaXMgMzIgYnl0ZXMuCiAgICAgICAgICAgIC8vIFVzZSBpbnRlZ2VyIG1hdGggY2VpbGluZzogKHJlbWFpbmluZyArIDMyIC0gMSkgLyAzMgogICAgICAgICAgICBjaHVua0NvdW50ICs9IChyZW1haW5pbmcgKyAzMiAtIDEpIC8gMzI7CiAgICAgICAgfQoKICAgICAgICAvLyBaZXJvIG91dCBlYWNoIHByZXZpb3VzbHkgdXNlZCBzbG90CiAgICAgICAgZm9yIChsZXQgaTogdTY0ID0gMDsgaSA8IGNodW5rQ291bnQ7IGkrKykgewogICAgICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLmdldFBvaW50ZXIoaSksIG5ldyBVaW50OEFycmF5KDMyKSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogU2F2ZXMgdGhlIGN1cnJlbnQgc3RyaW5nIHRvIHN0b3JhZ2UgaW4gVVRGLTggZm9ybS4KICAgICAqLwogICAgcHJpdmF0ZSBzYXZlKCk6IHZvaWQgewogICAgICAgIC8vIDEpIENsZWFyIG9sZCBkYXRhCiAgICAgICAgY29uc3Qgb2xkTGVuID0gdGhpcy5nZXRTdG9yZWRMZW5ndGgoKTsKICAgICAgICB0aGlzLmNsZWFyT2xkU3RvcmFnZShvbGRMZW4pOwoKICAgICAgICAvLyAyKSBFbmNvZGUgbmV3IHN0cmluZyBhcyBVVEYtOAogICAgICAgIGNvbnN0IHV0ZjhEYXRhID0gU3RyaW5nLlVURjguZW5jb2RlKHRoaXMuX3ZhbHVlLCBmYWxzZSk7CiAgICAgICAgY29uc3QgbGVuZ3RoID0gPHUzMj51dGY4RGF0YS5ieXRlTGVuZ3RoOwoKICAgICAgICAvLyBFbmZvcmNlIG1heCBsZW5ndGgKICAgICAgICBpZiAobGVuZ3RoID4gTUFYX0xFTkdUSCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBTdG9yZWRTdHJpbmc6IHZhbHVlIGlzIHRvbyBsb25nIChtYXg9JHtNQVhfTEVOR1RIfSlgKTsKICAgICAgICB9CgogICAgICAgIC8vIDMpIElmIG5ldyBzdHJpbmcgaXMgZW1wdHksIGp1c3Qgc3RvcmUgYSB6ZXJvZWQgaGVhZGVyIGFuZCByZXR1cm4KICAgICAgICBpZiAobGVuZ3RoID09IDApIHsKICAgICAgICAgICAgLy8gQSB6ZXJvZWQgMzItYnl0ZSBhcnJheSA9PiBpbmRpY2F0ZXMgbGVuZ3RoPTAKICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5nZXRQb2ludGVyKDApLCBuZXcgVWludDhBcnJheSgzMikpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyA0KSBXcml0ZSB0aGUgZmlyc3Qgc2xvdDogbGVuZ3RoICsgdXAgdG8gMjggYnl0ZXMKICAgICAgICBsZXQgcmVtYWluaW5nOiB1MzIgPSBsZW5ndGg7CiAgICAgICAgbGV0IG9mZnNldDogdTMyID0gMDsKICAgICAgICBjb25zdCBmaXJzdFNsb3QgPSBuZXcgVWludDhBcnJheSgzMik7CiAgICAgICAgZmlyc3RTbG90WzBdID0gPHU4PigobGVuZ3RoID4+IDI0KSAmIDB4ZmYpOwogICAgICAgIGZpcnN0U2xvdFsxXSA9IDx1OD4oKGxlbmd0aCA+PiAxNikgJiAweGZmKTsKICAgICAgICBmaXJzdFNsb3RbMl0gPSA8dTg+KChsZW5ndGggPj4gOCkgJiAweGZmKTsKICAgICAgICBmaXJzdFNsb3RbM10gPSA8dTg+KGxlbmd0aCAmIDB4ZmYpOwoKICAgICAgICBjb25zdCBieXRlcyA9IFVpbnQ4QXJyYXkud3JhcCh1dGY4RGF0YSk7CiAgICAgICAgY29uc3QgZmlyc3RDaHVua1NpemUgPSByZW1haW5pbmcgPCAyOCA/IHJlbWFpbmluZyA6IDI4OwogICAgICAgIGZvciAobGV0IGk6IHUzMiA9IDA7IGkgPCBmaXJzdENodW5rU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgIGZpcnN0U2xvdFs0ICsgaV0gPSBieXRlc1tpXTsKICAgICAgICB9CiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5nZXRQb2ludGVyKDApLCBmaXJzdFNsb3QpOwoKICAgICAgICByZW1haW5pbmcgLT0gZmlyc3RDaHVua1NpemU7CiAgICAgICAgb2Zmc2V0ICs9IGZpcnN0Q2h1bmtTaXplOwoKICAgICAgICAvLyA1KSBXcml0ZSBzdWJzZXF1ZW50IHNsb3RzICgzMiBieXRlcyBlYWNoKQogICAgICAgIGxldCBjaHVua0luZGV4OiB1NjQgPSAxOwogICAgICAgIHdoaWxlIChyZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3REYXRhID0gbmV3IFVpbnQ4QXJyYXkoMzIpOwogICAgICAgICAgICBjb25zdCBjaHVua1NpemUgPSByZW1haW5pbmcgPCB1MzIoMzIpID8gcmVtYWluaW5nIDogdTMyKDMyKTsKICAgICAgICAgICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IGNodW5rU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgICAgICBzbG90RGF0YVtpXSA9IGJ5dGVzW29mZnNldCArIGldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMuZ2V0UG9pbnRlcihjaHVua0luZGV4KSwgc2xvdERhdGEpOwoKICAgICAgICAgICAgcmVtYWluaW5nIC09IGNodW5rU2l6ZTsKICAgICAgICAgICAgb2Zmc2V0ICs9IGNodW5rU2l6ZTsKICAgICAgICAgICAgY2h1bmtJbmRleCsrOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIExvYWRzIHRoZSBzdHJpbmcgZnJvbSBzdG9yYWdlIGJ5IHJlYWRpbmcgdGhlIHN0b3JlZCBieXRlIGxlbmd0aCwgdGhlbiBkZWNvZGluZwogICAgICogdGhlIGNvcnJlc3BvbmRpbmcgVVRGLTggZGF0YSBmcm9tIHRoZSBzbG90cy4KICAgICAqLwogICAgcHJpdmF0ZSBsb2FkKCk6IHZvaWQgewogICAgICAgIC8vIFJlYWQgdGhlIGhlYWRlciBzbG90IGZpcnN0CiAgICAgICAgY29uc3QgaGVhZGVyU2xvdCA9IEJsb2NrY2hhaW4uZ2V0U3RvcmFnZUF0KHRoaXMuZ2V0UG9pbnRlcigwKSk7CgogICAgICAgIC8vIFBhcnNlIHRoZSBiaWctZW5kaWFuIGxlbmd0aAogICAgICAgIGNvbnN0IGIwID0gPHUzMj5oZWFkZXJTbG90WzBdOwogICAgICAgIGNvbnN0IGIxID0gPHUzMj5oZWFkZXJTbG90WzFdOwogICAgICAgIGNvbnN0IGIyID0gPHUzMj5oZWFkZXJTbG90WzJdOwogICAgICAgIGNvbnN0IGIzID0gPHUzMj5oZWFkZXJTbG90WzNdOwogICAgICAgIGNvbnN0IGxlbmd0aDogdTMyID0gKGIwIDw8IDI0KSB8IChiMSA8PCAxNikgfCAoYjIgPDwgOCkgfCBiMzsKCiAgICAgICAgLy8gSWYgbGVuZ3RoPTAsIHRoZW4gdGhlIHN0cmluZyBpcyBlbXB0eQogICAgICAgIGlmIChsZW5ndGggPT0gMCkgewogICAgICAgICAgICB0aGlzLl92YWx1ZSA9ICcnOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyBSZWFkIHRoZSBVVEYtOCBieXRlcyBmcm9tIHN0b3JhZ2UKICAgICAgICBsZXQgcmVtYWluaW5nOiB1MzIgPSBsZW5ndGg7CiAgICAgICAgbGV0IG9mZnNldDogdTMyID0gMDsKICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOwoKICAgICAgICAvLyBGaXJzdCBzbG90IGNhbiBob2xkIHVwIHRvIDI4IGJ5dGVzIGFmdGVyIHRoZSBsZW5ndGgKICAgICAgICBjb25zdCBmaXJzdENodW5rU2l6ZSA9IHJlbWFpbmluZyA8IDI4ID8gcmVtYWluaW5nIDogMjg7CiAgICAgICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IGZpcnN0Q2h1bmtTaXplOyBpKyspIHsKICAgICAgICAgICAgb3V0W2ldID0gaGVhZGVyU2xvdFs0ICsgaV07CiAgICAgICAgfQogICAgICAgIHJlbWFpbmluZyAtPSBmaXJzdENodW5rU2l6ZTsKICAgICAgICBvZmZzZXQgKz0gZmlyc3RDaHVua1NpemU7CgogICAgICAgIC8vIFJlYWQgdGhlIHN1YnNlcXVlbnQgc2xvdHMgb2YgMzIgYnl0ZXMgZWFjaAogICAgICAgIGxldCBjaHVua0luZGV4OiB1NjQgPSAxOwogICAgICAgIHdoaWxlIChyZW1haW5pbmcgPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IHNsb3REYXRhID0gQmxvY2tjaGFpbi5nZXRTdG9yYWdlQXQodGhpcy5nZXRQb2ludGVyKGNodW5rSW5kZXgpKTsKICAgICAgICAgICAgY29uc3QgY2h1bmtTaXplID0gcmVtYWluaW5nIDwgMzIgPyByZW1haW5pbmcgOiAzMjsKICAgICAgICAgICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IGNodW5rU2l6ZTsgaSsrKSB7CiAgICAgICAgICAgICAgICBvdXRbb2Zmc2V0ICsgaV0gPSBzbG90RGF0YVtpXTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZW1haW5pbmcgLT0gY2h1bmtTaXplOwogICAgICAgICAgICBvZmZzZXQgKz0gY2h1bmtTaXplOwogICAgICAgICAgICBjaHVua0luZGV4Kys7CiAgICAgICAgfQoKICAgICAgICAvLyBEZWNvZGUgVVRGLTggaW50byBhIG5vcm1hbCBzdHJpbmcKICAgICAgICB0aGlzLl92YWx1ZSA9IFN0cmluZy5VVEY4LmRlY29kZShvdXQuYnVmZmVyLCBmYWxzZSk7CiAgICB9Cn0=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/StoredU256.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJsb2NrY2hhaW4gfSBmcm9tICcuLi9lbnYnOwppbXBvcnQgeyBlbmNvZGVQb2ludGVyIH0gZnJvbSAnLi4vbWF0aC9hYmknOwppbXBvcnQgeyBTYWZlTWF0aCB9IGZyb20gJy4uL3R5cGVzL1NhZmVNYXRoJzsKCkBmaW5hbApleHBvcnQgY2xhc3MgU3RvcmVkVTI1NiB7CiAgICBwcml2YXRlIHJlYWRvbmx5IHBvaW50ZXJCdWZmZXI6IFVpbnQ4QXJyYXk7CgogICAgY29uc3RydWN0b3IoCiAgICAgICAgcHVibGljIHBvaW50ZXI6IHUxNiwKICAgICAgICBwdWJsaWMgc3ViUG9pbnRlcjogVWludDhBcnJheSwKICAgICkgewogICAgICAgIGFzc2VydChzdWJQb2ludGVyLmxlbmd0aCA8PSAzMCwgYFlvdSBtdXN0IHBhc3MgYSAzMCBieXRlcyBzdWItcG9pbnRlci4gKEFkZHJlc3MsIGdvdCAke3N1YlBvaW50ZXIubGVuZ3RofSlgKTsKCiAgICAgICAgdGhpcy5wb2ludGVyQnVmZmVyID0gZW5jb2RlUG9pbnRlcihwb2ludGVyLCBzdWJQb2ludGVyKTsKICAgIH0KCiAgICBwcml2YXRlIF92YWx1ZTogdTI1NiA9IHUyNTYuWmVybzsKCiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IHUyNTYgewogICAgICAgIHRoaXMuZW5zdXJlVmFsdWUoKTsKCiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlOwogICAgfQoKICAgIHB1YmxpYyBzZXQgdmFsdWUodmFsdWU6IHUyNTYpIHsKICAgICAgICBpZiAodTI1Ni5lcSh2YWx1ZSwgdGhpcy5fdmFsdWUpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7CgogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKICAgIH0KCiAgICBwdWJsaWMgZ2V0IHRvQnl0ZXMoKTogVWludDhBcnJheSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlLnRvVWludDhBcnJheSh0cnVlKTsKICAgIH0KCiAgICBwcml2YXRlIGdldCBfX3ZhbHVlKCk6IFVpbnQ4QXJyYXkgewogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZS50b1VpbnQ4QXJyYXkodHJ1ZSk7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlLnRvU3RyaW5nKCk7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCcrJykKICAgIHB1YmxpYyBhZGQodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHRoaXMuX3ZhbHVlID0gU2FmZU1hdGguYWRkKHRoaXMuX3ZhbHVlLCB2YWx1ZSk7CiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5wb2ludGVyQnVmZmVyLCB0aGlzLl9fdmFsdWUpOwoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgYWRkTm9Db21taXQodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLl92YWx1ZSA9IFNhZmVNYXRoLmFkZCh0aGlzLl92YWx1ZSwgdmFsdWUpOwoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgc3ViTm9Db21taXQodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLl92YWx1ZSA9IFNhZmVNYXRoLnN1Yih0aGlzLl92YWx1ZSwgdmFsdWUpOwoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBAaW5saW5lCiAgICBwdWJsaWMgY29tbWl0KCk6IHRoaXMgewogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCctJykKICAgIHB1YmxpYyBzdWIodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHRoaXMuX3ZhbHVlID0gU2FmZU1hdGguc3ViKHRoaXMuX3ZhbHVlLCB2YWx1ZSk7CiAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5wb2ludGVyQnVmZmVyLCB0aGlzLl9fdmFsdWUpOwoKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBAaW5saW5lCiAgICBAb3BlcmF0b3IoJyonKQogICAgcHVibGljIG11bCh2YWx1ZTogdTI1Nik6IHRoaXMgewogICAgICAgIHRoaXMuZW5zdXJlVmFsdWUoKTsKCiAgICAgICAgdGhpcy5fdmFsdWUgPSBTYWZlTWF0aC5tdWwodGhpcy5fdmFsdWUsIHZhbHVlKTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLnBvaW50ZXJCdWZmZXIsIHRoaXMuX192YWx1ZSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignPT0nKQogICAgcHVibGljIGVxKHZhbHVlOiB1MjU2KTogYm9vbGVhbiB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPT09IHZhbHVlOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignIT0nKQogICAgcHVibGljIG5lKHZhbHVlOiB1MjU2KTogYm9vbGVhbiB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgIT09IHZhbHVlOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignPCcpCiAgICBwdWJsaWMgbHQodmFsdWU6IHUyNTYpOiBib29sZWFuIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSA8IHZhbHVlOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignPicpCiAgICBwdWJsaWMgZ3QodmFsdWU6IHUyNTYpOiBib29sZWFuIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSA+IHZhbHVlOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignPD0nKQogICAgcHVibGljIGxlKHZhbHVlOiB1MjU2KTogYm9vbGVhbiB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPD0gdmFsdWU7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCc+PScpCiAgICBwdWJsaWMgZ2UodmFsdWU6IHUyNTYpOiBib29sZWFuIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSA+PSB2YWx1ZTsKICAgIH0KCiAgICBAaW5saW5lCiAgICBAb3BlcmF0b3IoJz4+JykKICAgIHB1YmxpYyBzaHIodmFsdWU6IGkzMik6IHRoaXMgewogICAgICAgIHRoaXMuZW5zdXJlVmFsdWUoKTsKCiAgICAgICAgdGhpcy5fdmFsdWUgPSB1MjU2LnNocih0aGlzLl92YWx1ZSwgdmFsdWUpOwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCcmJykKICAgIHB1YmxpYyBhbmQodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHRoaXMuX3ZhbHVlID0gdTI1Ni5hbmQodGhpcy5fdmFsdWUsIHZhbHVlKTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLnBvaW50ZXJCdWZmZXIsIHRoaXMuX192YWx1ZSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignfCcpCiAgICBwdWJsaWMgb3IodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHRoaXMuX3ZhbHVlID0gdTI1Ni5vcih0aGlzLl92YWx1ZSwgdmFsdWUpOwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yKCdeJykKICAgIHB1YmxpYyB4b3IodmFsdWU6IHUyNTYpOiB0aGlzIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlKCk7CgogICAgICAgIHRoaXMuX3ZhbHVlID0gdTI1Ni54b3IodGhpcy5fdmFsdWUsIHZhbHVlKTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLnBvaW50ZXJCdWZmZXIsIHRoaXMuX192YWx1ZSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignKionKQogICAgcHVibGljIHBvdyhleHBvbmVudDogdTI1Nik6IHRoaXMgewogICAgICAgIHRoaXMuZW5zdXJlVmFsdWUoKTsKCiAgICAgICAgdGhpcy5fdmFsdWUgPSBTYWZlTWF0aC5wb3codGhpcy5fdmFsdWUsIGV4cG9uZW50KTsKICAgICAgICBCbG9ja2NoYWluLnNldFN0b3JhZ2VBdCh0aGlzLnBvaW50ZXJCdWZmZXIsIHRoaXMuX192YWx1ZSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIEBpbmxpbmUKICAgIEBvcGVyYXRvcignJScpCiAgICBwdWJsaWMgbW9kKHZhbHVlOiB1MjU2KTogdGhpcyB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICB0aGlzLl92YWx1ZSA9IFNhZmVNYXRoLm1vZCh0aGlzLl92YWx1ZSwgdmFsdWUpOwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yLnBvc3RmaXgoJysrJykKICAgIHB1YmxpYyBpbmMoKTogdGhpcyB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICB0aGlzLl92YWx1ZSA9IFNhZmVNYXRoLmFkZCh0aGlzLl92YWx1ZSwgdTI1Ni5PbmUpOwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgQG9wZXJhdG9yLnBvc3RmaXgoJy0tJykKICAgIHB1YmxpYyBkZWMoKTogdGhpcyB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZSgpOwoKICAgICAgICB0aGlzLl92YWx1ZSA9IFNhZmVNYXRoLnN1Yih0aGlzLl92YWx1ZSwgdTI1Ni5PbmUpOwogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHNldCh2YWx1ZTogdTI1Nik6IHRoaXMgewogICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7CgogICAgICAgIEJsb2NrY2hhaW4uc2V0U3RvcmFnZUF0KHRoaXMucG9pbnRlckJ1ZmZlciwgdGhpcy5fX3ZhbHVlKTsKCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgQGlubGluZQogICAgcHVibGljIHRvVWludDhBcnJheSgpOiBVaW50OEFycmF5IHsKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUudG9VaW50OEFycmF5KHRydWUpOwogICAgfQoKICAgIHByaXZhdGUgZW5zdXJlVmFsdWUoKTogdm9pZCB7CiAgICAgICAgY29uc3QgdmFsdWUgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdCh0aGlzLnBvaW50ZXJCdWZmZXIpOwogICAgICAgIHRoaXMuX3ZhbHVlID0gdTI1Ni5mcm9tVWludDhBcnJheUJFKHZhbHVlKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/storage/StoredU64.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CmltcG9ydCB7IEJ5dGVzV3JpdGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzV3JpdGVyJzsKaW1wb3J0IHsgQmxvY2tjaGFpbiB9IGZyb20gJy4uL2Vudic7CmltcG9ydCB7IGVuY29kZVBvaW50ZXIgfSBmcm9tICcuLi9tYXRoL2FiaSc7CmltcG9ydCB7IEJ5dGVzUmVhZGVyIH0gZnJvbSAnLi4vYnVmZmVyL0J5dGVzUmVhZGVyJzsKCi8qKgogKiBAY2xhc3MgU3RvcmVkVTY0CiAqIEBkZXNjcmlwdGlvbiBNYW5hZ2VzIHVwIHRvIGZvdXIgdTY0IHZhbHVlcyB3aXRoaW4gYSBzaW5nbGUgdTI1NiBzdG9yYWdlIHNsb3QuCiAqLwpAZmluYWwKZXhwb3J0IGNsYXNzIFN0b3JlZFU2NCB7CiAgICBwcml2YXRlIHJlYWRvbmx5IGJ1ZmZlclBvaW50ZXI6IFVpbnQ4QXJyYXk7CgogICAgLy8gSW50ZXJuYWwgY2FjaGUgZm9yIGZvdXIgdTY0IHZhbHVlczogW2xvMSwgbG8yLCBoaTEsIGhpMl0KICAgIHByaXZhdGUgX3ZhbHVlczogdTY0W10gPSBbMCwgMCwgMCwgMF07CgogICAgLy8gRmxhZyB0byBpbmRpY2F0ZSBpZiB2YWx1ZXMgYXJlIGxvYWRlZCBmcm9tIHN0b3JhZ2UKICAgIHByaXZhdGUgaXNMb2FkZWQ6IGJvb2wgPSBmYWxzZTsKCiAgICAvLyBGbGFnIHRvIGluZGljYXRlIGlmIGFueSB2YWx1ZSBoYXMgYmVlbiBjaGFuZ2VkCiAgICBwcml2YXRlIGlzQ2hhbmdlZDogYm9vbCA9IGZhbHNlOwoKICAgIC8qKgogICAgICogQGNvbnN0cnVjdG9yCiAgICAgKiBAcGFyYW0ge3UxNn0gcG9pbnRlciAtIFRoZSBwcmltYXJ5IHBvaW50ZXIgaWRlbnRpZmllci4KICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gc3ViUG9pbnRlciAtIFRoZSBzdWItcG9pbnRlciBmb3IgbWVtb3J5IHNsb3QgYWRkcmVzc2luZy4KICAgICAqLwogICAgY29uc3RydWN0b3IoCiAgICAgICAgcHVibGljIHBvaW50ZXI6IHUxNiwKICAgICAgICBwdWJsaWMgc3ViUG9pbnRlcjogVWludDhBcnJheSwKICAgICkgewogICAgICAgIGFzc2VydChzdWJQb2ludGVyLmxlbmd0aCA8PSAzMCwgYFlvdSBtdXN0IHBhc3MgYSAzMCBieXRlcyBzdWItcG9pbnRlci4gKFN0b3JlZFU2NCwgZ290ICR7c3ViUG9pbnRlci5sZW5ndGh9KWApOwoKICAgICAgICB0aGlzLmJ1ZmZlclBvaW50ZXIgPSBlbmNvZGVQb2ludGVyKHBvaW50ZXIsIHN1YlBvaW50ZXIpOwogICAgfQoKICAgIC8qKgogICAgICogQG1ldGhvZCBnZXQKICAgICAqIEBkZXNjcmlwdGlvbiBSZXRyaWV2ZXMgdGhlIHU2NCB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIG9mZnNldC4KICAgICAqIEBwYXJhbSB7dTh9IGluZGV4IC0gVGhlIGluZGV4ICgwIHRvIDMpIG9mIHRoZSB1NjQgdmFsdWUgdG8gcmV0cmlldmUuCiAgICAgKiBAcmV0dXJucyB7dTY0fSAtIFRoZSB1NjQgdmFsdWUgYXQgdGhlIHNwZWNpZmllZCBpbmRleC4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGdldChpbmRleDogdTgpOiB1NjQgewogICAgICAgIGFzc2VydChpbmRleCA8IDQsICdJbmRleCBvdXQgb2YgYm91bmRzIGZvciBTdG9yZWRVNjQgKDAtMyknKTsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlcygpOwogICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNbaW5kZXhdOwogICAgfQoKICAgIC8qKgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHRoZSB1NjQgdmFsdWUgYXQgdGhlIHNwZWNpZmllZCBvZmZzZXQuCiAgICAgKiBAcGFyYW0ge3U4fSBpbmRleCAtIFRoZSBpbmRleCAoMCB0byAzKSBvZiB0aGUgdTY0IHZhbHVlIHRvIHNldC4KICAgICAqIEBwYXJhbSB7dTY0fSB2YWx1ZSAtIFRoZSB1NjQgdmFsdWUgdG8gYXNzaWduLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgc2V0KGluZGV4OiB1OCwgdmFsdWU6IHU2NCk6IHZvaWQgewogICAgICAgIGFzc2VydChpbmRleCA8IDQsICdJbmRleCBvdXQgb2YgYm91bmRzIGZvciBTdG9yZWRVNjQgKDAtMyknKTsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlcygpOwogICAgICAgIGlmICh0aGlzLl92YWx1ZXNbaW5kZXhdICE9IHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTsKICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBtZXRob2Qgc2F2ZQogICAgICogQGRlc2NyaXB0aW9uIFBlcnNpc3RzIHRoZSBjYWNoZWQgdTY0IHZhbHVlcyB0byBzdG9yYWdlIGlmIGFueSBoYXZlIGJlZW4gbW9kaWZpZWQuCiAgICAgKi8KICAgIHB1YmxpYyBzYXZlKCk6IHZvaWQgewogICAgICAgIGlmICh0aGlzLmlzQ2hhbmdlZCkgewogICAgICAgICAgICBjb25zdCBwYWNrZWQgPSB0aGlzLnBhY2tWYWx1ZXMoKTsKICAgICAgICAgICAgQmxvY2tjaGFpbi5zZXRTdG9yYWdlQXQodGhpcy5idWZmZXJQb2ludGVyLCBwYWNrZWQpOwogICAgICAgICAgICB0aGlzLmlzQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBtZXRob2Qgc2V0TXVsdGlwbGUKICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIG11bHRpcGxlIHU2NCB2YWx1ZXMgYXQgb25jZS4KICAgICAqIEBwYXJhbSB7W3U2NCwgdTY0LCB1NjQsIHU2NF19IHZhbHVlcyAtIEFuIGFycmF5IG9mIGZvdXIgdTY0IHZhbHVlcyB0byBzZXQuCiAgICAgKi8KICAgIEBpbmxpbmUKICAgIHB1YmxpYyBzZXRNdWx0aXBsZSh2YWx1ZXM6IHU2NFtdKTogdm9pZCB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZXMoKTsKICAgICAgICBsZXQgY2hhbmdlZCA9IGZhbHNlOwogICAgICAgIGZvciAobGV0IGk6IHU4ID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgICAgICBpZiAodGhpcy5fdmFsdWVzW2ldICE9IHZhbHVlc1tpXSkgewogICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2ldID0gdmFsdWVzW2ldOwogICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGNoYW5nZWQpIHsKICAgICAgICAgICAgdGhpcy5pc0NoYW5nZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0QWxsCiAgICAgKiBAZGVzY3JpcHRpb24gUmV0cmlldmVzIGFsbCBmb3VyIHU2NCB2YWx1ZXMgYXMgYSB0dXBsZS4KICAgICAqIEByZXR1cm5zIHtbdTY0LCB1NjQsIHU2NCwgdTY0XX0gLSBBIHR1cGxlIGNvbnRhaW5pbmcgYWxsIGZvdXIgdTY0IHZhbHVlcy4KICAgICAqLwogICAgQGlubGluZQogICAgcHVibGljIGdldEFsbCgpOiB1NjRbXSB7CiAgICAgICAgdGhpcy5lbnN1cmVWYWx1ZXMoKTsKICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzOwogICAgfQoKICAgIC8qKgogICAgICogQG1ldGhvZCB0b1N0cmluZwogICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYWxsIGZvdXIgdTY0IHZhbHVlcy4KICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gQSBzdHJpbmcgaW4gdGhlIGZvcm1hdCAiW3ZhbHVlMCwgdmFsdWUxLCB2YWx1ZTIsIHZhbHVlM10iLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHsKICAgICAgICB0aGlzLmVuc3VyZVZhbHVlcygpOwogICAgICAgIHJldHVybiBgWyR7dGhpcy5fdmFsdWVzWzBdLnRvU3RyaW5nKCl9LCAke3RoaXMuX3ZhbHVlc1sxXS50b1N0cmluZygpfSwgJHt0aGlzLl92YWx1ZXNbMl0udG9TdHJpbmcoKX0sICR7dGhpcy5fdmFsdWVzWzNdLnRvU3RyaW5nKCl9XWA7CiAgICB9CgoKICAgIC8qKgogICAgICogQG1ldGhvZCByZXNldAogICAgICogQGRlc2NyaXB0aW9uIFJlc2V0cyB0aGUgY2FjaGVkIHZhbHVlcyB0byBkZWZhdWx0IGFuZCBtYXJrcyBhcyBjaGFuZ2VkLgogICAgICovCiAgICBAaW5saW5lCiAgICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7CiAgICAgICAgdGhpcy5fdmFsdWVzID0gWzAsIDAsIDAsIDBdOwogICAgICAgIHRoaXMuaXNDaGFuZ2VkID0gdHJ1ZTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIGVuc3VyZVZhbHVlcwogICAgICogQGRlc2NyaXB0aW9uIExvYWRzIGFuZCB1bnBhY2tzIHRoZSB1MjU2IHZhbHVlIGZyb20gc3RvcmFnZSBpbnRvIGZvdXIgdTY0IGNhY2hlIHZhcmlhYmxlcy4KICAgICAqLwogICAgcHJpdmF0ZSBlbnN1cmVWYWx1ZXMoKTogdm9pZCB7CiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKSB7CiAgICAgICAgICAgIGNvbnN0IHN0b3JlZFUyNTY6IFVpbnQ4QXJyYXkgPSBCbG9ja2NoYWluLmdldFN0b3JhZ2VBdCh0aGlzLmJ1ZmZlclBvaW50ZXIpOwoKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEJ5dGVzUmVhZGVyKHN0b3JlZFUyNTYpOwoKICAgICAgICAgICAgdGhpcy5fdmFsdWVzWzBdID0gcmVhZGVyLnJlYWRVNjQoKTsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzWzFdID0gcmVhZGVyLnJlYWRVNjQoKTsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzWzJdID0gcmVhZGVyLnJlYWRVNjQoKTsKICAgICAgICAgICAgdGhpcy5fdmFsdWVzWzNdID0gcmVhZGVyLnJlYWRVNjQoKTsKCiAgICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIHBhY2tWYWx1ZXMKICAgICAqIEBkZXNjcmlwdGlvbiBQYWNrcyB0aGUgZm91ciBjYWNoZWQgdTY0IHZhbHVlcyBpbnRvIGEgc2luZ2xlIHUyNTYgZm9yIHN0b3JhZ2UuCiAgICAgKiBAcmV0dXJucyB7dTI1Nn0gLSBUaGUgcGFja2VkIHUyNTYgdmFsdWUuCiAgICAgKi8KICAgIHByaXZhdGUgcGFja1ZhbHVlcygpOiBVaW50OEFycmF5IHsKICAgICAgICBjb25zdCB3cml0ZXIgPSBuZXcgQnl0ZXNXcml0ZXIoMzIpOwoKICAgICAgICB3cml0ZXIud3JpdGVVNjQodGhpcy5fdmFsdWVzWzBdKTsKICAgICAgICB3cml0ZXIud3JpdGVVNjQodGhpcy5fdmFsdWVzWzFdKTsKICAgICAgICB3cml0ZXIud3JpdGVVNjQodGhpcy5fdmFsdWVzWzJdKTsKICAgICAgICB3cml0ZXIud3JpdGVVNjQodGhpcy5fdmFsdWVzWzNdKTsKCiAgICAgICAgcmV0dXJuIHdyaXRlci5nZXRCdWZmZXIoKTsKICAgIH0KfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/types/Address.ts": "aW1wb3J0IHsgUG90ZW50aWFsIH0gZnJvbSAnLi4vbGFuZy9EZWZpbml0aW9ucyc7CmltcG9ydCB7IEFERFJFU1NfQllURV9MRU5HVEgsIGRlY29kZUhleEFycmF5LCBlbmNvZGVIZXhGcm9tQnVmZmVyIH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgeyBiZWNoMzJtIGFzIF9iZWNoMzJtLCB0b1dvcmRzIH0gZnJvbSAnLi4vdXRpbHMvYjMyJzsKaW1wb3J0IHsgUmV2ZXJ0IH0gZnJvbSAnLi9SZXZlcnQnOwoKQGZpbmFsCmV4cG9ydCBjbGFzcyBBZGRyZXNzIGV4dGVuZHMgVWludDhBcnJheSB7CiAgICBwcml2YXRlIGlzRGVmaW5lZDogYm9vbGVhbiA9IGZhbHNlOwoKICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihieXRlczogdThbXSA9IFtdKSB7CiAgICAgICAgc3VwZXIoQUREUkVTU19CWVRFX0xFTkdUSCk7CgogICAgICAgIGlmICghKCFieXRlcyB8fCBieXRlcy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgIHRoaXMubmV3U2V0KGJ5dGVzKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBEZWFkIGFkZHJlc3MgKDI4NGFlNGFjZGIzMmE5OWJhM2ViZmE2NmE5MWRkYjQxYTdiN2ExZDJmZWY0MTUzOTk5MjJjZDhhMDQ0ODVjMDIpCiAgICAgKiBnZW5lcmF0ZWQgZnJvbSAwNDY3OGFmZGIwZmU1NTQ4MjcxOTY3ZjFhNjcxMzBiNzEwNWNkNmE4MjhlMDM5MDlhNjc5NjJlMGVhMWY2MWRlYjY0OWY2YmMzZjRjZWYzOGM0ZjM1NTA0ZTUxZWMxMTJkZTVjMzg0ZGY3YmEwYjhkNTc4YTRjNzAyYjZiZjExZDVmCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZGVhZCgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gREVBRF9BRERSRVNTLmNsb25lKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB6ZXJvKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBaRVJPX0FERFJFU1MuY2xvbmUoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZyb21TdHJpbmcocHViS2V5OiBzdHJpbmcpOiBBZGRyZXNzIHsKICAgICAgICBpZiAocHViS2V5LnN0YXJ0c1dpdGgoJzB4JykpIHsKICAgICAgICAgICAgcHViS2V5ID0gcHViS2V5LnNsaWNlKDIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ldyBBZGRyZXNzKGRlY29kZUhleEFycmF5KHB1YktleSkpOwogICAgfQoKICAgIHB1YmxpYyBpc1plcm8oKTogYm9vbCB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0aGlzW2ldICE9IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBuZXcgQWRkcmVzcyB0aGF0IGlzIGEgY29weSBvZiB0aGUgY3VycmVudCBBZGRyZXNzLgogICAgICogQHJldHVybnMge0FkZHJlc3N9CiAgICAgKi8KICAgIHB1YmxpYyBjbG9uZSgpOiBBZGRyZXNzIHsKICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgQWRkcmVzcygpOwogICAgICAgIC8vIENvcHkgdGhlIHJhdyBtZW1vcnkgZGlyZWN0bHk6CiAgICAgICAgbWVtb3J5LmNvcHkoY2xvbmVkLmRhdGFTdGFydCwgdGhpcy5kYXRhU3RhcnQsIEFERFJFU1NfQllURV9MRU5HVEgpOwoKICAgICAgICAvLyBEdXBsaWNhdGUgdGhlIGlzRGVmaW5lZCBmbGFnIGFzIHdlbGw6CiAgICAgICAgY2xvbmVkLmlzRGVmaW5lZCA9IHRoaXMuaXNEZWZpbmVkOwoKICAgICAgICByZXR1cm4gY2xvbmVkOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnJvbVVpbnQ4QXJyYXkoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBBZGRyZXNzIHsKICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgQWRkcmVzcygpOwogICAgICAgIC8vIENvcHkgdGhlIHJhdyBtZW1vcnkgZGlyZWN0bHk6CiAgICAgICAgbWVtb3J5LmNvcHkoY2xvbmVkLmRhdGFTdGFydCwgYnl0ZXMuZGF0YVN0YXJ0LCBBRERSRVNTX0JZVEVfTEVOR1RIKTsKCiAgICAgICAgcmV0dXJuIGNsb25lZDsKICAgIH0KCiAgICBwdWJsaWMgdG9IZXgoKTogc3RyaW5nIHsKICAgICAgICByZXR1cm4gZW5jb2RlSGV4RnJvbUJ1ZmZlcih0aGlzLmJ1ZmZlcik7CiAgICB9CgogICAgcHVibGljIGVtcHR5KCk6IGJvb2wgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAodGhpc1tpXSAhPSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogU2V0IHRoZSBwdWJsaWMga2V5CiAgICAgKiBAcGFyYW0ge0FycmF5TGlrZX0gcHVibGljS2V5IFRoZSBwdWJsaWMga2V5CiAgICAgKiBAcmV0dXJucyB7dm9pZH0KICAgICAqLwogICAgcHVibGljIG5ld1NldChwdWJsaWNLZXk6IHU4W10pOiB2b2lkIHsKICAgICAgICBpZiAocHVibGljS2V5Lmxlbmd0aCAhPT0gMzIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHB1YmxpYyBrZXkgbGVuZ3RoJyk7CiAgICAgICAgfQoKICAgICAgICBzdXBlci5zZXQocHVibGljS2V5KTsKCiAgICAgICAgdGhpcy5pc0RlZmluZWQgPSB0cnVlOwogICAgfQoKICAgIHB1YmxpYyB0b0JlY2gzMm0oKTogc3RyaW5nIHsKICAgICAgICByZXR1cm4gU3RyaW5nLlVURjguZGVjb2RlKF9iZWNoMzJtKFN0cmluZy5VVEY4LmVuY29kZSgnYmMnKSwgdG9Xb3Jkcyh0aGlzLmJ1ZmZlcikpKTsKICAgIH0KCiAgICBAb3BlcmF0b3IoJz09JykKICAgIHB1YmxpYyBlcXVhbHMoYTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIGlmIChhLmxlbmd0aCAhPSB0aGlzLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHRoaXNbaV0gIT0gYVtpXSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBAb3BlcmF0b3IoJzwnKQogICAgcHVibGljIGxlc3NUaGFuKGE6IEFkZHJlc3MpOiBib29sIHsKICAgICAgICAvLyBDb21wYXJlIHRoZSB0d28gYWRkcmVzc2VzIGJ5dGUtYnktYnl0ZSwgdHJlYXRpbmcgdGhlbSBhcyBiaWctZW5kaWFuIHVpbnQyNTYKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgdGhpc0J5dGUgPSB0aGlzW2ldOwogICAgICAgICAgICBjb25zdCBhQnl0ZSA9IGFbaV07CgogICAgICAgICAgICBpZiAodGhpc0J5dGUgPCBhQnl0ZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIHRoaXMgaXMgbGVzcyB0aGFuIGEKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzQnl0ZSA+IGFCeXRlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHRoaXMgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGEKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIEBvcGVyYXRvcignPicpCiAgICBwdWJsaWMgZ3JlYXRlclRoYW4oYTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIC8vIENvbXBhcmUgdGhlIHR3byBhZGRyZXNzZXMgYnl0ZS1ieS1ieXRlLCB0cmVhdGluZyB0aGVtIGFzIGJpZy1lbmRpYW4gdWludDI1NgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzI7IGkrKykgewogICAgICAgICAgICBjb25zdCB0aGlzQnl0ZSA9IHRoaXNbaV07CiAgICAgICAgICAgIGNvbnN0IGFCeXRlID0gYVtpXTsKCiAgICAgICAgICAgIGlmICh0aGlzQnl0ZSA+IGFCeXRlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gdGhpcyBpcyBncmVhdGVyIHRoYW4gYQogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXNCeXRlIDwgYUJ5dGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gdGhpcyBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgQG9wZXJhdG9yKCc8PScpCiAgICBwdWJsaWMgbGVzc1RoYW5PckVxdWFsKGE6IEFkZHJlc3MpOiBib29sIHsKICAgICAgICByZXR1cm4gdGhpcy5sZXNzVGhhbihhKSB8fCB0aGlzLmVxdWFscyhhKTsKICAgIH0KCiAgICBAb3BlcmF0b3IoJz49JykKICAgIHB1YmxpYyBncmVhdGVyVGhhbk9yRXF1YWwoYTogQWRkcmVzcyk6IGJvb2wgewogICAgICAgIHJldHVybiB0aGlzLmdyZWF0ZXJUaGFuKGEpIHx8IHRoaXMuZXF1YWxzKGEpOwogICAgfQoKICAgIEBvcGVyYXRvcignIT0nKQogICAgcHVibGljIG5vdEVxdWFscyhhOiBBZGRyZXNzKTogYm9vbCB7CiAgICAgICAgcmV0dXJuICF0aGlzLmVxdWFscyhhKTsKICAgIH0KCiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHsKICAgICAgICByZXR1cm4gdGhpcy50b0JlY2gzMm0oKTsKICAgIH0KCiAgICBAb3BlcmF0b3IoJ1tdJykKICAgIHByaXZhdGUgX19fZ2V0KGluZGV4OiBpMzIpOiB1OCB7CiAgICAgICAgaWYgKHUzMihpbmRleCkgPj0gdTMyKHRoaXMubGVuZ3RoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbG9hZDx1OD4odGhpcy5kYXRhU3RhcnQgKyA8dXNpemU+aW5kZXgpOwogICAgfQoKICAgIEBvcGVyYXRvcignW109JykKICAgIHByaXZhdGUgX19fc2V0KGluZGV4OiBpMzIsIHZhbHVlOiB1OCk6IHZvaWQgewogICAgICAgIGlmICh0aGlzLmlzRGVmaW5lZCkgewogICAgICAgICAgICB0aHJvdyBuZXcgUmV2ZXJ0KGBDYW5ub3QgbW9kaWZ5IGFkZHJlc3MgZGF0YS5gKTsKICAgICAgICB9CgogICAgICAgIGlmICh1MzIoaW5kZXgpID49IHUzMih0aGlzLmxlbmd0aCkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpOwogICAgICAgIH0KCiAgICAgICAgc3RvcmU8dTg+KHRoaXMuZGF0YVN0YXJ0ICsgPHVzaXplPmluZGV4LCB2YWx1ZSk7CiAgICB9Cn0KCmV4cG9ydCBjb25zdCBaRVJPX0FERFJFU1M6IEFkZHJlc3MgPSBuZXcgQWRkcmVzcygpOwpleHBvcnQgY29uc3QgREVBRF9BRERSRVNTOiBBZGRyZXNzID0gbmV3IEFkZHJlc3MoWwogICAgNDAsIDc0LCAyMjgsIDE3MiwgMjE5LCA1MCwgMTY5LCAxNTUsIDE2MywgMjM1LCAyNTAsIDEwMiwgMTY5LCAyOSwgMjE5LCA2NSwgMTY3LCAxODMsIDE2MSwgMjEwLAogICAgMjU0LCAyNDQsIDIxLCA1NywgMTUzLCAzNCwgMjA1LCAxMzgsIDQsIDcyLCA5MiwgMiwKXSk7CgpleHBvcnQgZGVjbGFyZSB0eXBlIFBvdGVudGlhbEFkZHJlc3MgPSBQb3RlbnRpYWw8QWRkcmVzcz47Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/types/index.ts": "aW1wb3J0IHsgTWFwIH0gZnJvbSAnLi4vZ2VuZXJpYy9NYXAnOwppbXBvcnQgeyBCeXRlc1JlYWRlciB9IGZyb20gJy4uL2J1ZmZlci9CeXRlc1JlYWRlcic7CgpleHBvcnQgdHlwZSBQb2ludGVyU3RvcmFnZSA9IE1hcDxVaW50OEFycmF5LCBVaW50OEFycmF5PjsKZXhwb3J0IHR5cGUgQ2FsbGRhdGEgPSBOb25OdWxsYWJsZTxCeXRlc1JlYWRlcj47Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/types/Revert.ts": "ZXhwb3J0IGNsYXNzIFJldmVydCBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKG1zZzogc3RyaW5nID0gJycpIHsKICAgICAgICBzdXBlcihgRXhlY3V0aW9uIHJldmVydGVkICR7bXNnfWApOwogICAgfQp9Cg==",
  "node_modules/@btc-vision/btc-runtime/runtime/types/SafeMath.ts": "aW1wb3J0IHsgdTEyOCwgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgpleHBvcnQgY2xhc3MgU2FmZU1hdGggewogICAgcHVibGljIHN0YXRpYyBaRVJPOiB1MjU2ID0gdTI1Ni5mcm9tVTMyKDApOwoKICAgIHB1YmxpYyBzdGF0aWMgYWRkKGE6IHUyNTYsIGI6IHUyNTYpOiB1MjU2IHsKICAgICAgICBjb25zdCBjOiB1MjU2ID0gdTI1Ni5hZGQoYSwgYik7CiAgICAgICAgaWYgKGMgPCBhKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmZU1hdGg6IGFkZGl0aW9uIG92ZXJmbG93Jyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYWRkMTI4KGE6IHUxMjgsIGI6IHUxMjgpOiB1MTI4IHsKICAgICAgICBjb25zdCBjOiB1MTI4ID0gdTEyOC5hZGQoYSwgYik7CiAgICAgICAgaWYgKGMgPCBhKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmZU1hdGg6IGFkZGl0aW9uIG92ZXJmbG93Jyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYWRkNjQoYTogdTY0LCBiOiB1NjQpOiB1NjQgewogICAgICAgIGNvbnN0IGM6IHU2NCA9IGEgKyBiOwoKICAgICAgICBpZiAoYyA8IGEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogYWRkaXRpb24gb3ZlcmZsb3cnKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBzdWIoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgewogICAgICAgIGlmIChhIDwgYikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoOiBzdWJ0cmFjdGlvbiBvdmVyZmxvdycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHUyNTYuc3ViKGEsIGIpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgc3ViMTI4KGE6IHUxMjgsIGI6IHUxMjgpOiB1MTI4IHsKICAgICAgICBpZiAoYSA8IGIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogc3VidHJhY3Rpb24gb3ZlcmZsb3cnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB1MTI4LnN1YihhLCBiKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHN1YjY0KGE6IHU2NCwgYjogdTY0KTogdTY0IHsKICAgICAgICBpZiAoYSA8IGIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogc3VidHJhY3Rpb24gb3ZlcmZsb3cnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhIC0gYjsKICAgIH0KCiAgICAvLyBDb21wdXRlcyAoYSAqIGIpICUgbW9kdWx1cyB3aXRoIGZ1bGwgcHJlY2lzaW9uCiAgICBwdWJsaWMgc3RhdGljIG11bG1vZChhOiB1MjU2LCBiOiB1MjU2LCBtb2R1bHVzOiB1MjU2KTogdTI1NiB7CiAgICAgICAgaWYgKHUyNTYuZXEobW9kdWx1cywgdTI1Ni5aZXJvKSkgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogbW9kdWxvIGJ5IHplcm8nKTsKCiAgICAgICAgY29uc3QgbXVsID0gU2FmZU1hdGgubXVsKGEsIGIpOwogICAgICAgIHJldHVybiBTYWZlTWF0aC5tb2QobXVsLCBtb2R1bHVzKTsKICAgIH0KCiAgICBAdW5zYWZlCiAgICBAb3BlcmF0b3IoJyUnKQogICAgcHVibGljIHN0YXRpYyBtb2QoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgewogICAgICAgIGlmICh1MjU2LmVxKGIsIHUyNTYuWmVybykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogbW9kdWxvIGJ5IHplcm8nKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGRpdlJlc3VsdCA9IFNhZmVNYXRoLmRpdihhLCBiKTsKICAgICAgICBjb25zdCBwcm9kdWN0ID0gU2FmZU1hdGgubXVsKGRpdlJlc3VsdCwgYik7CiAgICAgICAgcmV0dXJuIFNhZmVNYXRoLnN1YihhLCBwcm9kdWN0KTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIG1vZEludmVyc2UoazogdTI1NiwgcDogdTI1Nik6IHUyNTYgewogICAgICAgIGxldCBzID0gdTI1Ni5aZXJvOwogICAgICAgIGxldCBvbGRfcyA9IHUyNTYuT25lOwogICAgICAgIGxldCByID0gcDsKICAgICAgICBsZXQgb2xkX3IgPSBrOwoKICAgICAgICB3aGlsZSAoIXIuaXNaZXJvKCkpIHsKICAgICAgICAgICAgY29uc3QgcXVvdGllbnQgPSBTYWZlTWF0aC5kaXYob2xkX3IsIHIpOwoKICAgICAgICAgICAgLy8gLS0tIFVwZGF0ZSByIC0tLQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBvbGRfciAtIChxdW90aWVudCAqIHIpCiAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSByOwogICAgICAgICAgICAgICAgciA9IHUyNTYuc3ViKG9sZF9yLCB1MjU2Lm11bChxdW90aWVudCwgcikpOyAgLy8gdW5jaGVja2VkIHN1YnRyYWN0CiAgICAgICAgICAgICAgICBvbGRfciA9IHRtcDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gLS0tIFVwZGF0ZSBzIC0tLQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBvbGRfcyAtIChxdW90aWVudCAqIHMpCiAgICAgICAgICAgICAgICBjb25zdCB0bXAgPSBzOwogICAgICAgICAgICAgICAgcyA9IHUyNTYuc3ViKG9sZF9zLCB1MjU2Lm11bChxdW90aWVudCwgcykpOyAgLy8gdW5jaGVja2VkIHN1YnRyYWN0CiAgICAgICAgICAgICAgICBvbGRfcyA9IHRtcDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgYG9sZF9yYCBpcyB0aGUgZ2NkKGssIHApLiBJZiBnY2QgIT0gMSA9PiBubyBpbnZlcnNlCiAgICAgICAgLy8gKGluIGEgcHJpbWUgZmllbGQgcCwgZ2NkPTEgaWYgayAhPSAwKS4KICAgICAgICAvLyBXZSBjb3VsZCBlbmZvcmNlIHRoaXMgYnkgY2hlY2tpbmcgYG9sZF9yID09IDFgIGJ1dCB3ZSdsbCBsZWF2ZSBpdCB0byB0aGUgY2FsbGVyLgoKICAgICAgICAvLyBUaGUgZXh0ZW5kZWQgRXVjbGlkZWFuIGFsZ29yaXRobSBzYXlzIGBvbGRfc2AgaXMgdGhlIGludmVyc2UgKHBvc3NpYmx5IG5lZ2F0aXZlKSwKICAgICAgICAvLyBzbyB3ZSByZWR1Y2UgbW9kIHAKICAgICAgICByZXR1cm4gU2FmZU1hdGgubW9kKG9sZF9zLCBwKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGlzRXZlbihhOiB1MjU2KTogYm9vbCB7CiAgICAgICAgcmV0dXJuIHUyNTYuYW5kKGEsIHUyNTYuT25lKSA9PSB1MjU2Llplcm87CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBwb3coYmFzZTogdTI1NiwgZXhwb25lbnQ6IHUyNTYpOiB1MjU2IHsKICAgICAgICBsZXQgcmVzdWx0OiB1MjU2ID0gdTI1Ni5PbmU7CiAgICAgICAgd2hpbGUgKHUyNTYuZ3QoZXhwb25lbnQsIHUyNTYuWmVybykpIHsKICAgICAgICAgICAgaWYgKHUyNTYubmUodTI1Ni5hbmQoZXhwb25lbnQsIHUyNTYuT25lKSwgdTI1Ni5aZXJvKSkgewogICAgICAgICAgICAgICAgcmVzdWx0ID0gU2FmZU1hdGgubXVsKHJlc3VsdCwgYmFzZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJhc2UgPSBTYWZlTWF0aC5tdWwoYmFzZSwgYmFzZSk7CiAgICAgICAgICAgIGV4cG9uZW50ID0gdTI1Ni5zaHIoZXhwb25lbnQsIDEpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgbXVsKGE6IHUyNTYsIGI6IHUyNTYpOiB1MjU2IHsKICAgICAgICBpZiAoYSA9PT0gU2FmZU1hdGguWkVSTyB8fCBiID09PSBTYWZlTWF0aC5aRVJPKSB7CiAgICAgICAgICAgIHJldHVybiBTYWZlTWF0aC5aRVJPOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgYzogdTI1NiA9IHUyNTYubXVsKGEsIGIpOwogICAgICAgIGNvbnN0IGQ6IHUyNTYgPSBTYWZlTWF0aC5kaXYoYywgYSk7CgogICAgICAgIGlmICh1MjU2Lm5lKGQsIGIpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmZU1hdGg6IG11bHRpcGxpY2F0aW9uIG92ZXJmbG93Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYzsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIG11bDEyOChhOiB1MTI4LCBiOiB1MTI4KTogdTEyOCB7CiAgICAgICAgaWYgKGEgPT09IHUxMjguWmVybyB8fCBiID09PSB1MTI4Llplcm8pIHsKICAgICAgICAgICAgcmV0dXJuIHUxMjguWmVybzsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGM6IHUxMjggPSB1MTI4Lm11bChhLCBiKTsKICAgICAgICBjb25zdCBkOiB1MTI4ID0gU2FmZU1hdGguZGl2MTI4KGMsIGEpOwoKICAgICAgICBpZiAodTEyOC5uZShkLCBiKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoOiBtdWx0aXBsaWNhdGlvbiBvdmVyZmxvdycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGM7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBkaXYxMjgoYTogdTEyOCwgYjogdTEyOCk6IHUxMjggewogICAgICAgIGlmIChiLmlzWmVybygpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGl2aXNpb24gYnkgemVybycpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGEuaXNaZXJvKCkpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyB1MTI4KCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodTEyOC5sdChhLCBiKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IHUxMjgoKTsgLy8gUmV0dXJuIDAgaWYgYSA8IGIKICAgICAgICB9CgogICAgICAgIGlmICh1MTI4LmVxKGEsIGIpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgdTEyOCgxKTsgLy8gUmV0dXJuIDEgaWYgYSA9PSBiCiAgICAgICAgfQoKICAgICAgICBsZXQgbiA9IGEuY2xvbmUoKTsKICAgICAgICBsZXQgZCA9IGIuY2xvbmUoKTsKICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IHUxMjgoKTsKCiAgICAgICAgY29uc3Qgc2hpZnQgPSB1MTI4LmNseihkKSAtIHUxMjguY2x6KG4pOwogICAgICAgIGQgPSBTYWZlTWF0aC5zaGwxMjgoZCwgc2hpZnQpOyAvLyBhbGlnbiBkIHdpdGggbiBieSBzaGlmdGluZyBsZWZ0CgogICAgICAgIGZvciAobGV0IGkgPSBzaGlmdDsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKHUxMjguZ2UobiwgZCkpIHsKICAgICAgICAgICAgICAgIG4gPSB1MTI4LnN1YihuLCBkKTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHUxMjgub3IocmVzdWx0LCBTYWZlTWF0aC5zaGwxMjgodTEyOC5PbmUsIGkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkID0gdTEyOC5zaHIoZCwgMSk7IC8vIHJlc3RvcmUgZCB0byBvcmlnaW5hbCBieSBzaGlmdGluZyByaWdodAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBAdW5zYWZlCiAgICBAb3BlcmF0b3IoJy8nKQogICAgcHVibGljIHN0YXRpYyBkaXYoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgewogICAgICAgIGlmIChiLmlzWmVybygpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGl2aXNpb24gYnkgemVybycpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGEuaXNaZXJvKCkpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyB1MjU2KCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodTI1Ni5sdChhLCBiKSkgewogICAgICAgICAgICByZXR1cm4gbmV3IHUyNTYoKTsgLy8gUmV0dXJuIDAgaWYgYSA8IGIKICAgICAgICB9CgogICAgICAgIGlmICh1MjU2LmVxKGEsIGIpKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgdTI1NigxKTsgLy8gUmV0dXJuIDEgaWYgYSA9PSBiCiAgICAgICAgfQoKICAgICAgICBsZXQgbiA9IGEuY2xvbmUoKTsKICAgICAgICBsZXQgZCA9IGIuY2xvbmUoKTsKICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IHUyNTYoKTsKCiAgICAgICAgY29uc3Qgc2hpZnQgPSB1MjU2LmNseihkKSAtIHUyNTYuY2x6KG4pOwogICAgICAgIGQgPSBTYWZlTWF0aC5zaGwoZCwgc2hpZnQpOyAvLyBhbGlnbiBkIHdpdGggbiBieSBzaGlmdGluZyBsZWZ0CgogICAgICAgIGZvciAobGV0IGkgPSBzaGlmdDsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgaWYgKHUyNTYuZ2UobiwgZCkpIHsKICAgICAgICAgICAgICAgIG4gPSB1MjU2LnN1YihuLCBkKTsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHUyNTYub3IocmVzdWx0LCBTYWZlTWF0aC5zaGwodTI1Ni5PbmUsIGkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkID0gdTI1Ni5zaHIoZCwgMSk7IC8vIHJlc3RvcmUgZCB0byBvcmlnaW5hbCBieSBzaGlmdGluZyByaWdodAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIG1pbihhOiB1MjU2LCBiOiB1MjU2KTogdTI1NiB7CiAgICAgICAgcmV0dXJuIHUyNTYubHQoYSwgYikgPyBhIDogYjsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIG1heChhOiB1MjU2LCBiOiB1MjU2KTogdTI1NiB7CiAgICAgICAgcmV0dXJuIHUyNTYuZ3QoYSwgYikgPyBhIDogYjsKICAgIH0KCiAgICBAdW5zYWZlCiAgICBwdWJsaWMgc3RhdGljIHNxcnQoeTogdTI1Nik6IHUyNTYgewogICAgICAgIGlmICh1MjU2Lmd0KHksIHUyNTYuZnJvbVUzMigzKSkpIHsKICAgICAgICAgICAgbGV0IHogPSB5OwoKICAgICAgICAgICAgY29uc3QgdTI0Nl8yID0gdTI1Ni5mcm9tVTMyKDIpOwoKICAgICAgICAgICAgY29uc3QgZCA9IFNhZmVNYXRoLmRpdih5LCB1MjQ2XzIpOwogICAgICAgICAgICBsZXQgeCA9IFNhZmVNYXRoLmFkZChkLCB1MjU2Lk9uZSk7CgogICAgICAgICAgICB3aGlsZSAodTI1Ni5sdCh4LCB6KSkgewogICAgICAgICAgICAgICAgeiA9IHg7CgogICAgICAgICAgICAgICAgY29uc3QgdSA9IFNhZmVNYXRoLmRpdih5LCB4KTsKICAgICAgICAgICAgICAgIGNvbnN0IHkyID0gdTI1Ni5hZGQodSwgeCk7CgogICAgICAgICAgICAgICAgeCA9IFNhZmVNYXRoLmRpdih5MiwgdTI0Nl8yKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHo7CiAgICAgICAgfSBlbHNlIGlmICghdTI1Ni5lcSh5LCB1MjU2Llplcm8pKSB7CiAgICAgICAgICAgIHJldHVybiB1MjU2Lk9uZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgICAgIH0KICAgIH0KCiAgICBAdW5zYWZlCiAgICBwdWJsaWMgc3RhdGljIHNobCh2YWx1ZTogdTI1Niwgc2hpZnQ6IGkzMik6IHUyNTYgewogICAgICAgIC8vIElmIHNoaWZ0IDw9IDAsIG5vIGxlZnQgc2hpZnQgbmVlZGVkIChzaGlmdD0wID0+IHJldHVybiBjbG9uZSwgc2hpZnQ8MCA9PiB0cmVhdCBhcyAwKS4KICAgICAgICBpZiAoc2hpZnQgPD0gMCkgewogICAgICAgICAgICByZXR1cm4gc2hpZnQgPT0gMCA/IHZhbHVlLmNsb25lKCkgOiBuZXcgdTI1NigpOyAvLyBvciBqdXN0IHJldHVybiB2YWx1ZSBpZiBzaGlmdDwwIGlzIGludmFsaWQKICAgICAgICB9CgogICAgICAgIC8vIElmIHNoaWZ0ID49IDI1NiwgdGhlIHJlc3VsdCBpcyB6ZXJvCiAgICAgICAgaWYgKHNoaWZ0ID49IDI1NikgewogICAgICAgICAgICByZXR1cm4gbmV3IHUyNTYoKTsKICAgICAgICB9CgogICAgICAgIC8vIE5vdyBzaGlmdCBpcyBpbiBbMS4uMjU1XS4gTWFza2luZyBpcyBvcHRpb25hbCBmb3IgY2xhcml0eToKICAgICAgICBzaGlmdCAmPSAyNTU7CgogICAgICAgIGNvbnN0IGJpdHNQZXJTZWdtZW50ID0gNjQ7CiAgICAgICAgY29uc3Qgc2VnbWVudFNoaWZ0ID0gKHNoaWZ0IC8gYml0c1BlclNlZ21lbnQpIHwgMDsKICAgICAgICBjb25zdCBiaXRTaGlmdCA9IHNoaWZ0ICUgYml0c1BlclNlZ21lbnQ7CgogICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW3ZhbHVlLmxvMSwgdmFsdWUubG8yLCB2YWx1ZS5oaTEsIHZhbHVlLmhpMl07CiAgICAgICAgY29uc3QgcmVzdWx0ID0gU2FmZU1hdGguc2hsU2VnbWVudChzZWdtZW50cywgc2VnbWVudFNoaWZ0LCBiaXRTaGlmdCwgYml0c1BlclNlZ21lbnQsIDQpOwogICAgICAgIHJldHVybiBuZXcgdTI1NihyZXN1bHRbMF0sIHJlc3VsdFsxXSwgcmVzdWx0WzJdLCByZXN1bHRbM10pOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgc2hsMTI4KHZhbHVlOiB1MTI4LCBzaGlmdDogaTMyKTogdTEyOCB7CiAgICAgICAgaWYgKHNoaWZ0IDw9IDApIHsKICAgICAgICAgICAgcmV0dXJuIHNoaWZ0ID09IDAgPyB2YWx1ZS5jbG9uZSgpIDogbmV3IHUxMjgoKTsKICAgICAgICB9CgogICAgICAgIC8vIEhlcmUgdGhlIHRvdGFsIGJpdCB3aWR0aCBpcyAxMjgsIHNvIHNoaWZ0aW5nID49IDEyOCBiaXRzID0+IHplcm8KICAgICAgICBpZiAoc2hpZnQgPj0gMTI4KSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgdTEyOCgpOwogICAgICAgIH0KCiAgICAgICAgLy8gTWFzayB0byAwLi4xMjcKICAgICAgICBzaGlmdCAmPSAxMjc7CgogICAgICAgIGNvbnN0IGJpdHNQZXJTZWdtZW50ID0gNjQ7CgogICAgICAgIGNvbnN0IHNlZ21lbnRTaGlmdCA9IChzaGlmdCAvIGJpdHNQZXJTZWdtZW50KSB8IDA7CiAgICAgICAgY29uc3QgYml0U2hpZnQgPSBzaGlmdCAlIGJpdHNQZXJTZWdtZW50OwoKICAgICAgICBjb25zdCBzZWdtZW50cyA9IFt2YWx1ZS5sbywgdmFsdWUuaGldOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IFNhZmVNYXRoLnNobFNlZ21lbnQoc2VnbWVudHMsIHNlZ21lbnRTaGlmdCwgYml0U2hpZnQsIGJpdHNQZXJTZWdtZW50LCAyKTsKICAgICAgICByZXR1cm4gbmV3IHUxMjgocmVzdWx0WzBdLCByZXN1bHRbMV0pOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYW5kKGE6IHUyNTYsIGI6IHUyNTYpOiB1MjU2IHsKICAgICAgICByZXR1cm4gdTI1Ni5hbmQoYSwgYik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBvcihhOiB1MjU2LCBiOiB1MjU2KTogdTI1NiB7CiAgICAgICAgcmV0dXJuIHUyNTYub3IoYSwgYik7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyB4b3IoYTogdTI1NiwgYjogdTI1Nik6IHUyNTYgewogICAgICAgIHJldHVybiB1MjU2LnhvcihhLCBiKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHNocihhOiB1MjU2LCBzaGlmdDogaTMyKTogdTI1NiB7CiAgICAgICAgc2hpZnQgJj0gMjU1OwogICAgICAgIGlmIChzaGlmdCA9PSAwKSByZXR1cm4gYTsKCiAgICAgICAgY29uc3QgdyA9IHNoaWZ0ID4+PiA2OyAvLyBob3cgbWFueSBmdWxsIDY0LWJpdCB3b3JkcyB0byBkcm9wCiAgICAgICAgY29uc3QgYiA9IHNoaWZ0ICYgNjM7IC8vIGhvdyBtYW55IGJpdHMgdG8gc2hpZnQgd2l0aGluIGEgd29yZAoKICAgICAgICAvLyBFeHRyYWN0IHRoZSB3b3JkcwogICAgICAgIGxldCBsbzEgPSBhLmxvMTsKICAgICAgICBsZXQgbG8yID0gYS5sbzI7CiAgICAgICAgbGV0IGhpMSA9IGEuaGkxOwogICAgICAgIGxldCBoaTIgPSBhLmhpMjsKCiAgICAgICAgLy8gU2hpZnQgd29yZHMgZG93biBieSB3IHdvcmRzCiAgICAgICAgLy8gRm9yIHcgPSAxLCBtb3ZlIGxvMi0+bG8xLCBoaTEtPmxvMiwgaGkyLT5oaTEsIGFuZCBoaTIgPSAwCiAgICAgICAgLy8gRm9yIHcgPSAyLCBtb3ZlIGhpMS0+bG8xLCBoaTItPmxvMiwgYW5kIHplcm9zIGluIGhpMSwgaGkyCiAgICAgICAgLy8gRm9yIHcgPSAzLCBtb3ZlIGhpMi0+bG8xIGFuZCB6ZXJvcyBpbiBvdGhlcnMKICAgICAgICAvLyBGb3IgdyA+PSA0LCBldmVyeXRoaW5nIGlzIHplcm8uCiAgICAgICAgaWYgKHcgPj0gNCkgewogICAgICAgICAgICAvLyBTaGlmdGluZyBieSA+PSAyNTYgYml0cyB6ZXJvcyBvdXQgZXZlcnl0aGluZwogICAgICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgICAgIH0gZWxzZSBpZiAodyA9PSAzKSB7CiAgICAgICAgICAgIGxvMSA9IGhpMjsKICAgICAgICAgICAgbG8yID0gMDsKICAgICAgICAgICAgaGkxID0gMDsKICAgICAgICAgICAgaGkyID0gMDsKICAgICAgICB9IGVsc2UgaWYgKHcgPT0gMikgewogICAgICAgICAgICBsbzEgPSBoaTE7CiAgICAgICAgICAgIGxvMiA9IGhpMjsKICAgICAgICAgICAgaGkxID0gMDsKICAgICAgICAgICAgaGkyID0gMDsKICAgICAgICB9IGVsc2UgaWYgKHcgPT0gMSkgewogICAgICAgICAgICBsbzEgPSBsbzI7CiAgICAgICAgICAgIGxvMiA9IGhpMTsKICAgICAgICAgICAgaGkxID0gaGkyOwogICAgICAgICAgICBoaTIgPSAwOwogICAgICAgIH0KCiAgICAgICAgLy8gTm93IGFwcGx5IHRoZSBiaXQgc2hpZnQgYgogICAgICAgIGlmIChiID4gMCkgewogICAgICAgICAgICAvLyBCcmluZyBkb3duIGJpdHMgZnJvbSB0aGUgaGlnaGVyIHdvcmQKICAgICAgICAgICAgY29uc3QgY2FycnlMbzIgPSBoaTEgPDwgKDY0IC0gYik7CiAgICAgICAgICAgIGNvbnN0IGNhcnJ5TG8xID0gbG8yIDw8ICg2NCAtIGIpOwogICAgICAgICAgICBjb25zdCBjYXJyeUhpMSA9IGhpMiA8PCAoNjQgLSBiKTsKCiAgICAgICAgICAgIGxvMSA9IChsbzEgPj4+IGIpIHwgY2FycnlMbzE7CiAgICAgICAgICAgIGxvMiA9IChsbzIgPj4+IGIpIHwgY2FycnlMbzI7CiAgICAgICAgICAgIGhpMSA9IChoaTEgPj4+IGIpIHwgY2FycnlIaTE7CiAgICAgICAgICAgIGhpMiA9IGhpMiA+Pj4gYjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgdTI1NihsbzEsIGxvMiwgaGkxLCBoaTIpOwogICAgfQoKICAgIC8qKgogICAgICogSW5jcmVtZW50IGEgdTI1NiB2YWx1ZSBieSAxCiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGluY3JlbWVudAogICAgICogQHJldHVybnMgVGhlIGluY3JlbWVudGVkIHZhbHVlCiAgICAgKi8KICAgIHN0YXRpYyBpbmModmFsdWU6IHUyNTYpOiB1MjU2IHsKICAgICAgICBpZiAodTI1Ni5lcSh2YWx1ZSwgdTI1Ni5NYXgpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmZU1hdGg6IGluY3JlbWVudCBvdmVyZmxvdycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHZhbHVlLnByZUluYygpOwogICAgfQoKICAgIC8qKgogICAgICogRGVjcmVtZW50IGEgdTI1NiB2YWx1ZSBieSAxCiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGRlY3JlbWVudAogICAgICogQHJldHVybnMgVGhlIGRlY3JlbWVudGVkIHZhbHVlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZGVjKHZhbHVlOiB1MjU2KTogdTI1NiB7CiAgICAgICAgaWYgKHUyNTYuZXEodmFsdWUsIHUyNTYuWmVybykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aDogZGVjcmVtZW50IG92ZXJmbG93Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmFsdWUucHJlRGVjKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIGJpbmFyeSBsb2dhcml0aG0gKGxvZzIpIG9mIGEgdTI1NiBpbnRlZ2VyLgogICAgICogQHBhcmFtIHggLSBUaGUgaW5wdXQgdmFsdWUgZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSBsb2cyKHgpLgogICAgICogQHJldHVybnMgVGhlIGFwcHJveGltYXRlIGxvZzIoeCkgYXMgdTI1Ni4KICAgICAqLwogICAgQHVuc2FmZQogICAgcHVibGljIHN0YXRpYyBhcHByb3hpbWF0ZUxvZzIoeDogdTI1Nik6IHUyNTYgewogICAgICAgIC8vIENvdW50IHRoZSBwb3NpdGlvbiBvZiB0aGUgaGlnaGVzdCBiaXQgc2V0CiAgICAgICAgbGV0IG46IHUyNTYgPSB1MjU2Llplcm87CiAgICAgICAgbGV0IHZhbHVlID0geDsKCiAgICAgICAgd2hpbGUgKHUyNTYuZ3QodmFsdWUsIHUyNTYuT25lKSkgewogICAgICAgICAgICB2YWx1ZSA9IHUyNTYuc2hyKHZhbHVlLCAxKTsKICAgICAgICAgICAgbiA9IFNhZmVNYXRoLmFkZChuLCB1MjU2Lk9uZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGJpdExlbmd0aDI1Nih4OiB1MjU2KTogdTMyIHsKICAgICAgICAvLyBJZiB6ZXJvID0+IGJpdGxlbmd0aCBpcyAwCiAgICAgICAgaWYgKHUyNTYuZXEoeCwgdTI1Ni5aZXJvKSkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIC8vIGhpMiAhPSAwID0+IHRvcCA2NCBiaXRzID0+IGJpdCBwb3NpdGlvbnMgMTkyLi4yNTUKICAgICAgICBpZiAoeC5oaTIgIT0gMCkgewogICAgICAgICAgICBjb25zdCBwYXJ0aWFsOiB1MzIgPSBTYWZlTWF0aC5iaXRMZW5ndGg2NCh4LmhpMik7CiAgICAgICAgICAgIHJldHVybiAxOTIgKyBwYXJ0aWFsOwogICAgICAgIH0KCiAgICAgICAgLy8gaGkxICE9IDAgPT4gbmV4dCA2NCBiaXRzID0+IGJpdCBwb3NpdGlvbnMgMTI4Li4xOTEKICAgICAgICBpZiAoeC5oaTEgIT0gMCkgewogICAgICAgICAgICBjb25zdCBwYXJ0aWFsOiB1MzIgPSBTYWZlTWF0aC5iaXRMZW5ndGg2NCh4LmhpMSk7CiAgICAgICAgICAgIHJldHVybiAxMjggKyBwYXJ0aWFsOwogICAgICAgIH0KCiAgICAgICAgLy8gbG8yICE9IDAgPT4gbmV4dCA2NCBiaXRzID0+IGJpdCBwb3NpdGlvbnMgNjQuLjEyNwogICAgICAgIGlmICh4LmxvMiAhPSAwKSB7CiAgICAgICAgICAgIGNvbnN0IHBhcnRpYWw6IHUzMiA9IFNhZmVNYXRoLmJpdExlbmd0aDY0KHgubG8yKTsKICAgICAgICAgICAgcmV0dXJuIDY0ICsgcGFydGlhbDsKICAgICAgICB9CgogICAgICAgIC8vIGVsc2UgaW4gbG8xID0+IGJpdCBwb3NpdGlvbnMgMC4uNjMKICAgICAgICByZXR1cm4gU2FmZU1hdGguYml0TGVuZ3RoNjQoeC5sbzEpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgYXBwcm94TG9nKHg6IHUyNTYpOiB1MjU2IHsKICAgICAgICAvLyBJZiB4ID09IDAgb3IgeCA9PSAxLCByZXR1cm4gMCAobG4oMSk9MCwgbG4oMCkgaXMgdW5kZWZpbmVkIGJ1dCB3ZSB0cmVhdCBhcyAwKQogICAgICAgIGlmICh4LmlzWmVybygpIHx8IHUyNTYuZXEoeCwgdTI1Ni5PbmUpKSB7CiAgICAgICAgICAgIHJldHVybiB1MjU2Llplcm87CiAgICAgICAgfQoKICAgICAgICAvLyAxKSBGaW5kIGJpdCBsZW5ndGgKICAgICAgICBjb25zdCBiaXRMZW46IHUzMiA9IFNhZmVNYXRoLmJpdExlbmd0aDI1Nih4KTsKICAgICAgICAvLyBpZiBiaXRMZW49MCBvciAxID0+IHRoYXQgaW1wbGllcyB4IDw9MSwgYnV0IHdlIGFscmVhZHkgaGFuZGxlZCB4PTAsMSA9PiBqdXN0IHNhZmUtY2hlY2sKICAgICAgICBpZiAoYml0TGVuIDw9IDEpIHsKICAgICAgICAgICAgcmV0dXJuIHUyNTYuWmVybzsKICAgICAgICB9CgogICAgICAgIC8vIDIpIGxuKHgpIH4gKGJpdExlbiAtIDEpICogbG4oMikKICAgICAgICAvLyBXZSdsbCBzdG9yZSBsbigyKSBpbiBhIHNjYWxlZCBpbnRlZ2VyLiBlLmcuLCBMTjJfU0NBTEVEID0gNjkzMTQ3ID0+IGxuKDIpKjFlNgogICAgICAgIGNvbnN0IExOMl9TQ0FMRUQ6IHU2NCA9IDY5MzE0NzsgLy8gYXBwcm94aW1hdGUgbG4oMikqMWU2CiAgICAgICAgY29uc3QgbG9nMkNvdW50OiB1NjQgPSAoYml0TGVuIC0gMSkgYXMgdTY0OyAvLyBpbnRlZ2VyIHBhcnQgb2YgbG9nMih4KQoKICAgICAgICAvLyBNdWx0aXBseSBpbiBwdXJlIGludGVnZXIKICAgICAgICByZXR1cm4gU2FmZU1hdGgubXVsKHUyNTYuZnJvbVU2NChsb2cyQ291bnQpLCB1MjU2LmZyb21VNjQoTE4yX1NDQUxFRCkpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIGxuKHgpICogMWU2IGZvciB4PjEuIElmIHg9PTAgb3IgMSwgcmV0dXJucyAwLgogICAgICogVXNlczogbG4oeCkgPSAoayAqIGxuKDIpKSArIGxuKDEgKyByKSwKICAgICAqICAgd2hlcmUgayA9IGZsb29yKGxvZzIoeCkpIGFuZCByID0gKHggLSAyXmspLzJeawogICAgICovCiAgICBAdW5zYWZlIC8vIFVOVEVTVEVELgogICAgcHVibGljIHN0YXRpYyBwcmVjaXNlTG9nKHg6IHUyNTYpOiB1MjU2IHsKICAgICAgICBpZiAoeC5pc1plcm8oKSB8fCB1MjU2LmVxKHgsIHUyNTYuT25lKSkgewogICAgICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgYml0TGVuID0gU2FmZU1hdGguYml0TGVuZ3RoMjU2KHgpOwogICAgICAgIGlmIChiaXRMZW4gPD0gMSkgewogICAgICAgICAgICByZXR1cm4gdTI1Ni5aZXJvOwogICAgICAgIH0KCiAgICAgICAgLy8gaW50ZWdlciBwYXJ0IG9mIGxvZzIoeCkKICAgICAgICBjb25zdCBrOiB1MzIgPSBiaXRMZW4gLSAxOwogICAgICAgIGNvbnN0IExOMl9TQ0FMRUQgPSB1MjU2LmZyb21VNjQoNjkzMTQ3KTsgLy8gbG4oMikqMWU2CiAgICAgICAgY29uc3QgYmFzZTogdTI1NiA9IFNhZmVNYXRoLm11bCh1MjU2LmZyb21VMzIoayksIExOMl9TQ0FMRUQpOwoKICAgICAgICAvLyAyXmsKICAgICAgICBjb25zdCBwb3cyayA9IFNhZmVNYXRoLnNobCh1MjU2Lk9uZSwgPGkzMj5rKTsKICAgICAgICBjb25zdCB4UHJpbWUgPSBTYWZlTWF0aC5zdWIoeCwgcG93MmspOyAvLyBsZWZ0b3ZlcgoKICAgICAgICBpZiAoeFByaW1lLmlzWmVybygpKSB7CiAgICAgICAgICAgIC8vIHggd2FzIGV4YWN0bHkgMl5rID0+IG5vIGZyYWN0aW9uYWwgcGFydAogICAgICAgICAgICByZXR1cm4gYmFzZTsKICAgICAgICB9CgogICAgICAgIC8vIHJTY2FsZWQgPSAoKHggLSAyXmspKjFlNikvMl5rCiAgICAgICAgY29uc3QgeFByaW1lVGltZXMxZTYgPSBTYWZlTWF0aC5tdWwoeFByaW1lLCB1MjU2LmZyb21VNjQoMV8wMDBfMDAwKSk7CiAgICAgICAgY29uc3QgclNjYWxlZCA9IFNhZmVNYXRoLmRpdih4UHJpbWVUaW1lczFlNiwgcG93MmspOyAvLyAwLi45OTk5OTkKCiAgICAgICAgLy8gYXBwcm94aW1hdGUgbG4oMSArIHIpCiAgICAgICAgY29uc3QgZnJhYzogdTY0ID0gU2FmZU1hdGgucG9seUxuMXAzKHJTY2FsZWQudG9VNjQoKSk7CgogICAgICAgIHJldHVybiBTYWZlTWF0aC5hZGQoYmFzZSwgdTI1Ni5mcm9tVTY0KGZyYWMpKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIHBvdzEwKGV4cG9uZW50OiB1OCk6IHUyNTYgewogICAgICAgIGxldCByZXN1bHQ6IHUyNTYgPSB1MjU2Lk9uZTsKICAgICAgICBmb3IgKGxldCBpOiB1OCA9IDA7IGkgPCBleHBvbmVudDsgaSsrKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IFNhZmVNYXRoLm11bChyZXN1bHQsIHUyNTYuZnJvbVUzMigxMCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIC8qKgogICAgICogcG9seUxuMXAzOiAzLXRlcm0gcG9seW5vbWlhbCBmb3IgbG4oMSArIHopLCB3aXRoIHogaW4gWzAsMSkuCiAgICAgKiByU2NhbGVkID0geiAqIDFlNgogICAgICogcmV0dXJucyAobG4oMSt6KSkgaW4gc2NhbGU9MWU2CiAgICAgKi8KICAgIC8vIFVOVEVTVEVELgogICAgQHVuc2FmZQogICAgcHVibGljIHN0YXRpYyBwb2x5TG4xcDMoclNjYWxlZDogdTY0KTogdTY0IHsKICAgICAgICAvLyB0ZXJtMSA9IHoKICAgICAgICBjb25zdCB0ZXJtMTogdTY0ID0gclNjYWxlZDsKCiAgICAgICAgLy8gdGVybTIgPT4gel4yLzIKICAgICAgICBjb25zdCB6MiA9IHRlcm0xICogdGVybTE7IC8vIHVwIHRvIDFlMTIKICAgICAgICBjb25zdCB6MkRpdiA9ICh6MiAvIDFfMDAwXzAwMCkgPj4+IDE7IC8vIGRpdmlkZSBieSBzY2FsZSBhbmQgYnkgMgoKICAgICAgICAvLyB0ZXJtMyA9PiB6XjMvMwogICAgICAgIGNvbnN0IHozID0gejIgKiB0ZXJtMTsgLy8gdXAgdG8gMWUxOAogICAgICAgIGNvbnN0IHozRGl2ID0gejMgLyAoMV8wMDBfMDAwICogMV8wMDBfMDAwKSAvIDM7IC8vID0+IHNjYWxlCgogICAgICAgIC8vIGxuKDEreikgfiB6IC0gel4yLzIgKyB6XjMvMwogICAgICAgIHJldHVybiB0ZXJtMSAtIHoyRGl2ICsgejNEaXY7CiAgICB9CgogICAgcHJpdmF0ZSBzdGF0aWMgYml0TGVuZ3RoNjQodmFsdWU6IHU2NCk6IHUzMiB7CiAgICAgICAgaWYgKHZhbHVlID09IDApIHJldHVybiAwOwoKICAgICAgICBsZXQgY291bnQ6IHUzMiA9IDA7CiAgICAgICAgbGV0IHRlbXAgPSB2YWx1ZTsKICAgICAgICB3aGlsZSAodGVtcCA+IDApIHsKICAgICAgICAgICAgdGVtcCA+Pj49IDE7IC8vIGxvZ2ljYWwgc2hpZnQgcmlnaHQKICAgICAgICAgICAgY291bnQrKzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvdW50OwogICAgfQoKICAgIHByaXZhdGUgc3RhdGljIHNobFNlZ21lbnQoCiAgICAgICAgc2VnbWVudHM6IHU2NFtdLAogICAgICAgIHNlZ21lbnRTaGlmdDogaTMyLAogICAgICAgIGJpdFNoaWZ0OiBpMzIsCiAgICAgICAgYml0c1BlclNlZ21lbnQ6IGkzMiwKICAgICAgICBmaWxsQ291bnQ6IHU4LAogICAgKTogdTY0W10gewogICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheTx1NjQ+KGZpbGxDb3VudCkuZmlsbCgwKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaSArIHNlZ21lbnRTaGlmdCA8IHNlZ21lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmVzdWx0W2kgKyBzZWdtZW50U2hpZnRdIHw9IHNlZ21lbnRzW2ldIDw8IGJpdFNoaWZ0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiaXRTaGlmdCAhPSAwICYmIGkgKyBzZWdtZW50U2hpZnQgKyAxIDwgc2VnbWVudHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICByZXN1bHRbaSArIHNlZ21lbnRTaGlmdCArIDFdIHw9IHNlZ21lbnRzW2ldID4+PiAoYml0c1BlclNlZ21lbnQgLSBiaXRTaGlmdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/types/SafeMathI128.ts": "aW1wb3J0IHsgaTEyOCB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgpleHBvcnQgY2xhc3MgU2FmZU1hdGhJMTI4IHsKICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgWkVSTzogaTEyOCA9IGkxMjguZnJvbUkzMigwKTsKICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT05FOiBpMTI4ID0gaTEyOC5mcm9tSTMyKDEpOwogICAgcHVibGljIHN0YXRpYyByZWFkb25seSBORUdfT05FOiBpMTI4ID0gaTEyOC5mcm9tSTMyKC0xKTsKCiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1JTjogaTEyOCA9IGkxMjguTWluOwogICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNQVg6IGkxMjggPSBpMTI4Lk1heDsKCiAgICAvKioKICAgICAqIFNhZmUgYWRkaXRpb24gZm9yIGkxMjguCiAgICAgKiBUaHJvd3MgaWYgKGEgKyBiKSBvdmVyZmxvd3Mgb3IgdW5kZXJmbG93cyB0aGUgc2lnbmVkIDEyOC1iaXQgcmFuZ2UuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgYWRkKGE6IGkxMjgsIGI6IGkxMjgpOiBpMTI4IHsKICAgICAgICBsZXQgYyA9IGkxMjguYWRkKGEsIGIpOwoKICAgICAgICAvLyBPdmVyZmxvdyBjaGVjayBmb3IgMidzIGNvbXBsZW1lbnQ6CiAgICAgICAgLy8gSWYgYSBhbmQgYiBoYXZlIHRoZSBzYW1lIHNpZ24sIGJ1dCBjIGRpZmZlcnMsIG92ZXJmbG93IG9jY3VycmVkLgogICAgICAgIC8vIFdlIGNhbiBkZXRlY3Qgc2lnbiBtaXNtYXRjaCB1c2luZyAoKGEgXiBjKSAmIChiIF4gYykpIDwgMAogICAgICAgIC8vIChpLmUuLCB0aGUgc2lnbiBiaXQgaXMgc2V0IGluIHRoYXQgZXhwcmVzc2lvbikuCiAgICAgICAgaWYgKCgoYSBeIGMpICYgKGIgXiBjKSkuaXNOZWcoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoSTEyODogYWRkaXRpb24gb3ZlcmZsb3cnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qKgogICAgICogU2FmZSBzdWJ0cmFjdGlvbiBmb3IgaTEyOC4KICAgICAqIFRocm93cyBpZiAoYSAtIGIpIG92ZXJmbG93cyBvciB1bmRlcmZsb3dzIHRoZSBzaWduZWQgMTI4LWJpdCByYW5nZS4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBzdWIoYTogaTEyOCwgYjogaTEyOCk6IGkxMjggewogICAgICAgIGxldCBjID0gaTEyOC5zdWIoYSwgYik7CgogICAgICAgIC8vIFN1YnRyYWN0aW9uIGlzIChhICsgKC1iKSkuIFdlIGNhbiBkbyBhIGRpcmVjdCBjaGVjayBsaWtlOgogICAgICAgIC8vIElmIChhIF4gYikgJiAoYSBeIGMpIGhhcyBzaWduIGJpdCBzZXQgPT4gb3ZlcmZsb3cuCiAgICAgICAgaWYgKCgoYSBeIGIpICYgKGEgXiBjKSkuaXNOZWcoKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoSTEyODogc3VidHJhY3Rpb24gb3ZlcmZsb3cnKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjOwogICAgfQoKICAgIC8qcHVibGljIHN0YXRpYyBtdWwoYTogaTEyOCwgYjogaTEyOCk6IGkxMjggewogICAgICAgIC8vIFF1aWNrIGNoZWNrOiBpZiBlaXRoZXIgaXMgWkVSTywgcHJvZHVjdCBpcyBaRVJPID0+IG5vIG92ZXJmbG93CiAgICAgICAgaWYgKGEgPT0gU2FmZU1hdGhJMTI4LlpFUk8gfHwgYiA9PSBTYWZlTWF0aEkxMjguWkVSTykgewogICAgICAgICAgICByZXR1cm4gU2FmZU1hdGhJMTI4LlpFUk87CiAgICAgICAgfQoKICAgICAgICBsZXQgYyA9IGkxMjgubXVsKGEsIGIpOwoKICAgICAgICAvLyBDaGVjayBvdmVyZmxvdzogYyAvIGIgc2hvdWxkIGJlIGV4YWN0bHkgYSAoaWYgYiAhPSAwKS4KICAgICAgICAvLyBBbHNvIHdhdGNoIGZvciB0aGUgaTEyOCBlZGdlIGNhc2U6IE1JTiAqIC0xID0+IHBvc3NpYmxlIG92ZXJmbG93IGlmIG5vdCByZXByZXNlbnRhYmxlLgogICAgICAgIC8vIFdlJ2xsIHJlbHkgb24gdGhlIGRpdmlzaW9uIGNoZWNrOgogICAgICAgIGlmIChiICE9IFNhZmVNYXRoSTEyOC5aRVJPKSB7CiAgICAgICAgICAgIGxldCBkaXZDaGVjayA9IGkxMjguZGl2KGMsIGIpOwogICAgICAgICAgICBpZiAoZGl2Q2hlY2sgIT0gYSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aEkxMjg6IG11bHRpcGxpY2F0aW9uIG92ZXJmbG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBjOwogICAgfSovCgogICAgLypwdWJsaWMgc3RhdGljIGRpdihhOiBpMTI4LCBiOiBpMTI4KTogaTEyOCB7CiAgICAgICAgaWYgKGIgPT0gU2FmZU1hdGhJMTI4LlpFUk8pIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aEkxMjg6IGRpdmlzaW9uIGJ5IHplcm8nKTsKICAgICAgICB9CgogICAgICAgIC8vIENoZWNrIGkxMjggZWRnZSBjYXNlOiBNSU4gLyAtMSA9PiBwb3NzaWJsZSBvdmVyZmxvdyBpZiBubyBjb3JyZXNwb25kaW5nIHBvc2l0aXZlLgogICAgICAgIGlmIChhID09IFNhZmVNYXRoSTEyOC5NSU4gJiYgYiA9PSBTYWZlTWF0aEkxMjguTkVHX09ORSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoSTEyODogZGl2aXNpb24gb3ZlcmZsb3cgKE1JTiAvIC0xKScpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGkxMjguZGl2KGEsIGIpOwogICAgfSovCgogICAgLypwdWJsaWMgc3RhdGljIG1vZChhOiBpMTI4LCBiOiBpMTI4KTogaTEyOCB7CiAgICAgICAgaWYgKGIgPT0gU2FmZU1hdGhJMTI4LlpFUk8pIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aEkxMjg6IG1vZHVsbyBieSB6ZXJvJyk7CiAgICAgICAgfQogICAgICAgIC8vIFNpbWlsYXIgZWRnZSBjYXNlIGFzIGRpdmlzaW9uOgogICAgICAgIGlmIChhID09IFNhZmVNYXRoSTEyOC5NSU4gJiYgYiA9PSBTYWZlTWF0aEkxMjguTkVHX09ORSkgewogICAgICAgICAgICAvLyBTb21lIGltcGxlbWVudGF0aW9ucyBtaWdodCB0cmVhdCBNSU4gJSAtMSA9PSAwLAogICAgICAgICAgICAvLyBidXQgaWYgdGhlIGxpYnJhcnkgZG9lc24ndCwgeW91IG1heSBoYW5kbGUgaXQgc2ltaWxhcmx5IHRvIGRpdmlzaW9uLgogICAgICAgICAgICAvLyBXZSdsbCBhc3N1bWUgd2UgdGhyb3cgdG8gYmUgc2FmZToKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aEkxMjg6IG1vZHVsbyBvdmVyZmxvdyAoTUlOICUgLTEpJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBVc2UgaTEyOC5yZW0sIGkxMjgubW9kLCBvciB0aGUgb3BlcmF0b3IgYXMgYXBwcm9wcmlhdGUuCiAgICAgICAgcmV0dXJuIGkxMjgucmVtKGEsIGIpOwogICAgfSovCgogICAgLyoqCiAgICAgKiBJbmNyZW1lbnQgYW4gaTEyOCBieSAxIHdpdGggb3ZlcmZsb3cgY2hlY2suCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgaW5jKHZhbHVlOiBpMTI4KTogaTEyOCB7CiAgICAgICAgaWYgKHZhbHVlID09IFNhZmVNYXRoSTEyOC5NQVgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWZlTWF0aEkxMjg6IGluYyBvdmVyZmxvdycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFNhZmVNYXRoSTEyOC5hZGQodmFsdWUsIFNhZmVNYXRoSTEyOC5PTkUpOwogICAgfQoKICAgIC8qKgogICAgICogRGVjcmVtZW50IGFuIGkxMjggYnkgMSB3aXRoIHVuZGVyZmxvdyBjaGVjay4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBkZWModmFsdWU6IGkxMjgpOiBpMTI4IHsKICAgICAgICBpZiAodmFsdWUgPT0gU2FmZU1hdGhJMTI4Lk1JTikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoSTEyODogZGVjIHVuZGVyZmxvdycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFNhZmVNYXRoSTEyOC5zdWIodmFsdWUsIFNhZmVNYXRoSTEyOC5PTkUpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB4LCB0aHJvd2luZyBpZiB4ID09IE1JTiAoc2luY2UgfE1JTnwgbWlnaHQgbm90IGJlIHJlcHJlc2VudGFibGUpLgogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGFicyh4OiBpMTI4KTogaTEyOCB7CiAgICAgICAgaWYgKHguaXNOZWcoKSkgewogICAgICAgICAgICAvLyBJZiB4ID09IE1JTiwgLXggY2FuIG92ZXJmbG93LgogICAgICAgICAgICBpZiAoeCA9PSBTYWZlTWF0aEkxMjguTUlOKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhZmVNYXRoSTEyODogYWJzIG92ZXJmbG93IG9uIE1JTicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB4Lm5lZygpOwogICAgICAgIH0KICAgICAgICByZXR1cm4geDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybiB0aGUgbmVnYXRpb24gb2YgeCwgdGhyb3dpbmcgaWYgeCA9PSBNSU4uCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgbmVnKHg6IGkxMjgpOiBpMTI4IHsKICAgICAgICBpZiAoeCA9PSBTYWZlTWF0aEkxMjguTUlOKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2FmZU1hdGhJMTI4OiBuZWcgb3ZlcmZsb3cgb24gTUlOJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB4Lm5lZygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiB0d28gaTEyOHMuCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgbWluKGE6IGkxMjgsIGI6IGkxMjgpOiBpMTI4IHsKICAgICAgICByZXR1cm4gaTEyOC5sdChhLCBiKSA/IGEgOiBiOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgbGFyZ2VyIG9mIHR3byBpMTI4cy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBtYXgoYTogaTEyOCwgYjogaTEyOCk6IGkxMjggewogICAgICAgIHJldHVybiBpMTI4Lmd0KGEsIGIpID8gYSA6IGI7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/b32.ts": "aW1wb3J0IHsgQm94IH0gZnJvbSAnLi9ib3gnOwppbXBvcnQgeyBTdHJpbmcgfSBmcm9tICdzdHJpbmcnOwoKZXhwb3J0IGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9BcnJheShkYXRhOiBBcnJheUJ1ZmZlcik6IEFycmF5PHU4PiB7CiAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXk8dTg+KGRhdGEuYnl0ZUxlbmd0aCk7CiAgICBzdG9yZTx1c2l6ZT4oY2hhbmdldHlwZTx1c2l6ZT4ocmVzdWx0KSwgY2hhbmdldHlwZTx1c2l6ZT4oZGF0YSkpOwogICAgc3RvcmU8dXNpemU+KAogICAgICAgIGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCkgKyBzaXplb2Y8dXNpemU+KCksCiAgICAgICAgY2hhbmdldHlwZTx1c2l6ZT4oZGF0YSksCiAgICApOwogICAgcmV0dXJuIHJlc3VsdDsKfQoKY29uc3QgRU5DT0RJTkdfQ09OU1RfQkVDSDMyOiB1MzIgPSAxOwpjb25zdCBFTkNPRElOR19DT05TVF9CRUNIMzJNOiB1MzIgPSAweDJiYzgzMGEzOwoKLy8gY29uc3QgbGltaXQ6IGkzMiA9IDkwOwpjb25zdCBPTkUgPSBTdHJpbmcuVVRGOC5lbmNvZGUoJzEnKTsKY29uc3QgQUxQSEFCRVRfTUFQOiBTdGF0aWNBcnJheTx1OD4gPSBbCiAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLAogICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMTUsIDAsIDEwLAogICAgMTcsIDIxLCAyMCwgMjYsIDMwLCA3LCA1LCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLAogICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMjksIDAsIDI0LAogICAgMTMsIDI1LCA5LCA4LCAyMywgMCwgMTgsIDIyLCAzMSwgMjcsIDE5LCAwLCAxLCAwLCAzLCAxNiwgMTEsIDI4LCAxMiwgMTQsIDYsIDQsCiAgICAyLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLAogICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwKICAgIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsCiAgICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLAogICAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwKICAgIDAsIDAsIDAsIDAsCl07Cgpjb25zdCBBTFBIQUJFVDogU3RhdGljQXJyYXk8dTg+ID0gWwogICAgMTEzLCAxMTIsIDEyMiwgMTE0LCAxMjEsIDU3LCAxMjAsIDU2LCAxMDMsIDEwMiwgNTAsIDExNiwgMTE4LCAxMDAsIDExOSwgNDgsCiAgICAxMTUsIDUxLCAxMDYsIDExMCwgNTMsIDUyLCAxMDcsIDEwNCwgOTksIDEwMSwgNTQsIDEwOSwgMTE3LCA5NywgNTUsIDEwOCwKXTsKCgpAaW5saW5lCmZ1bmN0aW9uIHBvbHltb2RTdGVwKHByZTogdTMyKTogdTMyIHsKICAgIGNvbnN0IGIgPSBwcmUgPj4gMjU7CiAgICByZXR1cm4gKAogICAgICAgICgocHJlICYgMHgxZmZmZmZmKSA8PCA1KSBeCiAgICAgICAgKC0oKGIgPj4gMCkgJiAxKSAmIDB4M2I2YTU3YjIpIF4KICAgICAgICAoLSgoYiA+PiAxKSAmIDEpICYgMHgyNjUwOGU2ZCkgXgogICAgICAgICgtKChiID4+IDIpICYgMSkgJiAweDFlYTExOWZhKSBeCiAgICAgICAgKC0oKGIgPj4gMykgJiAxKSAmIDB4M2Q0MjMzZGQpIF4KICAgICAgICAoLSgoYiA+PiA0KSAmIDEpICYgMHgyYTE0NjJiMykKICAgICk7Cn0KCgpAaW5saW5lCmZ1bmN0aW9uIGxvb2t1cEJ5dGUobjogdTgpOiB1OCB7CiAgICByZXR1cm4gbG9hZDx1OD4oY2hhbmdldHlwZTx1c2l6ZT4oQUxQSEFCRVRfTUFQKSArIDx1c2l6ZT5uKTsKfQoKCkBpbmxpbmUKZnVuY3Rpb24gZW5jb2RlQnl0ZShuOiB1OCk6IHU4IHsKICAgIHJldHVybiBsb2FkPHU4PihjaGFuZ2V0eXBlPHVzaXplPihBTFBIQUJFVCkgKyA8dXNpemU+bik7Cn0KCmZ1bmN0aW9uIHByZWZpeENoayhwcmVmaXg6IEFycmF5QnVmZmVyKTogdTMyIHsKICAgIGxldCBjaGs6IHUzMiA9IDE7CiAgICBmb3IgKGxldCBpOiBpMzIgPSAwOyBpIDwgcHJlZml4LmJ5dGVMZW5ndGg7ICsraSkgewogICAgICAgIGNvbnN0IGMgPSBsb2FkPHU4PihjaGFuZ2V0eXBlPHVzaXplPihwcmVmaXgpICsgPHVzaXplPmkpOwogICAgICAgIGlmIChjIDwgPHU4PjMzIHx8IGMgPiA8dTg+MTI2KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwcmVmaXggKCcgKyBTdHJpbmcuVVRGOC5kZWNvZGUocHJlZml4KSArICcpJyk7CiAgICAgICAgfQoKICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gKGMgPj4gNSk7CiAgICB9CiAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspOwoKICAgIGZvciAobGV0IGk6IGkzMiA9IDA7IGkgPCBwcmVmaXguYnl0ZUxlbmd0aDsgKytpKSB7CiAgICAgICAgY29uc3QgdiA9IGxvYWQ8dTg+KGNoYW5nZXR5cGU8dXNpemU+KHByZWZpeCkgKyA8dXNpemU+aSk7CiAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeICg8dTMyPih2ICYgKDx1OD4weDFmKSkpOwogICAgfQogICAgcmV0dXJuIGNoazsKfQoKLy8gY29udmVydCBmdW5jdGlvbiB1c2VzIFVpbnQ4QXJyYXkgaW5zdGVhZCBvZiBBcnJheTx1OD4KZnVuY3Rpb24gY29udmVydCgKICAgIGRhdGE6IFVpbnQ4QXJyYXksCiAgICBpbkJpdHM6IHUzMiwKICAgIG91dEJpdHM6IHUzMiwKICAgIHBhZDogYm9vbGVhbiwKKTogVWludDhBcnJheSB7CiAgICBsZXQgdmFsdWUgPSAwOwogICAgbGV0IGJpdHM6IHUzMiA9IDA7CiAgICBjb25zdCBtYXhWID0gKDEgPDwgb3V0Qml0cykgLSAxOwoKICAgIGNvbnN0IHJlc3VsdDogQXJyYXk8dTg+ID0gbmV3IEFycmF5KDApOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhbHVlID0gKHZhbHVlIDw8IGluQml0cykgfCBkYXRhW2ldOwogICAgICAgIGJpdHMgKz0gaW5CaXRzOwoKICAgICAgICB3aGlsZSAoYml0cyA+PSBvdXRCaXRzKSB7CiAgICAgICAgICAgIGJpdHMgLT0gb3V0Qml0czsKICAgICAgICAgICAgcmVzdWx0LnB1c2goPHU4PigodmFsdWUgPj4gYml0cykgJiBtYXhWKSk7CiAgICAgICAgfQogICAgfQoKICAgIGlmIChwYWQpIHsKICAgICAgICBpZiAoYml0cyA+IDApIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goPHU4PigodmFsdWUgPDwgKG91dEJpdHMgLSBiaXRzKSkgJiBtYXhWKSk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBpZiAoYml0cyA+PSBpbkJpdHMpIHRocm93IG5ldyBFcnJvcignRXhjZXNzIHBhZGRpbmcnKTsKICAgICAgICBpZiAoKHZhbHVlIDw8IChvdXRCaXRzIC0gYml0cykpICYgbWF4VikgdGhyb3cgbmV3IEVycm9yKCdOb24temVybyBwYWRkaW5nJyk7CiAgICB9CgogICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkocmVzdWx0Lmxlbmd0aCk7CiAgICBidWZmZXIuc2V0KHJlc3VsdCk7CgogICAgcmV0dXJuIGJ1ZmZlcjsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRvV29yZHMoYnl0ZXM6IEFycmF5QnVmZmVyKTogQXJyYXlCdWZmZXIgewogICAgbGV0IGRhdGEgPSBVaW50OEFycmF5LndyYXAoYnl0ZXMpOwogICAgcmV0dXJuIGZyb21EYXRhU3RhcnQoY29udmVydChkYXRhLCA4LCA1LCB0cnVlKSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUoCiAgICBwcmVmaXg6IEFycmF5QnVmZmVyLAogICAgd29yZHM6IEFycmF5PHU4PiwKICAgIGVuY29kaW5nOiB1MzIsCiAgICBsaW1pdDogaTMyID0gOTAsCik6IEFycmF5QnVmZmVyIHsKICAgIGlmIChwcmVmaXguYnl0ZUxlbmd0aCArIDcgKyB3b3Jkcy5sZW5ndGggPiBsaW1pdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4Y2VlZHMgbGVuZ3RoIGxpbWl0Jyk7CgogICAgbGV0IGNoayA9IHByZWZpeENoayhwcmVmaXgpOwoKICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheUJ1ZmZlcihwcmVmaXguYnl0ZUxlbmd0aCArIDcgKyB3b3Jkcy5sZW5ndGgpOwogICAgbWVtb3J5LmNvcHkoCiAgICAgICAgY2hhbmdldHlwZTx1c2l6ZT4ocmVzdWx0KSwKICAgICAgICBjaGFuZ2V0eXBlPHVzaXplPihwcmVmaXgpLAogICAgICAgIDx1c2l6ZT5wcmVmaXguYnl0ZUxlbmd0aCwKICAgICk7CiAgICBsZXQgcHRyOiB1c2l6ZSA9IGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCkgKyBwcmVmaXguYnl0ZUxlbmd0aDsKICAgIHN0b3JlPHU4PihwdHIsIGxvYWQ8dTg+KGNoYW5nZXR5cGU8dXNpemU+KE9ORSkpKTsKICAgIHB0cisrOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkgewogICAgICAgIGNvbnN0IHggPSB3b3Jkc1tpXTsKICAgICAgICBpZiAoeCA+PiA1ICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ05vbiA1LWJpdCB3b3JkJyk7CiAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIHg7CiAgICAgICAgc3RvcmU8dTg+KHB0ciArIGksIGVuY29kZUJ5dGUoeCkpOwogICAgfQogICAgcHRyICs9IDx1c2l6ZT53b3Jkcy5sZW5ndGg7CgogICAgZm9yIChsZXQgaTogdTMyID0gMDsgaSA8IDY7ICsraSkgewogICAgICAgIGNoayA9IHBvbHltb2RTdGVwKGNoayk7CiAgICB9CiAgICBjaGsgXj0gZW5jb2Rpbmc7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyArK2kpIHsKICAgICAgICBjb25zdCB2ID0gKGNoayA+PiAoKDUgLSBpKSAqIDUpKSAmIDB4MWY7CiAgICAgICAgc3RvcmU8dTg+KHB0ciArIGksIGVuY29kZUJ5dGUoPHU4PnYpKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0Owp9CgpleHBvcnQgY2xhc3MgRGVjb2RlZCB7CiAgICBwdWJsaWMgcHJlZml4OiBBcnJheUJ1ZmZlcjsKICAgIHB1YmxpYyB3b3JkczogQXJyYXlCdWZmZXI7CgogICAgY29uc3RydWN0b3IocHJlZml4OiBBcnJheUJ1ZmZlciwgd29yZHM6IEFycmF5QnVmZmVyKSB7CiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7CiAgICAgICAgdGhpcy53b3JkcyA9IHdvcmRzOwogICAgfQoKICAgIHN0YXRpYyBmcm9tKHByZWZpeDogQXJyYXlCdWZmZXIsIHdvcmRzOiBBcnJheUJ1ZmZlcik6IERlY29kZWQgewogICAgICAgIHJldHVybiBuZXcgRGVjb2RlZChwcmVmaXgsIHdvcmRzKTsKICAgIH0KfQoKY29uc3QgREVGQVVMVF9MSU1JVDogdTMyID0gOTA7CgpmdW5jdGlvbiBfX2RlY29kZURlZmF1bHQoc3RyOiBzdHJpbmcpOiBEZWNvZGVkIHsKICAgIHJldHVybiBfX2RlY29kZShzdHIsIERFRkFVTFRfTElNSVQpOwp9CgpmdW5jdGlvbiBfX2RlY29kZShzdHI6IHN0cmluZywgbGltaXQ6IHUzMik6IERlY29kZWQgewogICAgaWYgKHN0ci5sZW5ndGggPCA4KSByZXR1cm4gY2hhbmdldHlwZTxEZWNvZGVkPigwKTsKICAgIGlmIChzdHIubGVuZ3RoID4gPGkzMj5saW1pdCkgcmV0dXJuIGNoYW5nZXR5cGU8RGVjb2RlZD4oMCk7CgogICAgLy8gZG9uJ3QgYWxsb3cgbWl4ZWQgY2FzZQogICAgY29uc3QgbG93ZXJlZCA9IHN0ci50b0xvd2VyQ2FzZSgpOwogICAgY29uc3QgdXBwZXJlZCA9IHN0ci50b1VwcGVyQ2FzZSgpOwogICAgaWYgKHN0ciAhPT0gbG93ZXJlZCAmJiBzdHIgIT09IHVwcGVyZWQpIHJldHVybiBjaGFuZ2V0eXBlPERlY29kZWQ+KDApOwogICAgc3RyID0gbG93ZXJlZDsKCiAgICBjb25zdCBzcGxpdCA9IHN0ci5sYXN0SW5kZXhPZignMScpOwogICAgaWYgKHNwbGl0ID09PSAtMSkgcmV0dXJuIGNoYW5nZXR5cGU8RGVjb2RlZD4oMCk7CiAgICBpZiAoc3BsaXQgPT09IDApIHJldHVybiBjaGFuZ2V0eXBlPERlY29kZWQ+KDApOwoKICAgIGNvbnN0IGJ1ZmZlciA9IFN0cmluZy5VVEY4LmVuY29kZShzdHIpOwogICAgY29uc3QgcHJlZml4ID0gQm94LmZyb20oYnVmZmVyKS5zZXRMZW5ndGgoc3BsaXQpLnRvQXJyYXlCdWZmZXIoKTsKICAgIGNvbnN0IHdvcmRDaGFycyA9IEJveC5mcm9tKGJ1ZmZlcikuc2hyaW5rRnJvbnQoc3BsaXQgKyAxKS50b0FycmF5QnVmZmVyKCk7CiAgICBpZiAod29yZENoYXJzLmJ5dGVMZW5ndGggPCA2KSByZXR1cm4gY2hhbmdldHlwZTxEZWNvZGVkPigwKTsKCiAgICBsZXQgY2hrID0gcHJlZml4Q2hrKHByZWZpeCk7CgogICAgY29uc3Qgd29yZHMgPSBuZXcgVWludDhBcnJheSh3b3JkQ2hhcnMuYnl0ZUxlbmd0aCk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRDaGFycy5ieXRlTGVuZ3RoOyArK2kpIHsKICAgICAgICBjb25zdCBjID0gbG9hZDx1OD4oY2hhbmdldHlwZTx1c2l6ZT4od29yZENoYXJzKSArIDx1c2l6ZT5pKTsKICAgICAgICBjb25zdCB2ID0gbG9va3VwQnl0ZShjKTsKICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gdjsKCiAgICAgICAgLy8gbm90IGluIHRoZSBjaGVja3N1bT8KICAgICAgICBpZiAoaSArIDYgPj0gd29yZENoYXJzLmJ5dGVMZW5ndGgpIGNvbnRpbnVlOwogICAgICAgIHdvcmRzW2ldID0gdjsKICAgIH0KCiAgICAvLyBpZiAoY2hrICE9PSBFTkNPRElOR19DT05TVCkgcmV0dXJuIGNoYW5nZXR5cGU8RGVjb2RlZD4oMCk7CiAgICByZXR1cm4gRGVjb2RlZC5mcm9tKHByZWZpeCwgZnJvbURhdGFTdGFydCh3b3JkcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gZnJvbURhdGFTdGFydDxUIGV4dGVuZHMgVWludDhBcnJheT4odjogVCk6IEFycmF5QnVmZmVyIHsKICAgIHJldHVybiBCb3guZnJvbShjaGFuZ2V0eXBlPEFycmF5QnVmZmVyPih2LmRhdGFTdGFydCkpLnNldExlbmd0aCh2Lmxlbmd0aCkudG9BcnJheUJ1ZmZlcigpOwp9CgpleHBvcnQgZnVuY3Rpb24gZnJvbVdvcmRzKHdvcmRzOiBBcnJheUJ1ZmZlcik6IEFycmF5QnVmZmVyIHsKICAgIGNvbnN0IGNvbnZlcnRlZCA9IGNvbnZlcnQoVWludDhBcnJheS53cmFwKHdvcmRzKSwgNSwgOCwgZmFsc2UpOwogICAgcmV0dXJuIGNvbnZlcnRlZC5idWZmZXI7Cn0KCmV4cG9ydCBmdW5jdGlvbiBiMzJkZWNvZGUoc3RyOiBzdHJpbmcpOiBEZWNvZGVkIHsKICAgIHJldHVybiBfX2RlY29kZURlZmF1bHQoc3RyKTsKfQoKCmV4cG9ydCBmdW5jdGlvbiBiZWNoMzJtKHByZWZpeDogQXJyYXlCdWZmZXIsIHdvcmRzOiBBcnJheUJ1ZmZlcik6IEFycmF5QnVmZmVyIHsKICAgIHJldHVybiBlbmNvZGUocHJlZml4LCBhcnJheUJ1ZmZlclRvQXJyYXkod29yZHMpLCBFTkNPRElOR19DT05TVF9CRUNIMzJNKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGJlY2gzMihwcmVmaXg6IEFycmF5QnVmZmVyLCB3b3JkczogQXJyYXlCdWZmZXIpOiBBcnJheUJ1ZmZlciB7CiAgICByZXR1cm4gZW5jb2RlKHByZWZpeCwgYXJyYXlCdWZmZXJUb0FycmF5KHdvcmRzKSwgRU5DT0RJTkdfQ09OU1RfQkVDSDMyKTsKfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/box.ts": "aW1wb3J0IHsgZW5jb2RlSGV4LCBlbmNvZGVIZXhVVEY4IH0gZnJvbSAnLi9oZXgnOwoKZXhwb3J0IGZ1bmN0aW9uIG51bGxwdHI8VD4oKTogVCB7CiAgICByZXR1cm4gY2hhbmdldHlwZTxUPigwKTsKfQoKZXhwb3J0IGNsYXNzIEJveCB7CiAgICBwdWJsaWMgc3RhcnQ6IHVzaXplOwogICAgcHVibGljIGxlbjogdXNpemU7CgogICAgY29uc3RydWN0b3Ioc3RhcnQ6IHVzaXplLCBsZW46IHVzaXplKSB7CiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0OwogICAgICAgIHRoaXMubGVuID0gbGVuOwogICAgfQoKICAgIHN0YXRpYyBjb25jYXQoZGF0YTogQXJyYXk8Qm94Pik6IEFycmF5QnVmZmVyIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXlCdWZmZXIoCiAgICAgICAgICAgIGRhdGEucmVkdWNlPGkzMj4oKHI6IGkzMiwgdjogQm94LCBpOiBpMzIsIGFyeTogQXJyYXk8Qm94PikgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHIgKyA8aTMyPnYubGVuOwogICAgICAgICAgICB9LCAwKSwKICAgICAgICApOwogICAgICAgIGRhdGEucmVkdWNlPHVzaXplPigocjogdXNpemUsIHY6IEJveCwgaTogaTMyLCBhcnk6IEFycmF5PEJveD4pID0+IHsKICAgICAgICAgICAgbWVtb3J5LmNvcHkociwgdi5zdGFydCwgdi5sZW4pOwogICAgICAgICAgICByZXR1cm4gciArIHYubGVuOwogICAgICAgIH0sIGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCkpOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgc3RhdGljIGZyb20oZGF0YTogQXJyYXlCdWZmZXIpOiBCb3ggewogICAgICAgIHJldHVybiBuZXcgQm94KGNoYW5nZXR5cGU8dXNpemU+KGRhdGEpLCBkYXRhLmJ5dGVMZW5ndGgpOwogICAgfQoKICAgIHN0YXRpYyBjb3B5KGRhdGE6IEFycmF5QnVmZmVyKTogQm94IHsKICAgICAgICBjb25zdCBwdHIgPSBoZWFwLmFsbG9jKGRhdGEuYnl0ZUxlbmd0aCk7CiAgICAgICAgbWVtb3J5LmNvcHkocHRyLCBjaGFuZ2V0eXBlPHVzaXplPihkYXRhKSwgPHVzaXplPmRhdGEuYnl0ZUxlbmd0aCk7CiAgICAgICAgcmV0dXJuIG5ldyBCb3gocHRyLCA8dXNpemU+ZGF0YS5ieXRlTGVuZ3RoKTsKICAgIH0KCiAgICBzdGF0aWMgZnJlZUNvcHkodjogQm94KTogdm9pZCB7CiAgICAgICAgaGVhcC5mcmVlKHYuc3RhcnQpOwogICAgfQoKICAgIHN0YXRpYyBmcm9tVHlwZWQ8VD4odjogVCk6IEJveCB7CiAgICAgICAgLy8gY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHNpemVvZjxUPih2KSk7CiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG9mZnNldG9mPFQ+KCkpOwogICAgICAgIHN0b3JlPFQ+KGNoYW5nZXR5cGU8dXNpemU+KGJ1ZmZlciksIHYpOwogICAgICAgIHJldHVybiBCb3guY29weShidWZmZXIpOwogICAgfQoKICAgIHRvSGV4U3RyaW5nKCk6IHN0cmluZyB7CiAgICAgICAgcmV0dXJuIGVuY29kZUhleCh0aGlzLnN0YXJ0LCB0aGlzLmxlbik7CiAgICB9CgogICAgdG9IZXhVVEY4KCk6IEFycmF5QnVmZmVyIHsKICAgICAgICByZXR1cm4gZW5jb2RlSGV4VVRGOCh0aGlzLnN0YXJ0LCB0aGlzLmxlbik7CiAgICB9CgogICAgc2hpZnQoKTogQm94IHsKICAgICAgICBpZiAodGhpcy5sZW4gPT0gMCkgewogICAgICAgICAgICByZXR1cm4gbnVsbHB0cjxCb3g+KCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLnN0YXJ0ICsgMTsKICAgICAgICB0aGlzLmxlbiA9IHRoaXMubGVuIC0gMTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBzbGljZUZyb20oc3RhcnQ6IHVzaXplKTogQm94IHsKICAgICAgICByZXR1cm4gbmV3IEJveCh0aGlzLnN0YXJ0ICsgc3RhcnQsIHRoaXMubGVuIC0gc3RhcnQpOwogICAgfQoKICAgIHNsaWNlVG8ocHRyOiB1c2l6ZSk6IEJveCB7CiAgICAgICAgaWYgKHB0ciA+IHRoaXMuc3RhcnQgKyB0aGlzLmxlbikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3B0ciBpcyBvdXQgb2YgYm91bmRzJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQm94KHRoaXMuc3RhcnQsIHB0ciAtIHRoaXMuc3RhcnQpOwogICAgfQoKICAgIHNocmlua0Zyb250KGRpc3RhbmNlOiB1c2l6ZSk6IEJveCB7CiAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQgKyBkaXN0YW5jZTsKICAgICAgICB0aGlzLmxlbiA9IHRoaXMubGVuIC0gZGlzdGFuY2U7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgZ3Jvd0Zyb250KGRpc3RhbmNlOiB1c2l6ZSk6IEJveCB7CiAgICAgICAgdGhpcy5zdGFydCA9IHRoaXMuc3RhcnQgLSBkaXN0YW5jZTsKICAgICAgICB0aGlzLmxlbiA9IHRoaXMubGVuICsgZGlzdGFuY2U7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgc2hyaW5rQmFjayhkaXN0YW5jZTogdXNpemUpOiBCb3ggewogICAgICAgIHRoaXMubGVuID0gdGhpcy5sZW4gLSBkaXN0YW5jZTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBncm93QmFjayhkaXN0YW5jZTogdXNpemUpOiBCb3ggewogICAgICAgIHRoaXMubGVuID0gdGhpcy5sZW4gKyBkaXN0YW5jZTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBzZXRMZW5ndGgobGVuOiB1c2l6ZSk6IEJveCB7CiAgICAgICAgdGhpcy5sZW4gPSBsZW47CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgdG9BcnJheUJ1ZmZlcigpOiBBcnJheUJ1ZmZlciB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5QnVmZmVyKDxpMzI+dGhpcy5sZW4pOwogICAgICAgIG1lbW9yeS5jb3B5KGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCksIHRoaXMuc3RhcnQsIHRoaXMubGVuKTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7CiAgICAgICAgcmV0dXJuIHRoaXMubGVuID09IDA7CiAgICB9Cn0KCmV4cG9ydCBjbGFzcyBSQ0JveCBleHRlbmRzIEJveCB7CiAgICBwdWJsaWMgYnVmZmVyOiBBcnJheUJ1ZmZlcjsKCiAgICBjb25zdHJ1Y3Rvcih2OiBBcnJheUJ1ZmZlcikgewogICAgICAgIHN1cGVyKGNoYW5nZXR5cGU8dXNpemU+KHYpLCA8dXNpemU+di5ieXRlTGVuZ3RoKTsKICAgICAgICB0aGlzLmJ1ZmZlciA9IHY7CiAgICB9CgogICAgc3RhdGljIGZyb20odjogQXJyYXlCdWZmZXIpOiBSQ0JveCB7CiAgICAgICAgcmV0dXJuIG5ldyBSQ0JveCh2KTsKICAgIH0KCiAgICBzdGF0aWMgZnJvbVR5cGVkPFQ+KHY6IFQpOiBSQ0JveCB7CiAgICAgICAgLy8gY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHNpemVvZjxUPih2KSk7CiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG9mZnNldG9mPFQ+KCkpOwogICAgICAgIHN0b3JlPFQ+KGNoYW5nZXR5cGU8dXNpemU+KGJ1ZmZlciksIHYpOwogICAgICAgIHJldHVybiBSQ0JveC5mcm9tKGJ1ZmZlcik7CiAgICB9Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/encodings.ts": "aW1wb3J0IHsgdTI1NiB9IGZyb20gJ0BidGMtdmlzaW9uL2FzLWJpZ251bS9hc3NlbWJseSc7CgppbXBvcnQgeyBiMzJkZWNvZGUgYXMgX2IzMmRlY29kZSwgYmVjaDMybSBhcyBfYmVjaDMybSwgZnJvbVdvcmRzLCB0b1dvcmRzIH0gZnJvbSAnLi9iMzInOwoKZXhwb3J0IGZ1bmN0aW9uIGJlY2gzMm0odjogdTI1Nik6IHN0cmluZyB7CiAgICByZXR1cm4gU3RyaW5nLlVURjguZGVjb2RlKF9iZWNoMzJtKFN0cmluZy5VVEY4LmVuY29kZSgnYmMnKSwgdG9Xb3Jkcyh0b0FycmF5QnVmZmVyKHYpKSkpOwp9CgpleHBvcnQgZnVuY3Rpb24gYjMyZGVjb2RlKHY6IHN0cmluZyk6IFVpbnQ4QXJyYXkgewogICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcihmcm9tV29yZHMoX2IzMmRlY29kZSh2KS53b3JkcykpOwp9CgpleHBvcnQgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0FycmF5KGRhdGE6IEFycmF5QnVmZmVyKTogQXJyYXk8dTg+IHsKICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheTx1OD4oZGF0YS5ieXRlTGVuZ3RoKTsKICAgIHN0b3JlPHVzaXplPihjaGFuZ2V0eXBlPHVzaXplPihyZXN1bHQpLCBjaGFuZ2V0eXBlPHVzaXplPihkYXRhKSk7CiAgICBzdG9yZTx1c2l6ZT4oY2hhbmdldHlwZTx1c2l6ZT4ocmVzdWx0KSArIHNpemVvZjx1c2l6ZT4oKSwgY2hhbmdldHlwZTx1c2l6ZT4oZGF0YSkpOwogICAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXlCdWZmZXI8VCBleHRlbmRzIHUyNTY+KGRhdGE6IFQpOiBBcnJheUJ1ZmZlciB7CiAgICBjb25zdCBieXRlcyA9IGRhdGEudG9CeXRlcygpOwogICAgcmV0dXJuIGNoYW5nZXR5cGU8VWludDhBcnJheT4oYnl0ZXMpLmJ1ZmZlcjsKfQoKZXhwb3J0IGZ1bmN0aW9uIHByaW1pdGl2ZVRvQnVmZmVyPFQ+KHZhbHVlOiBUKTogQXJyYXlCdWZmZXIgewogICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHNpemVvZjxUPigpKTsKICAgIHN0b3JlPFQ+KGNoYW5nZXR5cGU8dXNpemU+KGJ1ZmZlciksIHZhbHVlKTsKICAgIHJldHVybiBidWZmZXI7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIoZGF0YTogQXJyYXlCdWZmZXIpOiBVaW50OEFycmF5IHsKICAgIGlmIChkYXRhLmJ5dGVMZW5ndGggPT09IDApIHJldHVybiBuZXcgVWludDhBcnJheSgwKTsKICAgIHJldHVybiBVaW50OEFycmF5LndyYXAoZGF0YSk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoYTogQXJyYXlCdWZmZXIsIGI6IEFycmF5QnVmZmVyKTogQXJyYXlCdWZmZXIgewogICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5QnVmZmVyKGEuYnl0ZUxlbmd0aCArIGIuYnl0ZUxlbmd0aCk7CiAgICBtZW1vcnkuY29weShjaGFuZ2V0eXBlPHVzaXplPihyZXN1bHQpLCBjaGFuZ2V0eXBlPHVzaXplPihhKSwgPHVzaXplPmEuYnl0ZUxlbmd0aCk7CiAgICBtZW1vcnkuY29weSgKICAgICAgICBjaGFuZ2V0eXBlPHVzaXplPihyZXN1bHQpICsgPHVzaXplPmEuYnl0ZUxlbmd0aCwKICAgICAgICBjaGFuZ2V0eXBlPHVzaXplPihiKSwKICAgICAgICA8dXNpemU+Yi5ieXRlTGVuZ3RoLAogICAgKTsKICAgIHJldHVybiByZXN1bHQ7Cn0K",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/hex.ts": "Y29uc3QgaGV4TG9va3VwVGFibGU6IFN0YXRpY0FycmF5PHU4PiA9IFsKICAgIDQ4LCA0OCwgNDgsIDQ5LCA0OCwgNTAsIDQ4LCA1MSwgNDgsIDUyLCA0OCwgNTMsIDQ4LCA1NCwgNDgsIDU1LCA0OCwgNTYsIDQ4LCA1NywgNDgsIDk3LCA0OCwgOTgsCiAgICA0OCwgOTksIDQ4LCAxMDAsIDQ4LCAxMDEsIDQ4LCAxMDIsIDQ5LCA0OCwgNDksIDQ5LCA0OSwgNTAsIDQ5LCA1MSwgNDksIDUyLCA0OSwgNTMsIDQ5LCA1NCwgNDksCiAgICA1NSwgNDksIDU2LCA0OSwgNTcsIDQ5LCA5NywgNDksIDk4LCA0OSwgOTksIDQ5LCAxMDAsIDQ5LCAxMDEsIDQ5LCAxMDIsIDUwLCA0OCwgNTAsIDQ5LCA1MCwgNTAsCiAgICA1MCwgNTEsIDUwLCA1MiwgNTAsIDUzLCA1MCwgNTQsIDUwLCA1NSwgNTAsIDU2LCA1MCwgNTcsIDUwLCA5NywgNTAsIDk4LCA1MCwgOTksIDUwLCAxMDAsIDUwLAogICAgMTAxLCA1MCwgMTAyLCA1MSwgNDgsIDUxLCA0OSwgNTEsIDUwLCA1MSwgNTEsIDUxLCA1MiwgNTEsIDUzLCA1MSwgNTQsIDUxLCA1NSwgNTEsIDU2LCA1MSwgNTcsCiAgICA1MSwgOTcsIDUxLCA5OCwgNTEsIDk5LCA1MSwgMTAwLCA1MSwgMTAxLCA1MSwgMTAyLCA1MiwgNDgsIDUyLCA0OSwgNTIsIDUwLCA1MiwgNTEsIDUyLCA1MiwgNTIsCiAgICA1MywgNTIsIDU0LCA1MiwgNTUsIDUyLCA1NiwgNTIsIDU3LCA1MiwgOTcsIDUyLCA5OCwgNTIsIDk5LCA1MiwgMTAwLCA1MiwgMTAxLCA1MiwgMTAyLCA1MywgNDgsCiAgICA1MywgNDksIDUzLCA1MCwgNTMsIDUxLCA1MywgNTIsIDUzLCA1MywgNTMsIDU0LCA1MywgNTUsIDUzLCA1NiwgNTMsIDU3LCA1MywgOTcsIDUzLCA5OCwgNTMsIDk5LAogICAgNTMsIDEwMCwgNTMsIDEwMSwgNTMsIDEwMiwgNTQsIDQ4LCA1NCwgNDksIDU0LCA1MCwgNTQsIDUxLCA1NCwgNTIsIDU0LCA1MywgNTQsIDU0LCA1NCwgNTUsIDU0LAogICAgNTYsIDU0LCA1NywgNTQsIDk3LCA1NCwgOTgsIDU0LCA5OSwgNTQsIDEwMCwgNTQsIDEwMSwgNTQsIDEwMiwgNTUsIDQ4LCA1NSwgNDksIDU1LCA1MCwgNTUsIDUxLAogICAgNTUsIDUyLCA1NSwgNTMsIDU1LCA1NCwgNTUsIDU1LCA1NSwgNTYsIDU1LCA1NywgNTUsIDk3LCA1NSwgOTgsIDU1LCA5OSwgNTUsIDEwMCwgNTUsIDEwMSwgNTUsCiAgICAxMDIsIDU2LCA0OCwgNTYsIDQ5LCA1NiwgNTAsIDU2LCA1MSwgNTYsIDUyLCA1NiwgNTMsIDU2LCA1NCwgNTYsIDU1LCA1NiwgNTYsIDU2LCA1NywgNTYsIDk3LCA1NiwKICAgIDk4LCA1NiwgOTksIDU2LCAxMDAsIDU2LCAxMDEsIDU2LCAxMDIsIDU3LCA0OCwgNTcsIDQ5LCA1NywgNTAsIDU3LCA1MSwgNTcsIDUyLCA1NywgNTMsIDU3LCA1NCwKICAgIDU3LCA1NSwgNTcsIDU2LCA1NywgNTcsIDU3LCA5NywgNTcsIDk4LCA1NywgOTksIDU3LCAxMDAsIDU3LCAxMDEsIDU3LCAxMDIsIDk3LCA0OCwgOTcsIDQ5LCA5NywKICAgIDUwLCA5NywgNTEsIDk3LCA1MiwgOTcsIDUzLCA5NywgNTQsIDk3LCA1NSwgOTcsIDU2LCA5NywgNTcsIDk3LCA5NywgOTcsIDk4LCA5NywgOTksIDk3LCAxMDAsIDk3LAogICAgMTAxLCA5NywgMTAyLCA5OCwgNDgsIDk4LCA0OSwgOTgsIDUwLCA5OCwgNTEsIDk4LCA1MiwgOTgsIDUzLCA5OCwgNTQsIDk4LCA1NSwgOTgsIDU2LCA5OCwgNTcsCiAgICA5OCwgOTcsIDk4LCA5OCwgOTgsIDk5LCA5OCwgMTAwLCA5OCwgMTAxLCA5OCwgMTAyLCA5OSwgNDgsIDk5LCA0OSwgOTksIDUwLCA5OSwgNTEsIDk5LCA1MiwgOTksCiAgICA1MywgOTksIDU0LCA5OSwgNTUsIDk5LCA1NiwgOTksIDU3LCA5OSwgOTcsIDk5LCA5OCwgOTksIDk5LCA5OSwgMTAwLCA5OSwgMTAxLCA5OSwgMTAyLCAxMDAsIDQ4LAogICAgMTAwLCA0OSwgMTAwLCA1MCwgMTAwLCA1MSwgMTAwLCA1MiwgMTAwLCA1MywgMTAwLCA1NCwgMTAwLCA1NSwgMTAwLCA1NiwgMTAwLCA1NywgMTAwLCA5NywgMTAwLAogICAgOTgsIDEwMCwgOTksIDEwMCwgMTAwLCAxMDAsIDEwMSwgMTAwLCAxMDIsIDEwMSwgNDgsIDEwMSwgNDksIDEwMSwgNTAsIDEwMSwgNTEsIDEwMSwgNTIsIDEwMSwgNTMsCiAgICAxMDEsIDU0LCAxMDEsIDU1LCAxMDEsIDU2LCAxMDEsIDU3LCAxMDEsIDk3LCAxMDEsIDk4LCAxMDEsIDk5LCAxMDEsIDEwMCwgMTAxLCAxMDEsIDEwMSwgMTAyLAogICAgMTAyLCA0OCwgMTAyLCA0OSwgMTAyLCA1MCwgMTAyLCA1MSwgMTAyLCA1MiwgMTAyLCA1MywgMTAyLCA1NCwgMTAyLCA1NSwgMTAyLCA1NiwgMTAyLCA1NywgMTAyLAogICAgOTcsIDEwMiwgOTgsIDEwMiwgOTksIDEwMiwgMTAwLCAxMDIsIDEwMSwgMTAyLCAxMDIsCl07CgpleHBvcnQgZnVuY3Rpb24gZW5jb2RlSGV4VVRGOChzdGFydDogdXNpemUsIGxlbjogdXNpemUpOiBBcnJheUJ1ZmZlciB7CiAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXlCdWZmZXIoMiArIDxpMzI+bGVuICogMik7CiAgICBzdG9yZTx1MTY+KGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCksIDx1MTY+MHg3ODMwKTsKICAgIGZvciAobGV0IGk6IHVzaXplID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgc3RvcmU8dTE2PigKICAgICAgICAgICAgMiArIGNoYW5nZXR5cGU8dXNpemU+KHJlc3VsdCkgKyBpICogMiwKICAgICAgICAgICAgbG9hZDx1MTY+KGNoYW5nZXR5cGU8dXNpemU+KGhleExvb2t1cFRhYmxlKSArIDIgKiBsb2FkPHU4PihzdGFydCArIGkpKSwKICAgICAgICApOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfQoKZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUhleChzdGFydDogdXNpemUsIGxlbjogdXNpemUpOiBzdHJpbmcgewogICAgcmV0dXJuIFN0cmluZy5VVEY4LmRlY29kZShlbmNvZGVIZXhVVEY4KHN0YXJ0LCBsZW4pKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUhleEZyb21CdWZmZXIoZGF0YTogQXJyYXlCdWZmZXIpOiBzdHJpbmcgewogICAgcmV0dXJuIGVuY29kZUhleChjaGFuZ2V0eXBlPHVzaXplPihkYXRhKSwgZGF0YS5ieXRlTGVuZ3RoKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGRlY29kZUhleChoZXg6IHN0cmluZyk6IEFycmF5QnVmZmVyIHsKICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheUJ1ZmZlcihoZXgubGVuZ3RoIC8gMik7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhleC5sZW5ndGg7IGkgKz0gMikgewogICAgICAgIHN0b3JlPHU4PihjaGFuZ2V0eXBlPHVzaXplPihyZXN1bHQpICsgaSAvIDIsIDx1OD5wYXJzZUludChoZXguc3Vic3RyaW5nKGksIGkgKyAyKSwgMTYpKTsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7Cn0KCmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVIZXhBcnJheShoZXg6IHN0cmluZyk6IHU4W10gewogICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5PHU4PihoZXgubGVuZ3RoIC8gMik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZXgubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgICByZXN1bHRbaSAvIDJdID0gPHU4PnBhcnNlSW50KGhleC5zdWJzdHJpbmcoaSwgaSArIDIpLCAxNik7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKfQo=",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/index.ts": "ZXhwb3J0ICogZnJvbSAnLi9ib3gnOwpleHBvcnQgKiBmcm9tICcuL2VuY29kaW5ncyc7CmV4cG9ydCAqIGZyb20gJy4vaGV4JzsKZXhwb3J0ICogZnJvbSAnLi9sZW5ndGhzJzsK",
  "node_modules/@btc-vision/btc-runtime/runtime/utils/lengths.ts": "ZXhwb3J0IGNvbnN0IEFERFJFU1NfQllURV9MRU5HVEg6IGkzMiA9IDMyOwpleHBvcnQgY29uc3QgU0VMRUNUT1JfQllURV9MRU5HVEg6IGkzMiA9IDQ7CgpleHBvcnQgY29uc3QgVTI1Nl9CWVRFX0xFTkdUSDogaTMyID0gMzI7CmV4cG9ydCBjb25zdCBVMTI4X0JZVEVfTEVOR1RIOiBpMzIgPSAxNjsKZXhwb3J0IGNvbnN0IFU2NF9CWVRFX0xFTkdUSDogaTMyID0gODsKZXhwb3J0IGNvbnN0IFUzMl9CWVRFX0xFTkdUSDogaTMyID0gNDsKZXhwb3J0IGNvbnN0IFUxNl9CWVRFX0xFTkdUSDogaTMyID0gMjsKZXhwb3J0IGNvbnN0IFU4X0JZVEVfTEVOR1RIOiBpMzIgPSAxOwoKZXhwb3J0IGNvbnN0IEkxMjhfQllURV9MRU5HVEg6IGkzMiA9IDE2OwpleHBvcnQgY29uc3QgSTY0X0JZVEVfTEVOR1RIOiBpMzIgPSA4OwpleHBvcnQgY29uc3QgSTMyX0JZVEVfTEVOR1RIOiBpMzIgPSA0OwpleHBvcnQgY29uc3QgSTE2X0JZVEVfTEVOR1RIOiBpMzIgPSAyOwpleHBvcnQgY29uc3QgSThfQllURV9MRU5HVEg6IGkzMiA9IDE7CgpleHBvcnQgY29uc3QgQk9PTEVBTl9CWVRFX0xFTkdUSDogaTMyID0gMTsK"
}